<?xml version="1.0" encoding="iso-8859-2"?>
<!-- Synced with 1.101 (deprecated CVS)-->
<!-- synced with 17595 (svn) -->
<!-- Opiekun: Qba -->
<chapter id="mencoder">
<title>Podstawy u¿ywania <application>MEncodera</application></title>

<para>
Pe³na lista dostêpnych opcji <application>MEncodera</application> oraz
przyk³ady znajduj± siê na stronie man. W pliku
<ulink url="../../tech/encoding-tips.txt">encoding-tips</ulink>
znajduje siê du¿o przyk³adów i przewodników skompletowanych z wielu w±tków
listy dyskusyjnej MPlayer-users.
W <ulink url="http://mplayerhq.hu/pipermail/mplayer-users/">archiwum</ulink>
znajdziesz mnóstwo dyskusji o aspektach i problemach zwi±zanych z kodowaniem
przy pomocy <application>MEncodera</application>.
</para>

<sect1 id="menc-feat-selecting-codec">
<title>Wybieranie kodeka i formatu</title>

<para>
  Kodeki audio i video stosowane przy kodowaniu s± wybierane odpowiednio
  opcjami <option>-oac</option> i <option>-ovc</option>.
  Napisz na przyk³ad:
  <screen>mencoder -ovc help</screen>
  by uzyskaæ listê wszystkich kodeków video obs³ugiwanych przez
  <application>MEncodera</application> na Twoim komputerze.
  Dostêpne s± nastêpuj±ce:
</para>
<para>
Kodeki audio:

<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Nazwa kodeka audio</entry><entry>Opis</entry></row>
</thead>
<tbody>
  <row>
    <entry>mp3lame</entry>
    <entry>Kodowanie na MP3 VBR, ABR lub przy u¿yciu LAME</entry>
  </row>
  <row>
    <entry>lavc</entry>
    <entry>U¿ywa jednego z kodeków audio z <link linkend="menc-feat-enc-libavcodec-audio-codecs"><systemitem class="library">libavcodec</systemitem></link>
    </entry>
  </row>
  <row>
    <entry>faac</entry>
    <entry>Koder audio FAAC AAC</entry>
  </row>
  <row>
    <entry>toolame</entry>
    <entry>Koder MPEG Audio Layer 2</entry>
  </row>
  <row>
    <entry>twolame</entry>
    <entry>Koder MPEG Audio Layer 2 encoder oparty na tooLAME</entry>
  </row>
  <row>
    <entry>pcm</entry>
    <entry>Nieskompresowany d¼wiêk PCM</entry>
  </row>
  <row>
    <entry>copy</entry>
    <entry>Nie przekodowywuj, tylko przekopiuj zakodowane ramki</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
</para>

<para>
Kodeki video:
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Nazwa kodeka video</entry><entry>Opis</entry></row>
</thead>
<tbody>
  <row>
    <entry>lavc</entry>
    <entry>U¿ywa jednego z kodeków video z <link linkend="menc-feat-enc-libavcodec-video-codecs"><systemitem class="library">libavcodec</systemitem></link>
    </entry>
  </row>
  <row>
    <entry>xvid</entry>
    <entry>XviD, kodek MPEG-4 Advanced Simple Profile (ASP)</entry>
  </row>
  <row>
    <entry>x264</entry>
    <entry>x264, MPEG-4 Advanced Video Coding (AVC), zwany kodekiem H.264</entry>
  </row>
  <row>
    <entry>nuv</entry>
    <entry>nuppel video, u¿ywany przez niektóre aplikacje czasu rzeczywistego</entry>
  </row>
  <row>
    <entry>raw</entry>
    <entry>Nieskompresowane klatki video</entry>
  </row>
  <row>
    <entry>copy</entry>
    <entry>Nie przekodowywuj, tylko przekopiuj zakodowane ramki</entry>
  </row>
  <row>
    <entry>frameno</entry>
    <entry>U¿ywany do kodowania trójprzebiegowego (nie zalecane)</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
</para>
<para>
  Format wyj¶ciowy wybiera siê opcj± <option>-of</option>.
  Napisz:
  <screen>mencoder -of help</screen>
  by otrzymaæ listê wszystkich formatów obs³ugiwanych przez
  <application>MEncodera</application> na Twoim komputerze.
</para>
<para>
Formaty przechowywania:
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Nazwa formatu</entry><entry>Opis</entry></row>
</thead>
<tbody>
  <row>
    <entry>lavf</entry>
    <entry>Jeden z formatów obs³ugiwanych przez
    <systemitem class="library">libavformat</systemitem></entry>
  </row>
  <row>
    <entry>avi</entry>
    <entry>Audio-Video Interleaved (Przeplecione Audio-Video)</entry>
  </row>
  <row>
    <entry>mpeg</entry>
    <entry>MPEG-1 i MPEG-2 PS</entry>
  </row>
  <row>
    <entry>rawvideo</entry>
    <entry>surowy strumieñ video (bez muxowania - tylko jeden strumieñ video)</entry>
  </row>
  <row>
    <entry>rawaudio</entry>
    <entry>surowy strumieñ audio (bez muxowania - tylko jeden strumieñ audio)</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
  Format AVI jest podstawowym formatem <application>MEncodera</application>,
  co oznacza ¿e jest najlepiej obs³ugiwany i ¿e
  <application>MEncoder</application> by³ projektowany z my¶l± o nim.
  Jak napisano wcze¶niej, mo¿na u¿ywaæ innych formatów, ale mo¿esz napotkaæ
  przy tym problemy.
</para>

<para>
<systemitem class="library">libavformat</systemitem> containers:
</para>
<para>
  Je¶li chcesz ¿eby <systemitem class="library">libavformat</systemitem>
  dokonywa³ muksowania zbioru wyj¶ciowego (przy u¿yciu opcji
  <option>-of lavf</option>), stosowny format zostanie ustalony na podstawie
  rozszerzenia pliku wyj¶ciowego.
  Mo¿esz wymusiæ konkretny format opcj± <option>format</option> biblioteki
  <systemitem class="library">libavformat</systemitem>.

<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry><systemitem class="library">libavformat</systemitem> container name</entry><entry>Description</entry></row>
</thead>
<tbody>
  <row>
    <entry>mpg</entry>
    <entry>MPEG-1 i MPEG-2 PS</entry>
  </row>
  <row>
    <entry>asf</entry>
    <entry>Advanced Streaming Format (Zaawansowany format strumieniowy)</entry>
  </row>
  <row>
    <entry>avi</entry>
    <entry>Audio-Video Interleaved</entry>
  </row>
  <row>
    <entry>wav</entry>
    <entry>Waveform Audio</entry>
  </row>
  <row>
    <entry>swf</entry>
    <entry>Macromedia Flash</entry>
  </row>
  <row>
    <entry>flv</entry>
    <entry>Macromedia Flash video</entry>
  </row>
  <row>
    <entry>rm</entry>
    <entry>RealMedia</entry>
  </row>
  <row>
    <entry>au</entry>
    <entry>SUN AU</entry>
  </row>
  <row>
    <entry>nut</entry>
    <entry>Otwarty format NUT (eksperymentalny i jeszcze bez specyfikacji)</entry>
  </row>
  <row>
    <entry>mov</entry>
    <entry>QuickTime</entry>
  </row>
  <row>
    <entry>mp4</entry>
    <entry>MPEG-4 format</entry>
  </row>
  <row>
    <entry>dv</entry>
    <entry>format Sony Digital Video</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
  Jak widzisz, <systemitem class="library">libavformat</systemitem> pozwala
  <application>MEncoderowi</application> tworzyæ spor± ilo¶æ ró¿nych formatów.
  Niestety, poniewa¿ <application>MEncoder</application> nie by³ tworzony
  z my¶l± o innych formatach ni¿ AVI, powiniene¶ popadaæ w paranojê na temat
  wynikowych plików. 
  Dok³adnie sprawd¼ czy jest prawid³owa synchronizacja audio/video i czy plik
  mo¿e zostaæ prawid³owo odtworzony przez odtwarzacze inne ni¿
  <application>MPlayer</application>.
</para>

<informalexample>
<para>Przyk³ad:</para>
<para>
  Tworzenie zbioru Macromedia Flash video, nadaj±cego siê do odtwarzania
  w przegl±darce sieci z wtyczk± Macromedia Flash:
<screen>
mencoder <replaceable>wej¶cie.avi</replaceable> -o <replaceable>wyj¶cie.flv</replaceable> -of lavf -oac mp3lame -lameopts abr:br=56 -ovc lavc \
-lavcopts vcodec=flv:vbitrate=500:mbd=2:mv0:trell:v4mv:cbp:last_pred=3 \
-srate 22050
</screen>
</para>
</informalexample>

</sect1>


<sect1 id="menc-feat-selecting-input">
<title>Wybieranie ¼ród³owego zbioru lub urz±dzenia</title>

<para>
  <application>MEncoder</application> mo¿e kodowa¿ ze zbiorów lub bezpo¶rednio
  z dysku DVD lub VCD.
  Po prostu podaj nazwê zbioru w wierszu poleceñ ¿eby kodowaæ ze zbioru, albo
  <option>dvd://</option><replaceable>numertytu³u</replaceable> lub
  <option>vcd://</option><replaceable>numer¶cie¿ki</replaceable> by nagrywaæ
  z tytu³u DVD albo ¶cie¿ki VCD.
  Je¶li ju¿ skopiowa³e¶ DVD na twardy dysk (mo¿esz na przyk³ad u¿yæ narzêdzia
  takiego jak <application>dvdbackup</application>, dostêpnego na wiêkszo¶ci
  systemów), wci±¿ powiniene¶ u¿ywaæ sk³adni <option>dvd://</option>, razem
  z opcj± <option>-dvd-device</option> po której nastêpuje ¶cie¿ka do
  skopiowanego DVD.

  Opcji <option>-dvd-device</option> i <option>-cdrom-device</option> mo¿esz
  te¿ u¿ywaæ by podaæ w³asne ¶cie¿ki do wêz³ów urz±dzeñ, je¶li domy¶lne
  <filename>/dev/dvd</filename> i <filename>/dev/cdrom</filename> nie s±
  w³a¶ciwe w Twoim systemie.
</para>
<para>
  Przy kodowaniu z DVD, czêsto po¿±danym jest wybranie do kodowania rozdzia³u
  lub zasiêgu rozdzia³ów.
  Mo¿esz w tym celu u¿yæ opcji <option>-chapters</option>, na przyk³ad
  <option>-chapters</option> <replaceable>1-4</replaceable> zakoduje z DVD
  tylko rozdzia³y od 1 do 4.
  Jest to zw³aszcza u¿yteczne gdy robisz kodowanie do wielko¶ci 1400 MB,
  przeznaczone na 2 CD, poniewa¿ mo¿esz siê upewniæ ¿e przerwa nast±pi
  dok³adnie na granicy rozdzia³ów a nie w ¶rodku sceny.
</para>
<para>
  Je¶li masz obs³ugiwan± kartê przechwytywania TV, mo¿esz te¿ kodowaæ z jej
  urz±dzenia wej¶ciowego.
  U¿yj opcji <option>tv://</option><replaceable>numerkana³u</replaceable> jako
  nazwy pliku, a opcj± <option>-tv</option> skonfiguruj rozmaite ustawienia
  przechwytywania.
  Podobnie dzia³a wej¶cie z DVB.
</para>
</sect1>


<sect1 id="menc-feat-mpeg4">
<title>Kodowanie dwuprzebiegowe MPEG-4 ("DivX")</title>

<para>
Nazwa zwi±zana jest z faktem, i¿ przy u¿yciu tej metody plik kodowany jest
<emphasis>dwa razy</emphasis>.
Pierwsze kodowanie (dubbed pass) tworzy pliki tymczasowe
(<filename>*.log</filename>) o rozmiarze kilku megabajtów, nie kasuj ich od
razu (mo¿esz natomiast skasowaæ plik AVI a jeszcze lepiej nie tworzyæ go
w ogóle poprzez zapisywanie w <filename>/dev/null</filename>).
W drugim przebiegu przy pomocy danych o bitrate z plików tymczasowych tworzony
jest plik wyj¶ciowy drugiego przebiegu. Plik koñcowy bêdzie mia³ o wiele lepsz±
jako¶æ w porównaniu ze standardowym 1-przebiegowym kodowaniem.
Je¿eli pierwszy raz o tym s³yszysz, powiniene¶ zajrzeæ do którego¶ z wielu
przewodników dostêpnych w sieci.
</para>

<example>
<title>kopiowanie ¶cie¿ki d¼wiêkowej</title>
<para>
Dwuprzebiegowe kodowanie DVD do MPEG-4 ("DivX") AVI z kopiowaniem ¶cie¿ki d¼wiêkowej.
<screen>
	mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac copy -o /dev/null
	mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -oac copy -o <replaceable>output.avi</replaceable>
</screen>
</para>
</example>

<example>
<title>kodowanie ¶cie¿ki d¼wiêkowej</title>
<para>
Dwuprzebiegowe kodowanie DVD do MPEG-4 ("DivX") AVI z kodowaniem ¶cie¿ki d¼wiêkowej do MP3.
Uwa¿aj stosuj±c tê metodê, poniewa¿ w niektórych przypadkach mo¿e zaowocowaæ
desynchronizacj± audio/video.
<screen>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac mp3lame -lameopts vbr=3 -o /dev/null
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -oac mp3lame -lameopts vbr=3 -o <replaceable>output.avi</replaceable>
</screen>
</para>
</example>
</sect1>

<sect1 id="menc-feat-mpeg">
<title>Kodowanie do formatu MPEG</title>
<para>
<application>MEncoder</application> mo¿e tworzyæ pliki formatu MPEG (MPEG-PS).
Zazwyczaj, je¶li u¿ywasz filmu MPEG-1 albo MPEG-2, to jest tak poniewa¿
kodujesz na ograniczony format, taki jak SVCD, VCD albo DVD.
Specyficzne ograniczenia tych formatów s± wyja¶nione w
<link linkend="menc-feat-vcd-dvd">przewodniku tworzenia VCD i DVD</link>.
</para>

<para>
Aby zmieniæ wyj¶ciowy format plików <application>MEncodera</application>, u¿yj opcji <option>-of mpeg</option>.
</para>

<informalexample>
<para>
Przyk³ad:
<screen>
mencoder <replaceable>wejscie.avi</replaceable> -of mpeg -ovc lavc -lavcopts vcodec=mpeg1video -oac copy <replaceable>inne_opcje</replaceable> -o <replaceable>wyjscie.mpg</replaceable>
</screen>
Tworzenie pliku MPEG-1, który mo¿na odtworzyæ na systemach z minimaln± obs³ug±
multimedialn±, tak± jak domy¶lne instalacje Windows:
<screen>
mencoder <replaceable>wejscie.avi</replaceable> -of mpeg -mpegopts format=mpeg1:tsaf:muxrate=2000 -o <replaceable>wyjscie.mpg</replaceable> -oac lavc -ovc lavc \
-lavcopts acodec=mp2:abitrate=224:vcodec=mpeg1video:vbitrate=1152:keyint=15:mbd=2:aspect=4/3
</screen>
</para>
</informalexample>

</sect1>


<sect1 id="menc-feat-rescale">
<title>Przeskalowywanie filmów</title>

<para>
Czêsto zachodzi potrzeba zmiany wielko¶ci obrazu. Powodów tego mo¿e byæ wiele:
zmniejszenie rozmiaru pliku, przepustowo¶æ sieci, itd. Wiêkszo¶æ ludzi stosuje 
przeskalowywanie nawet przy konwertowaniu p³yt DVD, SVCD do DivX AVI. Je¿eli
chcesz przeskalowywaæ, przeczytaj sekcjê o <link linkend="aspect">zachowywaniu proporcji obrazu</link>.
</para>

<para>
Proces skalowania obs³ugiwany jest przez filtr video <literal>scale</literal>:
<option>-vf scale=<replaceable>szeroko¶æ</replaceable>:<replaceable>wysoko¶æ</replaceable></option>.
Jego jako¶æ mo¿e byæ ustawiona parametrem <option>-sws</option>.
Je¶li nie jest on podany <application>MEncoder</application> u¿yje warto¶ci 2: bicubic.
</para>

<para>
Przyk³ad:
<screen>
mencoder <replaceable>wejscie.mpg</replaceable> -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -vf scale=640:480 -o <replaceable>wyjscie.avi</replaceable>	
</screen>
</para>
</sect1>


<sect1 id="menc-feat-streamcopy">
<title>Kopiowanie strumienia</title>

<para>
<application>MEncoder</application> obs³uguje strumienie wej¶ciowe na dwa sposoby:
<emphasis role="bold">koduje</emphasis> lub <emphasis role="bold">kopiuje</emphasis>
je. Ta sekcja jest o <emphasis role="bold">kopiowaniu</emphasis>.
</para>

<itemizedlist>
<listitem><para>
  <emphasis role="bold">Strumieñ video</emphasis> (opcja <option>-ovc copy</option>):
  mo¿na ³adne rzeczy wyczyniaæ:) Jak wstawianie (nie konwertowanie) FLI, VIDO lub MPEG-1 video w plik AVI!
  Oczywi¶cie tylko <application>MPlayer</application> potrafi odtwarzaæ takie pliki :) I prawdopodobnie nie ma
  dla tego ¿adnego sensownego zastosowania. Powa¿niej: kopiowanie strumieni video mo¿e byæ przydatne
  wtedy, gdy np. tylko strumieñ audio ma byæ zakodowany (np. PCM do MP3).
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Strumieñ audio</emphasis> (opcja <option>-oac copy</option>):
  prosto i przystêpnie. Mo¿liwe jest wmiksowanie zewnêtrznego ¼ród³a (MP3, WAV)
  do strumienia wyj¶ciowego. U¿yj w tym celu opcji
  <option>-audiofile <replaceable>nazwa_pliku</replaceable></option>.
  </para></listitem>
</itemizedlist>

<para>
  U¿ywanie <option>-oac copy</option> do kopiowania z jednego formatu
  przechowywania do innego mo¿e wymagaæ u¿ycia <option>-fafmttag</option> ¿eby
  utrzymaæ znacznik formatu audio z oryginalnego zbioru.
  Na przyk³ad je¶li konwertujesz zbiór NSV z audio zakodowanym AAC do formatu
  AVI, to znacznik formatu audio bêdzie nieprawid³owy i musi zostaæ zmieniony.
  Listê znaczników formatów audio znajdziesz w pliku
  <filename>codecs.conf</filename>.
</para>

<para>
Przyk³ad:
<screen>
mencoder <replaceable>wej¶cie.nsv</replaceable> -oac copy -fafmttag 0x706D -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -o <replaceable>wyj¶cie.avi</replaceable>
</screen>
</para>

</sect1>



<sect1 id="menc-feat-enc-images">
<title>Kodowanie z wielu wej¶ciowych plików obrazkowych (JPEG, PNG, TGA, SGI)</title>

<para>
<application>MEncoder</application> jest w stanie stworzyæ film z jednego
lub wielu plików JPEG, PNG lub TGA. Poprzez proste kopiowanie ramek mo¿e stworzyæ pliki MJPEG
(Motion (ruchomy - przypis t³umacza) JPEG), MPNG (Motion PNG) lub MTGA (Motion TGA).
</para>

<orderedlist>
<title>Jak to dzia³a:</title>
<listitem><para>
  <application>MEncoder</application> <emphasis>dekoduje</emphasis> wej¶ciowy obrazek/obrazki z pomoc± biblioteki
  <systemitem class="library">libjpeg</systemitem> (w przypadku dekodowania PNG, skorzysta z
  <systemitem class="library">libpng</systemitem>).
  </para></listitem>
<listitem><para>
  Potem <application>MEncoder</application> kompresuje zdekodowane pliki podanym kompresorem
  (DivX4, XviD, FFmpeg msmpeg4, itd.).
  </para></listitem>
</orderedlist>

<formalpara>
<title>Przyk³ady</title>
<para>
Opis i sposób dzia³ania funkcji <option>-mf</option> znajduj± siê na stronie man.

<informalexample>
<para>
Tworzenie pliku MPEG-4 ze wszystkich plików JPEG w aktualnym katalogu:
<screen>
mencoder mf://<replaceable>ramka001.jpg,ramka002.jpg</replaceable> -mf w=800:h=600:fps=25:type=jpg -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <replaceable>wyj¶cie.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie plików MPEG-4 z jawnie podanej listy plików JPEG (list.txt w aktualnym
katalogu, zawiera listê plików, które maj± zostaæ u¿yte jako ¼ród³o, po jednym w ka¿dej linii):
<screen>
mencoder mf://<replaceable>@list.txt</replaceable> -mf w=800:h=600:fps=25:type=jpg \ 
-ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <replaceable>wyjscie.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie pliku MPEG-4 z wybranych plików JPEG w aktualnym katalogu:
<screen>
mencoder mf://<replaceable>klatka001.jpg,klatka002.jpg</replaceable> -mf w=800:h=600:fps=25:type=jpg -ovc lavc -lavcopts vcodec=mpeg4 -oac copy -o <replaceable>wyjscie.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie pliku Motion JPEG (MJPEG) ze wszystkich plików JPEG w aktualnym katalogu:
<screen>
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc copy -ovc copy -o <replaceable>wyj¶cie.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie nieskompresowanego pliku ze wszystkich plików PNG w aktualnym katalogu:
<screen>
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc raw -oac copy -o <replaceable>output.avi</replaceable>
</screen>
</para>
</informalexample>

<note><title>Informacja:</title><para>
Szeroko¶æ musi byæ liczb± podzieln± przez 4, takie s± ograniczenia formatu RAW RGB AVI.
</para></note>

<informalexample>
<para>
Tworzenie pliku Motion PNG (MPNG) ze wszystkich plików PNG w aktualnym katalogu:
<screen>mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc copy -oac copy -o <replaceable>wyjscie.avi</replaceable> <!--
 --></screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie pliku Motion TGA (MTGA) ze wszystkich plików TGA w aktualnym katalogu:
<screen>
mencoder mf://*.tga -mf w=800:h=600:fps=25:type=tga -ovc copy -oac copy -o <replaceable>wyjscie.avi</replaceable><!--
 --></screen>
</para>
</informalexample>

</para>
</formalpara>
</sect1>


<sect1 id="menc-feat-extractsub">
<title>Wydobywanie napisów z DVD do pliku VOBsub</title>

<para>
<application>MEncoder</application> jest w stanie wyci±gn±æ napisy z DVD do pliku
w formacie VOBsub. Tworzy je para plików z rozszerzeniem
<filename>.idx</filename> i <filename>.sub</filename>, które s± zazwyczaj spakowane do
pojedyñczego archiwum <filename>.rar</filename>.
<application>MPlayer</application> mo¿e je odtwarzaæ z opcjami
<option>-vobsub</option> i <option>-vobsubid</option>.
</para>

<para>
Podajesz nazwê bazow± (tzn. bez rozszerzenia <filename>.idx</filename> lub
<filename>.sub</filename>) pliku wyj¶ciowego opcj±
<option>-vobsubout</option> oraz indeks dla tego pliku opcj± <option>-vobsuboutindex</option>.
</para>

<para>
Je¿eli ¼ród³em nie jest DVD powiniene¶ u¿yæ opcji <option>-ifo</option>, aby
wskazaæ plik <filename>.ifo</filename> potrzebny do stworzenia pliku wynikowego
<filename>.idx</filename>.
</para>

<para>
Je¿eli ¼ród³em nie jest DVD i nie masz pliku <filename>.ifo</filename>, bêdziesz musia³ u¿yæ opcji
<option>-vobsubid</option>, aby podaæ id jêzyka, które bêdzie umieszczone w pliku
<filename>.idx</filename>.
</para>

<para>
Ka¿de uruchomienie do³±czy do istniej±cych napisów, je¿eli pliki <filename>.idx</filename>
i <filename>.sub</filename> istniej±. Wiêc powiniene¶ je usun±æ przed uruchomieniem.
</para>

<example>
<title>Kopiowanie dwóch napisów z DVD podczas dwu-przebiegowego kodowania</title>
<screen>
rm subtitles.idx subtitles.sub
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -vobsubout subtitles -vobsuboutindex 0 -sid 2
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -vobsubout subtitles -vobsuboutindex 1 -sid 5<!--
 --></screen>
</example>

<example>
<title>Kopiowanie francuskich napisów z pliku MPEG</title>
<screen>
rm napisy.idx napisy.sub
mencoder <replaceable>film.mpg</replaceable> -ifo <replaceable>film.ifo</replaceable> -vobsubout napisy -vobsuboutindex 0 -vobsuboutid fr -sid 1 -nosound -ovc copy<!--
--></screen>
</example>

</sect1>

<sect1 id="aspect">
<title>Utrzymywanie proporcji obrazu (aspect ratio)</title>
<para>
Pliki DVD i SVCD (tzn. MPEG-1/2) zawieraj± informacje o proporcji obrazu, która
opisuje, jak odtwarzacz ma skalowaæ strumieñ video, ¿eby ludzie nie byli jajog³owi
(np.: 480x480 + 4:3 = 640x480).
Jednak przy kodowaniu plików AVI (DivX) musisz byæ ¶wiadom, ¿e nag³ówek AVI nie przechowuje
tej warto¶ci. Przeskalowywanie jest obrzydliwe i czasoch³onne, musi byæ jaki¶ lepszy sposób!
</para>

<para>Jest</para>

<para>
MPEG-4 posiada unikaln± cechê: strumieñ video mo¿e posiadaæ swoj± warto¶æ proporcji obrazu.
Tak, dok³adnie jak pliki MPEG-1/2 (DVD, SVCD) i H.263. Niestety, nie ma
<emphasis role="bold">¿adnych</emphasis> odtwarzaczy video które by to wykorzystywa³y,
oprócz <application>MPlayera</application>.
</para>

<para>
Mo¿liwo¶æ ta mo¿e byæ jedynie u¿ywana z kodekiem <systemitem>mpeg4</systemitem>
z biblioteki <link linkend="ffmpeg"><systemitem class="library">libavcodec</systemitem></link>.
Pamiêtaj: chocia¿ <application>MPlayer</application>
poprawnie odtworzy stworzone pliki, inne odtwarzacze
u¿yj± z³ych proporcji obrazu (aspect ratio).
</para>

<para>
Z pewno¶ci± powiniene¶ wyci±æ czarne pasy nad i pod obrazem.
Zobacz jak u¿ywaæ filtrów <systemitem>cropdetect</systemitem>
i <systemitem>crop</systemitem> na stronie man.
</para>

<para>
Sposób u¿ycia:
<screen>mencoder <replaceable>przyk³adowy-svcd.mpg</replaceable> -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:autoaspect -vf crop=714:548:0:14 -oac copy -o <replaceable>wyj¶cie.avi</replaceable></screen>
</para>
</sect1>

</chapter>
