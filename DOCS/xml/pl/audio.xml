<?xml version="1.0" encoding="iso-8859-2"?>
<!-- synced with 1.30 -->
<sect1 id="audio">
<title>Urz±dzenia wyj¶ciowe audio</title>
<sect2 id="sync">
<title>Synchronizacja Audio/Video</title>

<para>
Sterowniki kart d¼wiêkowych przeznaczone dla Linuksa maj± problemy
zwi±zane z kompatybilno¶ci±. Dzieje siê tak, poniewa¿ <application>MPlayer</application>
korzysta z wbudowanych w³a¶ciwo¶ci <emphasis>poprawnie</emphasis> napisanych
sterowników d¼wiêku, które prawid³owo obs³uguj± synchronizacjê audio/video.
Niestety, niektórzy autorzy sterowników nie uwzglêdniaj± tej cechy, poniewa¿
nie jest ona potrzebna do odtwarzania efektów d¼wiêkowych i plików MP3.
</para>

<para>
Inne odtwarzacze takie jak: <ulink url="http://avifile.sf.net">aviplay</ulink>
czy <ulink url="http://xinehq.de">xine</ulink> prawdopodobnie dzia³aj±
od razu z tymi sterownikami, poniewa¿ u¿ywaj± "prostych" metod synchronizacji
korzystaj±cych z wewnêtrznego zegara. Testy pokaza³y, ¿e ich metody nie s± tak
wydajne jak <application>MPlayera</application>.
</para>

<para>
U¿ywanie <application>MPlayera</application> z poprawnie napisanym sterownikiem
d¼wiêku, nigdy nie zaowocuje desynchronizacj± A/V z powodu d¼wiêku, chyba ¿e
odtwarzany plik zosta³ utworzony w niew³a¶ciwy sposób lub jest popsuty
(na stronie man znajdziesz mo¿liwe rozwi±zania tego problemu).
</para>

<para>
Je¶li masz kiepski sterownik d¼wiêku, spróbuj u¿yæ opcji <option>-autosync</option>.
Powinna ona rozwi±zaæ Twój problem. Dok³adniejsze informacje znajdziesz na stronie
man.
</para>
</sect2>

<sect2 id="troubleshooting">
<title>Rozwi±zywanie problemów</title>

<para>Kilka uwag:</para>
<para>
  Je¿eli posiadasz sterowniki ALSA w wersji 0.5, prawie zawsze konieczne bêdzie
  u¿ycie <option>-ao alsa5</option>, poniewa¿ ich kod emulacji OSS jest wadliwy i
  spowoduje <emphasis role="bold">b³±d <application>MPlayera</application></emphasis>
  wy¶wietlaj±c komunikat o tre¶ci podobnej do tej:
  <screen>
    DEMUXER: Za du¿o (945 w 8390980 bajtach) pakietów video w buforze!
    (DEMUXER: Too many (945 in 8390980 bytes) video packets in the buffer!)<!--
--></screen>
</para>
<para>
  Je¶li d¼wiêk przerywany jest krótkimi trzaskami podczas odtwarzania z CD-ROMu,
  w³±cz odmaskowywanie przerwañ, tak jak opisano to w rozdziale dotycz±cym
  <link linkend="drives">CD-ROMu</link>.
</para>
</sect2>

</sect1>

<sect1 id="af">
<title>Filtry audio</title>
<para>
  Filtry d¼wiêkowe pozwalaj± na zmianê w³a¶ciwo¶ci danych audio zanim d¼wiêk dotrze do
  karty. Ich uruchamianie i wy³±czanie odbywa siê przewa¿nie automatycznie,
  mo¿na to jednak zmieniæ. Filtry w³±czane s± wtedy, gdy cechy d¼wiêku
  ró¿ni± siê od tych wymaganych przez urz±dzenie audio, w przeciwnym wypadku
  procedura ta jest pomijana. Opcja <option>-af filter1,filter2,...</option>
  u¿ywana jest do nadpisania automatycznych ustawieñ lub do zastosowania
  dodatkowych. Kolejno¶æ stosowania filtrów uzale¿niona jest od kolejno¶ci
  w ci±gu oddzielonych od siebie przecinkami warto¶ci.
</para>

<para>
Przyk³ad:
<screen>mplayer -af resample,pan <replaceable>film.avi</replaceable></screen>
uruchomi d¼wiêk poprzez filtr zmieniaj±cy czêstotliwo¶æ próbkowania (resample filter)
a nastêpnie poprzez filtr pan. Zauwa¿, ¿e lista nie mo¿e zawieraæ ¿adnych spacji,
inaczej zostanie b³êdnie zinterpretowana przez program.
</para>

<para>
Filtry czêsto posiadaj± opcje zmieniaj±ce ich zachowanie. S± one dok³adniej
opisane w sekcji poni¿ej. Je¿eli pominie siê parametry, to filtr uruchomi siê
z ustawieniami domy¶lnymi. Poni¿ej przedstawiony jest przyk³ad, jak u¿ywaæ
filtrów wraz z ich opcjami:
<screen>
mplayer -af resample=11025,pan=1:0.5:0.5 -channels 1 -srate 11025 <replaceable>film.avi</replaceable>
</screen>
ustawi czêstotliwo¶æ wyj¶ciow± filtru zmieniaj±cego próbkowanie (resample filter)
na 11025Hz i zmiksuje d¼wiêk do jednego kana³u u¿ywaj±c filtru pan.
</para>

<para>
Ogóln± kontrolê nad warstw± filtrów daje opcja <option>-af-adv</option>.
Zawiera ona dwie dodatkowe opcje:
</para>

<para>
<option>force</option> jest polem bitowym, które okre¶la jak filtry
s± stosowane i jakiej optymalizacji prêdko¶ci/dok³adno¶ci u¿ywaj±:
</para>

<variablelist>
<varlistentry>
<term><option>0</option></term>
<listitem><para>
U¿yj automatycznego stosowania filtrów i optymalizuj wzglêdem szybko¶ci procesora.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>1</option></term>
<listitem><para>
U¿yj automatycznego stosowania filtrów i optymalizuj tak, aby osi±gn±æ najwiêksz±
prêdko¶æ.
<emphasis>Uwaga:</emphasis> Niektóre mo¿liwo¶ci filtrów audio mog± nie zadzia³aæ i
jako¶æ d¼wiêku spadnie.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>2</option></term>
<listitem><para>
U¿yj automatycznego stosowania filtrów i optymalizuj pod k±tem jak najwiêkszej
jako¶ci.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>3</option></term>
<listitem><para>
Nie u¿ywaj automatycznego stosowania filtrów i nie optymalizuj.
<emphasis>Uwaga:</emphasis> Je¶li u¿ywasz tego ustawienia, mo¿liwe jest
wyst±pienie b³êdów podczas dzia³ania <application>MPlayera</application> i jego zakoñczenie.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>4</option></term>
<listitem><para>
U¿yj automatycznego stosowania filtrów (tak jak dla 0), jednak u¿yj obliczeñ
zmiennoprzecinkowych, je¶li to mo¿liwe.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>5</option></term>
<listitem><para>
U¿yj automatycznego stosowania filtrów (tak jak dla 1), jednak u¿yj obliczeñ
zmiennoprzecinkowych, je¶li to mo¿liwe.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>6</option></term>
<listitem><para>
U¿yj automatycznego stosowania filtrów (tak jak dla 2), jednak u¿yj obliczeñ
zmiennoprzecinkowych, je¶li to mo¿liwe.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>7</option></term>
<listitem><para>
U¿yj automatycznego stosowania filtrów (tak jak dla 3), jednak u¿yj obliczeñ
zmiennoprzecinkowych, je¶li to mo¿liwe.
</para></listitem>
</varlistentry>
</variablelist>

<para>
<option>list</option> jest aliasem dla opcji -af.
</para>

<para>
Na zachowanie warstwy filtrów wp³ywaj± równie¿ ni¿ej podane, standardowe opcje:
</para>

<variablelist>
<varlistentry>
<term><option>-v</option></term>
<listitem><para>
Zwiêksza poziom "gadatliwo¶ci" i sprawia, ¿e wiêkszo¶æ filtrów drukuje dodatkowe
komunikaty.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>-channels</option></term>
<listitem><para>
Ustawia liczbê kana³ów wyj¶ciowych, których ma u¿ywaæ Twoja karta.
Ma ona równie¿ wp³yw na liczbê kana³ów, które s± dekodowane z
no¶nika danych. Je¶li zawiera on mniej kana³ów, filtr kana³ów (channels filter)
zostanie automatycznie u¿yty (zobacz poni¿ej). Przekierowywanie kana³ów bêdzie
ustawione domy¶lnie.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>-srate</option></term>
<listitem><para>
Ustawia czêstotliwo¶æ próbkowania, której ma u¿ywaæ Twoja karta
(oczywi¶cie karty maj± swoje ograniczenia). Je¿eli poziom próbkowania Twojej
karty ró¿ni siê od tego stosowanego w no¶niku, zostanie w³±czony filtr zmieniaj±cy
próbkowanie (resample filter, zobacz poni¿ej), aby zniwelowaæ ró¿nice.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>-format</option></term>
<listitem><para>
Ustawia format próbki pomiêdzy filtrem audio a kart± d¼wiêkow±.
Je¿eli ¿±dany format próbki dla karty jest inny ni¿ format zawieraj±cy siê w no¶niku,
zostanie zastosowany filtr formatu (format filter, zobacz poni¿ej), aby zniwelowaæ
ró¿nice.
</para></listitem>
</varlistentry>
</variablelist>

<sect2 id="af_resample">
<title>Zmniejszenie/Zwiêkszenie czêstotliwo¶ci próbkowania (Up/Downsampling)</title>

<para>
<application>MPlayer</application> w pe³ni obs³uguje zmniejszanie/zwiêkszanie
czêstotliwo¶ci (up/downsampling) poprzez filtr zmieniaj±cy czêstotliwo¶æ
próbkowania - <option>resample</option> filter. Mo¿e on byæ u¿yty, je¿eli
masz sta³± czêstotliwo¶æ na karcie, albo je¿eli nie jest ona w stanie obs³u¿yæ
wiêcej ni¿ 44.1kHz. Filtr jest automatycznie uruchamiany, je¿eli jest to
konieczne, ale mo¿e równie¿ zostaæ w³±czony z poziomu linii poleceñ.
Ma on trzy opcje:
</para>

<variablelist>
<varlistentry>
<term><option>srate &lt;8000-192000&gt;</option></term>
<listitem><para>
    jest to liczba ca³kowita, u¿ywana do okre¶lenia wyj¶ciowej czêstotliwo¶ci
    próbkowania w Hz. Przyjmuje warto¶ci z zakresu od 8kHz do 192kHz. Je¿eli
    czêstotliwo¶æ wej¶ciowa i wyj¶ciowa s± takie same albo je¿eli ten parametr
    jest pominiêty, filtr jest wy³±czany. Wysoka czêstotliwo¶æ przewa¿nie zwiêksza
    jako¶æ d¼wiêku, szczególnie je¿eli filtr jest u¿yty wraz z innymi.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>sloppy</option></term>
<listitem><para>
    jest dodatkowym parametrem binarnym, który pozwala na ma³± ró¿nicê miêdzy
    czêstotliwo¶ci± wyj¶ciow± a t± podan± przez <option>srate</option>. Opcja
    ta mo¿e zostaæ u¿yta je¿eli pocz±tek odtwarzania jest bardzo wolny. Jest
    standardowo uruchomiony.
</para></listitem>
</varlistentry>


<varlistentry>
<term><option>type &lt;0-2&gt;</option></term>
<listitem><para>
    jest dodatkow± liczb± ca³kowit± z przedzia³u od <literal>0</literal>
    do <literal>2</literal>, która wybiera metodê zmiany czêstotliwo¶ci
    próbkowania. Tutaj <literal>0</literal> przedstawia interpolacjê liniow±
    (linear interpolation), <literal>1</literal> reprezentuje metodê wielofazowego
    przetwarzania banku filtrów (poly-phase filter-bank processing) przy u¿yciu
    obliczeñ ca³kowitoliczbowych, <literal>2</literal> do zmiany czêstotliwo¶ci za
    pomoc± wielofazowego przetwarzania banku filtrów (poly-phase filter-bank processing)
    i obliczeñ zmiennoprzecinkowych. Interpolacja liniowa (linear interpolation)
    jest wyj±tkowo szybka, jednak pogarsza jako¶æ d¼wiêku szczególnie przy zwiêkszaniu
    czêstotliwo¶ci (upsampling). Najlepsz± jako¶æ daje <literal>2</literal>,
    ale metoda ta wymaga najwiêkszej mocy obliczeniowej.
</para></listitem>
</varlistentry>
</variablelist>

<para>Przyk³ad:
<screen>mplayer -af resample=44100:0:0</screen>
ustawi czêstotliwo¶æ wyj¶ciow± filtru zmieniaj±cego czêstotliwo¶æ próbkowania
(resample filter) na 44100Hz u¿ywaj±c przy tym dok³adnego skalowania czêstotliwo¶ci
wyj¶ciowej oraz interpolacji liniowej (linear interpolation).
</para>
</sect2>

<sect2 id="af_channels">
<title>Zmiana liczby kana³ów</title>
<para>
Filtr kana³ów (<option>channels</option> filter) mo¿na u¿yæ w celu dodania
lub usuniêcia kana³ów, mo¿na go tak¿e u¿yæ do kopiowania lub przekierowywania kana³ów.
Jest on automatycznie w³±czony, je¿eli wyj¶cie warstwy audio filtrów ró¿ni siê
od wej¶ciowego lub je¶li za¿±dano jego uruchomienia. Filtr wy³±cza siê sam,
je¿eli nie jest u¿ywany. Liczba parametrów jest dynamiczna:
</para>

<variablelist>
<varlistentry>
<term><option>nch &lt;1-6&gt;</option></term>
<listitem><para>
  jest to liczba ca³kowita z zakresu od <literal>1</literal> do <literal>6</literal>,
  która ustawia liczbê kana³ów wej¶ciowych. Ta opcja jest wymagana.
  Nie podanie jej spowoduje b³±d uruchamiania (runtime error) programu.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>nr &lt;1-6&gt;</option></term>
<listitem><para>
  jest to liczba ca³kowita z zakresu od <literal>1</literal> do <literal>6</literal>,
  która u¿ywana jest do okre¶lenia liczby dróg przekierowania. Parametr ten jest
  opcjonalny. Je¿eli jest pominiêty, stosowane jest domy¶lne przekierowanie.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>od1:do1:od2:do2:od3:do3...</option></term>
<listitem><para>
  to pary liczb pomiêdzy <literal>0</literal> a <literal>5</literal>, które
  okre¶laj± gdzie poszczególne kana³y maj± byæ przekierowywane.
</para></listitem>
</varlistentry>
</variablelist>

<para>
  Je¿eli podana jest tylko opcja <option>nch</option>, filtr u¿ywa domy¶lnego
  przekierowywanie, które dzia³a nastêpuj±co: Je¶li liczba kana³ów wyj¶ciowych jest
  wiêksza ni¿ wej¶ciowych, tworzone s± puste kana³y (w przypadku miksowania z mono
  do stereo, kana³ mono jest powtarzany w obu kana³ach wyj¶ciowych). Je¿eli liczba
  kana³ów wyj¶ciowych jest mniejsza ni¿ wej¶ciowych, nadmiarowe kana³y s± usuwane.
</para>

<para>
Przyk³ad 1:
<screen>
mplayer -af channels=4:4:0:1:1:0:2:2:3:3 <replaceable>film.avi</replaceable>
</screen>
zmieni liczbê kana³ów na 4 i ustawi 4 drogi przekierowywania, które zamieniaj±
kana³ 1 z 0, a 2 i 3 pozostawiaj± bez zmian. Zauwa¿, ¿e je¿eli odtwarzany by³
no¶nik zawieraj±ce 2 kana³y, to kana³y 2 i 3 bêd± puste, ale 0 i 1 nadal bêd±
zamienione.
</para>

<para>
Przyk³ad 2:
<screen>
mplayer -af channels=6:4:0:0:0:1:0:2:0:3 <replaceable>film.avi</replaceable>
</screen>
zmieni liczbê kana³ów na 6 i ustawi 4 drogi przekierowywania, które skopiuj±
kana³ 0 do 0 i 3. Kana³y 4 i 5 bêd± puste.
</para>
</sect2>

<sect2 id="af_format">
<title>Konwerter formatu próbek (sample format converter)</title>
<para>
Filtr formatu (<option>format</option> filter) przekszta³ca jedne formaty
próbek w inne. Jest uruchamiany automatycznie, je¶li tylko jest wymagany przez
kartê lub inny filtr d¼wiêkowy.
</para>

<variablelist>
<varlistentry>
<term><option>bps &lt;numer&gt;</option></term>
<listitem><para>
    mo¿e mieæ warto¶æ <literal>1</literal>, <literal>2</literal> lub
    <literal>4</literal>, okre¶la liczbê bajtów przypadaj±c± na próbkê. Parametr
    ten jest wymagany. Nie podanie go spowoduje b³±d uruchamiania (runtime error).
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>f &lt;format&gt;</option></term>
<listitem><para>
    jest ci±giem znaków okre¶laj±cym format próbki. Ci±g jest kombinacj±:
    <option>alaw</option>, <option>mulaw</option> lub
    <option>imaadpcm</option>, <option>float</option> lub <option>int</option>,
    <option>unsigned</option> lub <option>signed</option>, <option>le</option> lub
    <option>be</option> (little- lub big-endian). Opcja ta jest wymagana. Jej nie
    podanie, spowoduje b³±d podczas uruchamiania (runtime error).
</para></listitem>
</varlistentry>
</variablelist>

<para>
Przyk³ad:
<screen>
mplayer -af format=4:float <replaceable>film.avi</replaceable>
</screen>
ustawi format wyj¶ciowy na 4 bajty danych zmiennoprzecinkowych przypadaj±cych na próbkê.
</para>
</sect2>

<sect2 id="af_delay">
<title>Opó¼nienie (delay)</title>
<para>
Filtr opó¼niaj±cy (<option>delay</option> filter) opó¼nia d¼wiêk zmierzaj±cy do
g³o¶ników, tak ¿eby strumienie d¼wiêkowe z ró¿nych kana³ów dotar³y do nich
jednocze¶nie. Jest to u¿yteczne, je¿eli masz wiêcej ni¿ 2 g³o¶niki. Filtr
ma kilka opcji:
</para>

<variablelist>
<varlistentry>
<term><option>d1:d2:d3...</option></term>
<listitem><para>
    s± liczbami rzeczywistymi okre¶laj±cymi opó¼nienie w milisekundach,
    które powinno byæ zastosowane do ka¿dego kana³u. Minimalna warto¶æ to 0ms a
    maksymalna to 1000ms.
</para></listitem>
</varlistentry>
</variablelist>

<para>
Aby obliczyæ opó¼nienie dla poszczególnych kana³ów, wykonaj nastêpuje czynno¶ci:
</para>

<orderedlist>
<listitem><para>
    Oblicz odleg³o¶æ od g³o¶ników do pozycji s³uchacza (w metrach), to da Ci
    warto¶ci od s1 do s5 (dla systemu 5.1). Nie ma sensu braæ pod uwagê
    subwoofera (i tak nie us³yszysz ró¿nicy).
</para></listitem>
<listitem><para>
Odejmij odleg³o¶æ od s1 do s5 od odleg³o¶ci maksymalnej tzn.
    s[i] = max(s) - s[i]; i = 1...5
</para></listitem>
<listitem><para>
Oblicz opó¼nienia w nastêpuj±cy sposób
    d[i] = 1000*s[i]/342; i = 1...5
</para></listitem>
</orderedlist>

<para>
Przyk³ad:
<screen>
mplayer -af delay=10.5:10.5:0:0:7:0 <replaceable>film.avi</replaceable>
</screen>
opó¼ni lewy i prawy przedni g³o¶nik o 10.5ms, dwa tylne i subwoofer o 0ms a
centralny o 7ms.
</para>

</sect2>

<sect2 id="af_volume">
<title>Programowa regulacja g³o¶no¶ci (software volume control)</title>

<para>Programowa regulacja g³o¶no¶ci (software volume control) jest obs³ugiwana
poprzez filtr g³o¶no¶ci (<option>volume</option> filter). U¿ywaj go ostro¿nie,
gdy¿ mo¿e obni¿yæ stosunek sygna³u do szumu. W wiêkszo¶ci wypadków
najlepszym rozwi±zaniem jest ustawienie miksera PCM na maksymaln± warto¶æ, wy³±czenie
filtru i regulacja g³o¶no¶ci poziomem g³o¶no¶ci ogólnej miksera. Je¿eli Twoja karta
ma cyfrowy mikser PCM zamiast analogowego i zauwa¿ysz przek³amania, u¿yj miksera
MASTER. Je¿eli do komputera pod³±czony jest zewnêtrzny wzmacniacz
(co zazwyczaj ma miejsce), poziom ha³asu mo¿e zostaæ zredukowany poprzez
dostrojenie g³ównego poziomu g³o¶no¶ci (master level) i pokrêt³a g³o¶no¶ci,
dopóki syczenie w tle nie ustanie. Filtr ma dwie opcje:
</para>

<variablelist>
<varlistentry>
<term><option>v &lt;-200 - +60&gt;</option></term>
<listitem><para>
    jest liczb± rzeczywist± pomiêdzy <literal>-200</literal> a
    <literal>+60</literal>, która przedstawia poziom g³o¶no¶ci w dB. Domy¶lny
     poziom to 0dB.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>c</option></term>
<listitem><para>
    jest binarn± warto¶ci± która w³±cza lub wy³±cza miêkkie obcinanie (soft-clipping).
    Miêkkie obcinanie (soft-clipping) mo¿e sprawiæ, ¿e d¼wiêk bêdzie ³agodniejszy,
    je¿eli wysokie poziomy d¼wiêku s± u¿yte. Uaktywnij tê opcjê, je¿eli moc
    g³o¶ników jest zbyt niska. Zwróæ uwagê, ¿e ta metoda powoduje przek³amania
    i powinna byæ u¿ywana tylko w ostateczno¶ci.
</para></listitem>
</varlistentry>
</variablelist>

<para>
Przyk³ad:
<screen>mplayer -af volume=10.1:0 <replaceable>film.avi</replaceable></screen>
wzmocni d¼wiêk o 10.1dB i zastosuje metodê twardego obcinania (hard-clip), je¿eli
poziom d¼wiêku jest za wysoki.
</para>

<para>
Ten filtr ma drug± w³a¶ciwo¶æ: Mierzy ogólny, maksymalny poziom d¼wiêku i wypisuje go
po zakoñczeniu <application>MPlayera</application>. Oszacowana g³o¶no¶æ mo¿e byæ
u¿yta do ustawienia poziomu d¼wiêku w <application>MEncoderze</application> tak,
¿eby maksymalny zasiêg dynamiczny by³ mo¿liwy do osi±gniêcia.
</para>
</sect2>

<sect2 id="af_equalizer">
<title>Korektor (equalizer)</title>
<para>
Filtr korektora (<option>equalizer</option> filter) to 10 oktawowy korektor graficzny
zaimplementowany przy pomocy 10 filtrów pasmowych IIR.
Oznacza to, ¿e dzia³a bez wzglêdu na format odtwarzanego d¼wiêku. ¦rodkowe
czêstotliwo¶ci dla tych 10 pasm to:
</para>

<informaltable>
<tgroup cols="2">
<thead>
  <row>
    <entry>Numer pasma</entry><entry>Czêstotliwo¶æ ¶rodkowa</entry>
  </row>
</thead>
<tbody>
  <row><entry>0</entry><entry>31.25 Hz</entry></row>
  <row><entry>1</entry><entry>62.50 Hz</entry></row>
  <row><entry>2</entry><entry>125.0 Hz</entry></row>
  <row><entry>3</entry><entry>250.0 Hz</entry></row>
  <row><entry>4</entry><entry>500.0 Hz</entry></row>
  <row><entry>5</entry><entry>1.000 kHz</entry></row>
  <row><entry>6</entry><entry>2.000 kHz</entry></row>
  <row><entry>7</entry><entry>4.000 kHz</entry></row>
  <row><entry>8</entry><entry>8.000 kHz</entry></row>
  <row><entry>9</entry><entry>16.00 kHz</entry></row>
</tbody>
</tgroup>
</informaltable>

<para>
Je¿eli czêstotliwo¶æ próbkowania odtwarzanego d¼wiêku jest ni¿sza ni¿ ¶rodkowa
czêstotliwo¶æ dla odpowiedniego pasma, to jest ono wy³±czane. Znanym b³êdem
jest to, ¿e w³a¶ciwo¶ci dla najwy¿szego pasma nie s± ca³kowicie symetryczne,
je¿eli czêstotliwo¶æ próbki jest zbli¿ona do czêstotliwo¶ci ¶rodkowej danego pasma.
Mo¿na obej¶æ ten problem zwiêkszaj±c jej czêstotliwo¶æ (up-sampling), zanim ta
dotrze do filtru korektora (equalizer filter).
</para>

<para>
Filtr ma 10 parametrów:
</para>

<variablelist>
<varlistentry>
<term><option>g1:g2:g3...g10</option></term>
<listitem><para>
s± liczbami rzeczywistymi z przedzia³u od <literal>-12</literal> do
<literal>+12</literal>, okre¶laj±cymi przyrost dB dla ka¿dego pasma czêstotliwo¶ci.
</para></listitem>
</varlistentry>
</variablelist>

<para>
Przyk³ad:
<screen>
mplayer -af equalizer=11:11:10:5:0:-12:0:5:12:12 <replaceable>film.avi</replaceable>
</screen>
wzmocni d¼wiêk w wy¿szych i ni¿szych zakresach czêstotliwo¶ci, wyciszaj±c go
prawie ca³kowicie oko³o 1kHz.
</para>
</sect2>

<sect2 id="af_panning">
<title>Filtr pan (panning filter)</title>
<para>
U¿yj filtru pan (<option>pan</option> filter), ¿eby dowolnie miksowaæ kana³y. Najpro¶ciej
t³umacz±c jest to po³±czenie programowej regulacji g³o¶no¶ci (software volume control) i
filtru kana³ów (channels filter). Istniej± dla niego 2 podstawowe zastosowania:
</para>

<orderedlist>
<listitem><para>
Miksowanie wielu kana³ów w mniejsz± liczbê, na przyk³ad stereo do mono.
</para></listitem>
<listitem><para>
Zmienianie &quot;szeroko¶ci&quot; centralnego g³o¶nika w systemie przestrzennym.
</para></listitem>
</orderedlist>

<para>
Filtr jest trudny w u¿yciu i bêdzie wymaga³ zastosowania ¿mudnej metody prób i b³êdów,
zanim zostanie osi±gniêty oczekiwany rezultat. Liczba parametrów filtru zale¿y od
liczby kana³ów:
</para>

<variablelist>
<varlistentry>
<term><option>nch &lt;1-6&gt;</option></term>
<listitem><para>
jest liczb± ca³kowit± z przedzia³u od <literal>1</literal> do <literal>6</literal> i
jest u¿ywana w celu okre¶lenia liczby kana³ów wyj¶ciowych. Opcja ta jest wymagana.
Nie podanie jej spowoduje b³±d uruchamiania (runtime error).
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>l00:l01:l02:..l10:l11:l12:...ln0:ln1:ln2:...</option></term>
<listitem><para>
s± liczbami rzeczywistymi z przedzia³u od <literal>0</literal> do
<literal>1</literal>. <option>l[i][j]</option> ustala ile procent kana³u wej¶ciowego j
ma byæ zmiksowanych do kana³u wyj¶ciowego i.
</para></listitem>
</varlistentry>
</variablelist>

<para>
Przyk³ad 1:
<screen>
mplayer -af pan=1:0.5:0.5 -channels 1 <replaceable>film.avi</replaceable>
</screen>
zmiksuje kana³y ze stereo do mono.
</para>

<para>
Przyk³ad 2:
<screen>
mplayer -af pan=3:1:0:1:0.5:0.5 -channels 3 <replaceable>film.avi</replaceable>
</screen>
da 3 kana³ wyj¶ciowy, zostawiaj±c 0 i 1 nietkniête i miksuj±c kana³y 0 i 1
do 2 kana³u wyj¶ciowego (który mo¿e byæ na przyk³ad wys³any do subwoofera).
</para>
</sect2>

<sect2 id="af_sub">
<title>Subwoofer</title>
<para>
Filtr subwoofera (<option>sub</option> filter) dodaje kana³ subwoofera do strumienia
audio. Dane audio u¿yte do stworzenia tego kana³u s± ¶redni± d¼wiêku w 0 i 1 kanale. D¼wiêk
wynikowy zostanie poddany dzia³aniu dolnoprzepustowego filtru Butterwortha czwartego rzêdu
(4th order Butterworth filter) z domy¶ln± czêstotliwo¶ci± graniczn± na poziomie 60Hz i
dodany do oddzielnego kana³u w strumieniu audio.
Uwaga: Wy³±cz ten filtr, je¿eli odtwarzasz DVD z d¼wiêkiem w systemie Dolby Digital 5.1,
w przeciwnym wypadku, jego dzia³anie zak³óci d¼wiêk subwoofera. Filtr ma 2 parametry:
</para>

<variablelist>
<varlistentry>
<term><option>fc &lt;20-300&gt;</option></term>
<listitem><para>
    jest opcjonaln± liczb± rzeczywist±, u¿ywan± do okre¶lenia warto¶ci
    czêstotliwo¶ci granicznej w Hz. Prawid³owy zakres wynosi od 20Hz do 300Hz. Dla
    uzyskania najlepszego rezultatu, spróbuj ustawiæ j± na jak najni¿sz±. Wzbogaci to
    do¶wiadczenia p³yn±ce z u¿ywania d¼wiêku stereo i w systemie przestrzennym. Domy¶ln±
    warto¶ci± jest 60Hz.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>ch &lt;0-5&gt;</option></term>
<listitem><para>
    jest opcjonaln± liczb± ca³kowit± pomiêdzy <literal>0</literal> a
    <literal>5</literal>, która okre¶la numer kana³u, do którego ma zostaæ wys³any
    d¼wiêk subwoofera. Domy¶lnym jest <literal>5</literal>. Zauwa¿, ¿e liczb± kana³ów
    zwiêkszy siê do <replaceable>ch</replaceable>, je¿eli zajdzie taka potrzeba.
</para></listitem>
</varlistentry>
</variablelist>

<para>
Przyk³ad:
<screen>
mplayer -af sub=100:4 -channels 5 <replaceable>film.avi</replaceable>
</screen>
doda kana³ subwoofera z czêstotliwo¶ci± graniczn± równ± 100Hz do 4 kana³u wyj¶ciowego.
</para>
</sect2>

<sect2 id="af_surround">
<title>Dekoder d¼wiêku przestrzennego (Surround-sound decoder)</title>
<para>
Macierzowo zakodowany d¼wiêk przestrzenny, mo¿e byæ zdekodowany filtrem przestrzennym
(<option>surround</option> filter). Dolby Surround jest przyk³adem
formatu zakodowanego macierzowo. Wiele plików zawieraj±cych 2 kana³y audio,
w rzeczywisto¶ci zawiera d¼wiêk przestrzenny zakodowany w tym systemie. Aby u¿yæ
tego filtru potrzebujesz karty z obs³ug± przynajmniej 4 kana³ów. Filtr
posiada jedn± opcjê:
</para>

<variablelist>
<varlistentry>
<term><option>d &lt;0-1000&gt;</option></term>
<listitem><para>
jest opcjonaln± liczb± rzeczywist± pomiêdzy <literal>0</literal> a
<literal>1000</literal>, u¿ywan± do ustawienia opó¼nienia w ms dla tylnych g³o¶ników.
Opó¼nienie powinno byæ ustawione w nastêpuj±cy sposób: je¶li d1 to odleg³o¶æ od
pozycji s³uchacza do przednich g³o¶ników a d2 to odleg³o¶æ od tylnych g³o¶ników,
to opó¼nienie d powinno byæ ustawione na 15ms, je¿eli d1 &lt;= d2 i 15 + 5*(d1-d2)
je¿eli d1 &gt; d2. Domy¶lna warto¶æ dla d to 20ms.
</para></listitem>
</varlistentry>
</variablelist>

<para>
Przyk³ad:
<screen>
mplayer -af surround=15 -channels 4 <replaceable>film.avi</replaceable>
</screen>
doda d¼wiêk przestrzenny dekoduj±c d¼wiêk dla tylnych g³o¶ników z opó¼nieniem 15ms.
</para>
</sect2>

<sect2 id="af_export">
<title>Audio Exporter</title>
<para>
Ten filtr audio eksportuje nadchodz±cy sygna³ do innych procesów,
u¿ywaj±c mapowania pamiêci (<literal>mmap()</literal>).
Zmapowane obszary zawieraj± nag³ówek:

<programlisting>
int nch                      /*ilo¶æ kana³ów*/
int size		     /*rozmiar bufora*/
unsigned long long counter   /*U¿ywany do zachowania synchronizacji,
                               aktualizowany za ka¿dym razem kiedy
                               eksportowane s± nowe dane.*/
</programlisting>
Reszta to 16-bitowe dane (bez przeplotu).
</para>

<variablelist>
<varlistentry>
<term><option>mmapped_file</option></term>
<listitem><para>
Plik, do którego chcesz eksportowaæ. Domy¶lnie jest to
<filename>~/.mplayer/mplayer-af_export</filename>.
</para></listitem>
</varlistentry>

<varlistentry>
<term><option>nsamples</option></term>
<listitem><para>
Ilo¶æ próbek przypadaj±cych na kana³. Domy¶lnie jest to <literal>512</literal>.
</para></listitem>
</varlistentry>
</variablelist>

<para>
Przyk³ad:
<screen>
mplayer -af export=/tmp/mplayer-af_export:1024 <replaceable>film.avi</replaceable>
</screen>
wyeksportuje 1024 próbek na kana³ do <filename>/tmp/mplayer-af_export</filename>.
</para>
</sect2>

<sect2 id="af_extrastereo">
<title>Extrastereo</title>

<para>
Ten filtr d¼wiêku zwiêksza (liniowo) ró¿nicê miêdzy lewym a prawym kana³em
(tak jak wtyczka extrastereo dla <application>XMMSa</application>)
dodaj±c efekt &quot;przekazu na ¿ywo&quot; do odtwarzania.
Ma on jeden parametr:</para>

<variablelist>
<varlistentry>
<term><option>mul</option></term>
<listitem><para>
to wspó³czynnik ró¿nicy wyra¿ony liczb± rzeczywist± (domy¶lna warto¶æ to
<literal>2.5</literal>). Je¶li podasz mu warto¶æ <literal>0.0</literal>, d¼wiêk bêdzie
odtwarzany w trybie mono (¶rednia z dwóch kana³ów). Je¶li natomiast
ustawisz go na <literal>1.0</literal>, d¼wiêk pozostamie niezmieniony,
a je¶li na <literal>-1.0</literal>, lewy kana³ z prawym zostan± zamienione.
</para></listitem>
</varlistentry>
</variablelist>

<para>
Sposób u¿ycia:
<screen>
mplayer -af extrastereo <replaceable>media.avi</replaceable>
mplayer -af extrastereo=3.45 <replaceable>media.avi</replaceable><!--
+--></screen>
</para>
</sect2>

<sect2 id="af_volnorm">
<title>Volume normalizer</title>

<para>
Ten filtr audio maksymalnie zwiêksza g³o¶no¶æ, nie wprowadzaj±c przy tym
szumów.
</para>

<para>
Sposób u¿ycia:
<screen>mplayer -af volnorm <replaceable>media.avi</replaceable></screen>
</para>
</sect2>
</sect1>
