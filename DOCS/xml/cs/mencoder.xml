<?xml version="1.0" encoding="iso-8859-2"?>
<!-- synced with r19265 -->
<chapter id="mencoder">
<title>Základní pou¾ití <application>MEncoder</application>u</title>

<para>
Úplný seznam dostupných voleb a pøíkladù pro <application>MEncoder</application>
naleznete v man stránce. Øadu u¾iteèných pøíkladù a podrobných návodù pro
pou¾ití mnoha enkódovacích voleb naleznete v
<ulink url="../../tech/encoding-tips.txt">tipech pro enkódování</ulink>, které
byly získány z nìkolika diskusí v konferenci MPlayer-users. Prohledejte
<ulink url="http://mplayerhq.hu/pipermail/mplayer-users/">archivy</ulink>,
chcete-li bohatost diskusí o v¹ech aspektech a problémech vzta¾ených
k enkódování <application>MEncoder</application>em.
</para>

<sect1 id="menc-feat-selecting-codec">
<title>Výbìr kodekù a nosných formátù</title>

<para>
  Audio a video kodeky pro enkódování jsou vybírány pøíslu¹nými volbami
  <option>-oac</option> a <option>-ovc</option> options.
  Napi¹te napøíklad:
  <screen>mencoder -ovc help</screen>
  pro seznam video kodekù podporovaných verzí programu
  <application>MEncoder</application> na va¹em poèítaèi.
  Dostupné jsou následující mo¾nosti:
</para>
<para>
Audio (zvukové) kodeky:

<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Jméno audio kodeku</entry><entry>Popis</entry></row>
</thead>
<tbody>
  <row>
    <entry>mp3lame</entry>
    <entry>Enkóduje do VBR, ABR nebo CBR MP3 pomocí LAME</entry>
  </row>
  <row>
    <entry>lavc</entry>
    <entry>Pou¾ije se nìkterý z
    <link linkend="menc-feat-enc-libavcodec-audio-codecs">
    <systemitem class="library">libavcodec</systemitem> audio kodekù</link>
    </entry>
  </row>
  <row>
    <entry>faac</entry>
    <entry>FAAC AAC audio enkodér</entry>
  </row>
  <row>
    <entry>toolame</entry>
    <entry>Enkodér MPEG Audio Layer 2</entry>
  </row>
  <row>
    <entry>twolame</entry>
    <entry>Enkodér MPEG Audio Layer 2 zalo¾ený na tooLAME</entry>
  </row>
  <row>
    <entry>pcm</entry>
    <entry>Nekomprimovaný PCM zvuk</entry>
  </row>
  <row>
    <entry>copy</entry>
    <entry>Nereenkóduje, pouze kopíruje komprimované vzorky</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
</para>

<para>
Video kodeky:
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Jméno video kodeku</entry><entry>Popis</entry></row>
</thead>
<tbody>
  <row>
    <entry>lavc</entry>
    <entry>Pou¾ije se nìkterý z
    <link linkend="menc-feat-enc-libavcodec-video-codecs">
    <systemitem class="library">libavcodec</systemitem> video kodekù</link>
    </entry>
  </row>
  <row>
    <entry>xvid</entry>
    <entry>XviD, MPEG-4 Advanced Simple Profile (ASP) kodek</entry>
  </row>
  <row>
    <entry>x264</entry>
    <entry>x264, MPEG-4 Advanced Video Coding (AVC), alias H.264 kodek</entry>
  </row>
  <row>
    <entry>nuv</entry>
    <entry>nuppel video, pou¾ívaný nìkterými realtime aplikacemi</entry>
  </row>
  <row>
    <entry>raw</entry>
    <entry>Nekomprimované videosnímky</entry>
  </row>
  <row>
    <entry>copy</entry>
    <entry>Nereenkóduje, pouze kopíruje komprimované snímky</entry>
  </row>
  <row>
    <entry>frameno</entry>
    <entry>Pou¾ité pro 3-prùchodové enkódování (nedoporuèujeme)</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
</para>
<para>
  Výstupní nosný formát je vybírán volbou <option>-of</option>.
  Zadejte:
  <screen>mencoder -of help</screen>
  pro seznam v¹ech nosných formátù podporovaných verzí programu
  <application>MEncoder</application> na va¹em poèítaèi.
  Dostupné jsou následující mo¾nosti:
</para>
<para>
Nosné formáty:
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Název nosného formátu</entry><entry>Popis</entry></row>
</thead>
<tbody>
  <row>
    <entry>lavf</entry>
    <entry>Jeden z nosných formátù podporovaných
    <systemitem class="library">libavformat</systemitem></entry>
  </row>
  <row>
    <entry>avi</entry>
    <entry>Audio-Video Interleaved (Prokládané audio s videem)</entry>
  </row>
  <row>
    <entry>mpeg</entry>
    <entry>MPEG-1 a MPEG-2 PS</entry>
  </row>
  <row>
    <entry>rawvideo</entry>
    <entry>surový (raw) video datový proud (¾ádný muxing &ndash; pouze jeden
    video proud)</entry>
  </row>
  <row>
    <entry>rawaudio</entry>
    <entry>surový (raw) audio datový proud (¾ádný muxing &ndash; pouze jeden
    audio proud)</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
  Nosný formát AVI je nativním nosným formátem
  <application>MEncoder</application>u, co¾ znamená, ¾e je tím, který je nejlépe
  zpracován a pro nìj¾ byl <application>MEncoder</application>
  navr¾en.
  Jak bylo zmínìno, ostatní nosné formáty jsou pou¾itelné, ale mù¾ete
  pøi jejich pou¾ití narazit na problémy.
</para>

<para>
Nosné formáty <systemitem class="library">libavformat</systemitem>:
</para>
<para>
  Pokud jste si zvolili <systemitem class="library">libavformat</systemitem>
  pro provádìní muxování výstupního souboru (pomocí <option>-of lavf</option>),
  pøíslu¹ný nosný formát bude urèen z pøípony výstupního souboru.
  Mù¾ete vynutit urèitý nosný formát pomocí parametru <option>format</option>
  knihovny <systemitem class="library">libavformat</systemitem>.

<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Název <systemitem class="library">libavformat</systemitem> nosného formátu</entry><entry>Popis</entry></row>
</thead>
<tbody>
  <row>
    <entry>mpg</entry>
    <entry>MPEG-1 a MPEG-2 PS</entry>
  </row>
  <row>
    <entry>asf</entry>
    <entry>Advanced Streaming Format</entry>
  </row>
  <row>
    <entry>avi</entry>
    <entry>Audio-Video Interleaved</entry>
  </row>
  <row>
    <entry>wav</entry>
    <entry>Waveform Audio</entry>
  </row>
  <row>
    <entry>swf</entry>
    <entry>Macromedia Flash</entry>
  </row>
  <row>
    <entry>flv</entry>
    <entry>Macromedia Flash video</entry>
  </row>
  <row>
    <entry>rm</entry>
    <entry>RealMedia</entry>
  </row>
  <row>
    <entry>au</entry>
    <entry>SUN AU</entry>
  </row>
  <row>
    <entry>nut</entry>
    <entry>otevøený nosný formát NUT (experimentální a dosud nesluèitelný se specifikací)</entry>
  </row>
  <row>
    <entry>mov</entry>
    <entry>QuickTime</entry>
  </row>
  <row>
    <entry>mp4</entry>
    <entry>formát MPEG-4</entry>
  </row>
  <row>
    <entry>dv</entry>
    <entry>Sony Digital Video</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
  Jak vidíte, <systemitem class="library">libavformat</systemitem>
  umo¾òuje <application>MEncoder</application>u muxovat do velkého mno¾ství
  nosných formátù.
  Nane¹tìstí, jeliko¾ <application>MEncoder</application> nebyl od poèátku
  navr¾en pro podporu jiných nosných formátù ne¾ AVI, mìli byste být
  paranoidní ve vstahu k výstupnímu souboru.
  Ovìøte si prosím pro jistotu, ¾e audio/video synchronizace je OK
  a soubor lze správnì pøehrát i jinými pøehrávaèi, ne¾
  <application>MPlayer</application>.
</para>

<informalexample>
<para>Pøíklad:</para>
<para>
  Vytvoøení Macromedia Flash videa vhodného pro pøehrávání ve webovém prohlí¾eèi
  pomocí Macromedia Flash pluginu:
<screen>
mencoder <replaceable>vstupní.avi</replaceable> -o <replaceable>výstupní.flv</replaceable> -of lavf -oac mp3lame -lameopts abr:br=56 -ovc lavc \
-lavcopts vcodec=flv:vbitrate=500:mbd=2:mv0:trell:v4mv:cbp:last_pred=3 \
-srate 22050
</screen>
</para>
</informalexample>

</sect1>


<sect1 id="menc-feat-selecting-input">
<title>Výbìr vstupního souboru nebo zaøízení</title>

<para>
  <application>MEncoder</application> umí enkódovat ze souborù nebo pøímo z
  DVD èi VCD disku.
  Vlo¾te na pøíkazovém øádku jméno souboru pro enkódování souboru,
  nebo <option>dvd://</option><replaceable>èíslo_titulu</replaceable> nebo
  <option>vcd://</option><replaceable>èíslo_stopy</replaceable> pro enkódování
  DVD titulu èi VCD stopy.
  Máte-li ji¾ zkopírováno DVD na hard disk (k tomu mù¾ete pou¾ít nástroj jako
  <application>dvdbackup</application>, dostupný na mnoha systémech),
  a chcete enkódovat z kopie, mìli byste i zde pou¾ít syntaxi
  <option>dvd://</option> ve spojení s volbou <option>-dvd-device</option>
  následovanou cestou do koøenového adresáøe skopírovaného DVD.

  Volby <option>-dvd-device</option> a <option>-cdrom-device</option>
  lze rovnì¾ pou¾ít k pøenastavení cest k souborùm zaøízení pro pøímé
  ètení diskù, pokud výchozí 
  <filename>/dev/dvd</filename> a <filename>/dev/cdrom</filename> na va¹em
  systému nepracují.
</para>
<para>
  Enkódujete-li z DVD, je èasto vhodné vybrat kapitolu nebo rozsah
  kapitol k enkódování.
  Pro tento úèel mù¾ete pou¾ít volbu <option>-chapter</option>.
  Napøíklad s volbou <option>-chapter</option> <replaceable>1-4</replaceable>
  se budou z DVD enkódovat pouze kapitoly 1 a¾ 4.
  To se zvlá¹» hodí, pokud budete enkódovat film na velikost 1400 MB
  urèený pro dvì CD, jeliko¾ budete mít jistotu, ¾e zlom nastane pøesnì
  na hranici kapitol místo uprostøed scény.
</para>
<para>
  Pokud máte podporovanou TV zachytávací kartu, mù¾ete rovnì¾ enkódovat ze
  zaøízení TV vstupu.
  Pou¾ijte <option>tv://</option><replaceable>èíslo_kanálu</replaceable> jako
  jméno souboru a volbu <option>-tv</option> pro konfiguraci rùzných nastavení
  zachytávání.
  Vstup z DVB pracuje obdobnì.
</para>
</sect1>


<sect1 id="menc-feat-mpeg4">
<title>Dvouprùchodové enkódování MPEG-4 (&quot;DivX&quot;)</title>

<para>
Název vychází z faktu, ¾e soubor je enkódován <emphasis>dvakrát</emphasis>.
První enkódování (dubbed pass) vytvoøí doèasné soubory
(<filename>*.log</filename>) velikosti nìkolika megabajtù, které zatím nema¾te
(mù¾ete smazat AVI, nebo radìji ¾ádné nevytváøejte a pøesmìrujte je do
<filename>/dev/null</filename>).
Ve druhém prùchodu je vytvoøen dvouprùchodový výstupní
soubor s pou¾itím øízení datového toku z doèasných souborù. Výsledný soubor
bude mít lep¹í kvalitu obrazu. Pokud jste o tom teï sly¹eli poprvé, mìli byste
si prostudovat nìkteré návody dostupné na netu.
</para>

<example>
<title>Kopírování zvukové stopy</title>
<para>
Dvouprùchodové enkódování druhé stopy z DVD do MPEG-4 (&quot;DivX&quot;)
AVI zatímco se zvuk pouze zkopíruje.
<screen>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac copy -o /dev/null
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -oac copy -o <replaceable>výstup.avi</replaceable>
</screen>
</para>
</example>

<example>
<title>Enkódování zvukové stopy</title>
<para>
Dvouprùchodové enkódování DVD do MPEG-4 (&quot;DivX&quot;) AVI a souèasnì
enkódování zvukové stopy do MP3.
Pøi této metodì buïte opatrní, jeliko¾ v nìkterých pøípadech mù¾e vést k rozjetí
zvuku s videem.
<screen>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac mp3lame -lameopts vbr=3 -o /dev/null
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -oac mp3lame -lameopts vbr=3 -o <replaceable>výstup.avi</replaceable>
</screen>
</para>
</example>
</sect1>


<sect1 id="menc-feat-handheld-psp">
<title>Enkódovánído video formátu Sony PSP</title>

<para>
  <application>MEncoder</application> podporuje enkódování do Sony PSP video
  formátu, ale mohou se li¹it, v závislosti na revizi PSP softwaru, s tím
  spojená omezení.
  Budete-li respektovat následující omezení, nemìli byste narazit na potí¾e:
<itemizedlist>
<listitem><para>
  <emphasis role="bold">Datový tok</emphasis>: by nemìl pøekroèit 1500kbps,
  ale poslední verze podporovaly prakticky jakýkoli datový tok pokud hlavièka
  tvrdí, ¾e není pøíli¹ vysoký.
</para></listitem>
<listitem><para>
  <emphasis role="bold">Rozmìry</emphasis>: ¹íøka a vý¹ka PSP videa
  by mìly být násobky 16 a výsledek ¹íøka * vý¹ka musí
  být &lt;= 64000.
  Za urèitých okolností mù¾e být mo¾né, aby PSP hrál i ve vy¹¹ím rozli¹ení.
</para></listitem>
<listitem><para>
  <emphasis role="bold">Audio</emphasis>: jeho vzorkovací kmitoèet by mìl být 24khz
  pro videa MPEG-4 a 48khz pro H.264.
</para></listitem>
</itemizedlist>
</para>

<example>
<title>Pøíklad</title>
<para>
<screen>
mencoder -oac lavc -ovc lavc -of lavf -lavcopts aglobal=1:vglobal=1:vcodec=mpeg4:acodec=aac \
-af lavcresample=24000 -vf harddup -lavfopts format=psp:i_certify_that_my_video_stream_does_not_use_b_frames \
-ofps 30000/1001 vstup.video -o výstup.psp
</screen>
  Poznamenejme, ¾e mù¾ete nastavit jméno videa pomocí
  <option>-info name=<replaceable>JménoFilmu</replaceable></option>.
</para>
</example>
</sect1>


<sect1 id="menc-feat-mpeg">
<title>Enkódování do MPEG formátu</title>
<para>
<application>MEncoder</application> umí vytvoøit výstupní soubor formátu
MPEG (MPEG-PS).
Pokud pou¾íváte MPEG-1 nebo MPEG-2 video, obvykle je to proto, ¾e enkódujete
pro omezený formát jako je SVCD, VCD nebo DVD.
Konkrétní po¾adavky tìchto formátù jsou objasnìny v sekci
<link linkend="menc-feat-vcd-dvd">návod pro vytvoøení VCD a DVD</link>.
</para>

<para>
Výstupní souborový formát <application>MEncoder</application>u zmìníte pou¾itím
volby <option>-of mpeg</option>.
</para>

<informalexample>
<para>
Pøíklad:
<screen>
mencoder <replaceable>vstup.avi</replaceable> -of mpeg -ovc lavc -lavcopts vcodec=mpeg1video -oac copy <replaceable>dal¹í_volby</replaceable> -o <replaceable>výstup.mpg</replaceable>
</screen>
Vytvoøení MPEG-1 souboru vhodného pro pøehrávání na systémech s minimální
podporou multimédií, jako je výchozí instalace Windows:
<screen>
mencoder <replaceable>vstup.avi</replaceable> -of mpeg -mpegopts format=mpeg1:tsaf:muxrate=2000 -o <replaceable>výstup.mpg</replaceable> -oac lavc -ovc lavc \
-lavcopts acodec=mp2:abitrate=224:vcodec=mpeg1video:vbitrate=1152:keyint=15:mbd=2:aspect=4/3
</screen>
</para>
</informalexample>

<note><title>Tip:</title>
<para>
  Pokud vás z nìjakého dùvodu neuspokojí kvalita videa z druhého prùchodu,
  mù¾ete znovu spustit enkódování videa s jiným cílovým datovým tokem, s tím,
  ¾e máte ulo¾en soubor se statistikami z pøedchozího prùchodu.
  To je mo¾né proto, ¾e cílem statistického souboru je pøedev¹ím zaznamenat
  komplexitu ka¾dého snímku, která pøíli¹ nezávisí na datovém toku.
  Pov¹imnìte si, ¾e aèkoli nejvy¹¹í kvality dosáhnete pokud v¹echny
  prùchody pobì¾í pøi stejném datovém toku, tak se výsledek pøíli¹ neli¹í.
</para>
</note>

</sect1>

<sect1 id="menc-feat-rescale">
<title>©kálování (zmìna velikosti) filmù</title>

<para>
Èasto potøebujeme zmìnit velikost obrázkù ve filmu a to z mnoha dùvodù: zmen¹ení
souboru, zátì¾e sítì atd. Mnoho lidí dokonce mìní velikost pøi pøevodu DVD nebo
SVCD do DivX AVI. Pokud si pøejete video pøe¹kálovat, pøeètìte si sekci
<link linkend="aspect">Zachování pomìru stran</link>.
</para>

<para>
Samotný proces ¹kálování je provádìn video filtrem <literal>scale</literal>:
<option>-vf scale=<replaceable>¹íøka</replaceable>:<replaceable>vý¹ka</replaceable></option>.
Jeho kvalita mù¾e být nastavena volbou <option>-sws</option>.
Pokud ji neuvedete, <application>MEncoder</application> pou¾ije 2: bikubickou.
</para>

<para>
Pou¾ití:
<screen>
mencoder <replaceable>vstup.mpg</replaceable> -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -vf scale=640:480 -o <replaceable>výstup.avi</replaceable>
</screen>
</para>
</sect1>


<sect1 id="menc-feat-streamcopy">
<title>Proudové kopírování</title>

<para>
<application>MEncoder</application> mù¾e zpracovat vstupní datové proudy dvìma
zpùsoby:
<emphasis role="bold">enkóduje</emphasis> je, nebo je
<emphasis role="bold">kopíruje</emphasis>. Tato èást je o
<emphasis role="bold">kopírování</emphasis>.
</para>

<itemizedlist>
<listitem><para>
  <emphasis role="bold">Video proud</emphasis> (volba <option>-ovc copy</option>):
  mù¾ete dìlat pìkné vìci :) Jako umístìní (nikoli konverze!) FLI nebo VIVO nebo
  MPEG-1 videa do AVI souboru! Samozøejmì takové soubory pøehraje pouze
  <application>MPlayer</application> :) A proto to nejspí¹ nemá ¾ádnou rozumnou
  hodnotu. A teï vá¾nì: kopírování video proudu mù¾e být u¾iteèné napøíklad
  tehdy, kdy¾ má být enkódován pouze zvuk (napø. nekomprimovaný PCM do MP3).
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Audio proud</emphasis> (volba <option>-oac copy</option>):
  jednoduché. Je mo¾né vzít externí zvukový soubor (MP3, WAV) a namultiplexovat
  jej do výstupního proudu. K tomu pou¾ijte volbu
  <option>-audiofile <replaceable>soubor</replaceable></option>.
  </para></listitem>
</itemizedlist>

<para>
  Pou¾ití <option>-oac copy</option> pro kopírování z jednoho nosného fomátu
  do jiného mù¾e vy¾adovat pou¾ití <option>-fafmttag</option> pro zachování
  pøíznaku formátu zvuku pùvodního souboru.
  Napøíklad pokud konvertujete NSV soubor a AAC zvukem do nosného formátu AVI,
  bude pøíznak formátu zvuku nesprávný a bude jej nutno zmìnit.
  Seznam pøíznakù audio formátu naleznete v souboru
  <filename>codecs.conf</filename>.
</para>

<para>
Pøíklad:
<screen>
mencoder <replaceable>vstupní.nsv</replaceable> -oac copy -fafmttag 0x706D -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -o <replaceable>výstupní.avi</replaceable>
</screen>
</para>

</sect1>


<sect1 id="menc-feat-enc-images">
<title>Enkódování z mno¾ství vstupních obrázkových souborù (JPEG, PNG, TGA, SGI)</title>

<para>
<application>MEncoder</application> je schopen vytvoøit film z jednoho nebo více
JPEG, PNG nebo TGA souborù. Pomocí jednoduchého snímkového kopírování mù¾e
vytvoøit MJPEG (Motion JPEG), MPNG (Motion PNG) nebo MTGA (Motion TGA) soubory.
</para>

<orderedlist>
<title>Vysvìtlení procesu:</title>
<listitem><para>
  <application>MEncoder</application> <emphasis>dekóduje</emphasis> vstupní
  soubor(y) pomocí knihovny <systemitem class="library">libjpeg</systemitem>
  (kdy¾ dekóduje PNG, pou¾ije <systemitem class="library">libpng</systemitem>).
  </para></listitem>
<listitem><para>
  Potom <application>MEncoder</application> nakrmí dekódovaný snímek do
  zvoleného video kompresoru (DivX4, XviD, FFmpeg msmpeg4, atd).
  </para></listitem>
</orderedlist>

<formalpara>
<title>Pøíklady</title>
<para>
Vysvìtlení volby <option>-mf</option> je v man stránce.

<informalexample>
<para>
Vytvoøení MPEG-4 souboru ze v¹ech JPEG souborù v aktuálním adresáøi:
<screen>
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <replaceable>výstup.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Vytvoøení MPEG-4 souboru z nìkterých JPEG souborù v aktuálním adresáøi:
<screen>
mencoder mf://<replaceable>snímek001.jpg,snímek002.jpg</replaceable> -mf w=800:h=600:fps=25:type=jpg -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <replaceable>výstup.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Vytvoøení MPEG-4 souboru ze seznamu vyjmenovaných JPEG souborù
(seznam.txt v aktuálním adresáøi obsahuje seznam souborù k pou¾ití
jako zdroj, ka¾dý soubor na samostatném øádku):
<screen>
mencoder mf://<replaceable>@seznam.txt</replaceable> -mf w=800:h=600:fps=25:type=jpg \ 
-ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <replaceable>výstup.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Vytvoøení Motion JPEG (MJPEG) souboru ze v¹ech JPEG souborù v aktuálním
adresáøi:
<screen>
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc copy -oac copy -o <replaceable>výstup.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Vytvoøení nekomprimovaného souboru ze v¹ech PNG souborù v aktuálním adresáøi:
<screen>
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc raw -oac copy -o <replaceable>výstup.avi</replaceable>
</screen>
</para>
</informalexample>

<note><para>
©íøka musí být celé èíslo násobek 4, to je dáno omezením RAW RGB AVI formátu.
</para></note>

<informalexample>
<para>
Vytvoøení Motion PNG (MPNG) souboru ze v¹ech PNG souborù v aktuálním adresáøi:
<screen>
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc copy -oac copy -o <replaceable>výstup.avi</replaceable> <!--
--></screen>
</para>
</informalexample>

<informalexample>
<para>
Vytvoøení Motion TGA (MTGA) souboru ze v¹ech TGA souborù v aktuálním adresáøi:
<screen>
mencoder mf://*.tga -mf w=800:h=600:fps=25:type=tga -ovc copy -oac copy -o <replaceable>výstup.avi</replaceable><!--
--></screen>
</para>
</informalexample>

</para>
</formalpara>
</sect1>


<sect1 id="menc-feat-extractsub">
<title>Extrakce DVD titulkù do VOBsub souboru</title>

<para>
<application>MEncoder</application> je schopen vyextrahovat titulky z DVD do
VOBsub formátovaných souborù. Ty sestávají ze dvou souborù zakonèených
<filename>.idx</filename> a <filename>.sub</filename> a jsou obvykle zabaleny
v jediném <filename>.rar</filename> archivu.
<application>MPlayer</application> je umí pøehrávat s pomocí voleb
<option>-vobsub</option> a <option>-vobsubid</option>.
</para>

<para>
Zadejte základní jméno (èili bez pøípony <filename>.idx</filename> nebo
<filename>.sub</filename>) výstupních souborù pomocí volby
<option>-vobsubout</option> a index pro tyto titulky ve zbývajících souborech
pomocí <option>-vobsuboutindex</option>.
</para>

<para>
Pokud není vstup z DVD, mìli byste pou¾ít <option>-ifo</option> pro indikaci
<filename>.ifo</filename> souboru nutného k vytvoøení výsledného
<filename>.idx</filename> souboru.
</para>

<para>
Pokud vstup není z DVD a nemáte <filename>.ifo</filename> soubor, budete muset
pou¾ít volbu <option>-vobsubid</option> k nastavení, pro které id jazyka se má
vytvoøit <filename>.idx</filename> soubor.
</para>

<para>
Ka¾dým spu¹tìním se pøidají bì¾ící titulky pokud soubory <filename>.idx</filename>
a <filename>.sub</filename> ji¾ existují. Tak¾e byste je mìli v¹echny odstranit
døíve ne¾ zaènete.
</para>

<example>
<title>Kopírování dvojích titulkù z DVD bìhem dvouprùchodového enkódování</title>
<screen>
rm titulky.idx titulky.sub
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -vobsubout titulky
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -vobsubout titulky -vobsuboutindex 1 -sid 5<!--
--></screen>
</example>

<example>
<title>Kopírování francouzských titulkù z MPEG souboru</title>
<screen>
rm titulky.idx titulky.sub
mencoder <replaceable>film.mpg</replaceable> -ifo <replaceable>film.ifo</replaceable> -vobsubout titulky -vobsuboutindex 0 -vobsuboutid fr -sid 1 -nosound -ovc copy
</screen>
</example>

</sect1>

<sect1 id="aspect">
<title>Zachování pomìru stran</title>
<para>
DVD a SVCD (èili MPEG-1/2) soubory obsahují hodnotu pomìru stran,
popisující, jak by mìl pøehrávaè ¹kálovat video proud, tak¾e lidé nebudou mít
¹i¹até hlavy (pø.: 480x480 + 4:3 = 640x480). Pokud ov¹em enkódujeme do AVI
(DivX) souborù, mìjte na pamìti, ¾e AVI hlavièky neukládají tuto hodnotu.
Pøe¹kálování videa je odporné a èasovì nároèné, tak¾e musí být lep¹í zpùsob!
</para>

<para>A zde jej máte</para>

<para>
MPEG-4 má unikátní vlastnost: video proud mù¾e obsahovat svùj po¾adovaný pomìr
stran. Ano, pøesnì jako MPEG-1/2 (DVD, SVCD) a H.263 soubory. Nane¹tìstí,
<emphasis role="bold">¾ádný</emphasis> video pøehrávaè nepodporuje tento atribut
MPEG-4, s výjimkou <application>MPlayer</application>u.
</para>

<para>
Tato vlastnost mù¾e být pou¾ita pouze s kodekem <systemitem>mpeg4</systemitem> z
<link linkend="ffmpeg"><systemitem class="library">libavcodec</systemitem></link>u.
Mìjte na pamìti: aèkoli
<application>MPlayer</application> korektnì pøehraje vytvoøený soubor, ostatní
pøehrávaèe pou¾ijí ¹patný pomìr stran.
</para>

<para>
Opravdu byste mìli oøíznout èerné okraje nad a pod filmem.
Nastudujte si pou¾ití filtrù <systemitem>cropdetect</systemitem> a
<systemitem>crop</systemitem> v man stránce.
</para>

<para>
Pou¾ití
<screen>mencoder <replaceable>vzorové-svcd.mpg</replaceable> -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:autoaspect -vf crop=714:548:0:14 -oac copy -o <replaceable>výstup.avi</replaceable></screen>
</para>
</sect1>


</chapter>
