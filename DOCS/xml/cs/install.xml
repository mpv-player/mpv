<?xml version="1.0" encoding="iso-8859-2"?>
<!-- synced with r19087 -->
<chapter id="install">
<title>Instalace</title>

<para>
Jednoduchý návod na instalaci naleznete v souboru <filename>README</filename>.
Pøeètìte si nejprve tento soubor a poté se vra»te zde pro dal¹í podrobnosti.
</para>

<para>
V této èásti vás provedeme procesem kompilace a konfigurace programu
<application>MPlayer</application>. Není to snadné, ale nemusí to být nutnì tì¾ké.
Pokud zaznamenáte rozdílné chování, ne¾ zde popisuji, prostudujte si prosím
tuto dokumentaci a naleznete své odpovìdi. Pokud narazíte na odkazy, následujte je
a peèlivì si prostudujte jejich obsah. Bude vás to stát trochu èasu,  ale STOJÍ to
za to.
</para>

<para>
Budete potøebovat pomìrnì zánovní systém. Na Linuxu doporuèujeme jádro øady 2.4.x.
</para>

<sect1 id="softreq">
<title>Softwarové po¾adavky</title>

<itemizedlist>
<listitem><para>
  <emphasis role="bold">binutils</emphasis> - navrhovaná verze je <emphasis role="bold">2.11.x</emphasis>.
  Tento program zaji¹»uje generování MMX/ 3DNow!/atd. instrukcí, které jsou velmi
  dùle¾ité.
</para></listitem>
<listitem><para>
  <emphasis role="bold">gcc</emphasis> - doporuèené verze jsou: <emphasis role="bold">2.95.3</emphasis>
  (mo¾ná <emphasis role="bold">2.95.4</emphasis>) a <emphasis role="bold">3.2+</emphasis>.
  <emphasis role="bold">Nikdy</emphasis> nepou¾ívejte 2.96 nebo 3.0.x! Tyto
  generují vadný kód pro <application>MPlayer</application>. Pokud se rozhodnete
  vymìnit gcc verze
  2.96, pak nevolte verzi 3.x jen proto, ¾e je novìj¹í! První verze øady
  3.x byly je¹tì hor¹í ne¾ 2.96. Tak¾e radìji downgradujte na 2.95.x
  (downgradujte také <systemitem class="library">libstdc++</systemitem>, proto¾e
  ji mohou potøebovat jiné programy) nebo neup/downgradujte vùbec (pak se ale
  pøipravte na problémy pøi bìhu). Pokud se rozhodnete pro 3.x, zkuste pou¾ít
  poslední verzi, první verze mìly rùzné chyby, tak¾e se ujistìte, ¾e máte aspoò
  3.1, ta je otestovaná a funkèní. Pro podrobnìj¹í informace o chybách gcc 2.96
 (které stále NEJSOU opraveny, byly v <application>MPlayer</application>u pouze
 OBEJITY!), viz sekci <link linkend="gcc-296">gcc 2.96</link> a <xref linkend="faq"/>.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">XFree86</emphasis> - doporuèená verze je
  <emphasis role="bold">v¾dy ta nejnovìj¹í</emphasis> (4.3).
  Normálnì by to mìl chtít ka¾dý, jeliko¾ od verze
  XFree86 4.0.2 obsahuje roz¹íøení <link linkend="xv">XVideo</link>
  (místy zmiòované jako <emphasis role="bold">Xv</emphasis>)
  které je nutné k zapnutí hardwarové YUV akcelerace (rychlé vykreslování
  obrázku) na kartách, které to podporují.
  Ujistìte se ¾e máte nainstalován i <emphasis role="bold">vývojový (dev)
  balíèek</emphasis>, jinak to nebude pracovat.
  Pro nìkteré video karty nepotøebujete XFree86. Viz seznam ní¾e.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">make</emphasis> - doporuèená verze je
  <emphasis role="bold">v¾dy ta nejnovìj¹í</emphasis> (aspoò 3.79.x). Obvykle to
  není dùle¾ité.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">SDL</emphasis> - není vy¾adována, ale mù¾e pomoci
  v nìkterých
  pøípadech (¹patný zvuk, video karty které se podivnì opo¾ïují s xv rozhraním).
  V¾dy pou¾ijte nejnovìj¹í (poèínaje 1.2.x).
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libjpeg</emphasis> - volitelný JPEG dekodér, pou¾ívaný
  volbou <option>-mf</option> a nìkterými QT MOV soubory. Pou¾itelný pro
  <application>MPlayer</application>
  i <application>MEncoder</application> pokud chcete pracovat se soubory JPEG.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libpng</emphasis> - doporuèený a výchozí (M)PNG dekodér.
  Vy¾adován pro GUI.
  Pou¾itelný pro <application>MPlayer</application> i <application>MEncoder</application>.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">lame</emphasis> - doporuèený, nutný pro enkódování MP3
  zvuku v <application>MEncoder</application>u, doporuèená verze je
  <emphasis>v¾dy ta nejnovìj¹í</emphasis> (aspoò 3.90).
  </para></listitem>
<listitem><para>
  <emphasis role="bold">zlib</emphasis> - doporuèená, nutná pro komprimovanou
  MOV hlavièku a podporu PNG.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libogg</emphasis> - volitelná, nutná pro pøehrávání
  souborového formátu OGG.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libvorbis</emphasis> - volitelná, nutná pro pøehrávání
  OGG Vorbis zvuku.
  </para></listitem>
<listitem><para>
  <emphasis role="bold"><ulink url="http://www.live555.com/mplayer/">LIVE555 Streaming Media</ulink></emphasis>
  - volitelná, nutná pro pøehrávání RTSP/RTP datových proudù.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">directfb</emphasis> - volitelný, z
  <ulink url="http://www.directfb.org"/>. Vy¾adujeme aspoò 0.9.13.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">cdparanoia</emphasis> - volitelná, pro podporu CDDA
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libfreetype</emphasis> - volitelná, pro podporu TTF fontù.
  Vy¾adujeme aspoò 2.0.9.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libxmms</emphasis> - volitelná, pro podporu XMMS
  vstupního pluginu.
  Vy¾adujeme aspoò 1.2.7.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libsmb</emphasis> - volitelná, pro podporu Samby.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">ALSA</emphasis> - volitelná, pro podporu ALSA
  zvukového výstupu. Vy¾adujeme aspoò 0.9.0rc4.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">bio2jack</emphasis> - volitelný, pro podporu JACK audio
  výstupu, potøebný pouze pøi kompilaci. Mù¾ete jej získat z
  <ulink url="http://bio2jack.sf.net/">http://bio2jack.sf.net</ulink>.
  Proto¾e nemá volbu install, ulo¾te ruènì soubor
  <filename>libbio2jack.a</filename> nìkam do knihovní vyhledávací
  cesty  (napø. <filename>/usr/local/lib</filename>) nebo volbou
  <option>--with-bio2jack=DIR</option> sdìlte <filename>./configure</filename>
  kde ten soubor najde.
  </para></listitem>
</itemizedlist>
</sect1>


<sect1 id="installation_codecs">
<title>Kodeky</title>

<itemizedlist>
<listitem><para>
  <emphasis role="bold"><systemitem class="library">libavcodec</systemitem></emphasis>:
  Tento balík kodekù je schopen dekódovat
  H.263/MJPEG/RV10/DivX3/DivX4/DivX5/MP41/MP42/WMV1/WMV2/SVQ1/SVQ3 enkódované
  video proudy a WMA (Windows Media Audio) v1/v2 zvukové proudy na rùzných
  platformách. Je také známý jako nejrychlej¹í pro tento úèel. Podrobnosti viz
  oddíl
  <link linkend="ffmpeg">FFmpeg</link>. Vlastnosti:
  <itemizedlist>
  <listitem><simpara>
    umo¾òuje dekódování vý¹e uvedených druhù videa na ne-x86 strojích
    </simpara></listitem>
  <listitem><simpara>
    enkódování vìt¹inou zmínìných kodekù
    </simpara></listitem>
  <listitem><simpara>
    Tento kodek je <emphasis role="bold">nejrychlej¹í dostupný kodek</emphasis>
    pro
    DivX/3/4/5 a ostatní MPEG-4 kodeky. Doporuèeno!
    </simpara></listitem>
  </itemizedlist>
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Win32 kodeky</emphasis>: Pokud plánujete pou¾ívat
  <application>MPlayer</application> na x86 architektuøe, mo¾ná je budete
  potøebovat.
  Stáhnìte si balíèek s kodeky z na¹í
  <ulink url="http://www.mplayerhq.hu/design7/codecs.html">kodekové stránky</ulink>
  a rozbalte je do <filename class="directory">/usr/local/lib/codecs</filename>
  <emphasis role="bold">PØED</emphasis> kompilací <application>MPlayer</application>u,
  jinak nebude zakompilována podpora pro Win32!
  <note><para>Projekt avifile má podobný balíèek kodekù, ale ten se od na¹eho
  li¹í,
  tak¾e pokud chcete v¹echny podporované kodeky, pou¾ijte ná¹ balíèek
  (bez obav, avifile s ním pracuje bez problémù).</para>
  </note>
  Vlastnosti:
  <itemizedlist>
  <listitem><simpara>
    potøebujete je pokud chcete pøehrávat nebo enkódovat napøíklad filmy
    zaznamenané rùznými
    hardwarovými kompresory, jako jsou tunerové karty a digitální kamery
    (napøíklad: DV, ATI VCR, MJPEG)
    </simpara></listitem>
  <listitem><simpara>
    potøebné pokud chcete pøehrávat <emphasis role="bold">WMV9/WMA9 filmy</emphasis>.
   </simpara></listitem>
  <listitem><simpara>
    Nejsou potøeba pro staré ASF s MP41 nebo MP42 videem (jeliko¾ je v tìchto
    souborech èasto VoxWare audio, je to provádìno Win32 kodekem), nebo WMV7.
    Rovnì¾ nejsou potøeba pro WMA (Windows Media Audio), proto¾e
    <systemitem class="library">libavcodec</systemitem>
    pro nì obsahuje open source dekodér.
    </simpara></listitem>
  </itemizedlist>
  </para></listitem>
<listitem><para>
  <emphasis role="bold">QuickTime kodeky</emphasis>: na platformnì x86 mohou být
  tyto kodeky pou¾ity k dekódování RPZA a ostatního QuickTime videa, jako¾
  i QDesign audio proudù.
  Návod na instalaci naleznete v èásti
  <link linkend="sorenson">Sorensonùv video kodek</link>.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">XviD</emphasis>: Open source enkódovací alternativa
  k DivX4Linux.
  Vlastnosti:
  <itemizedlist>
  <listitem><simpara>
    jedno nebo dvouprùchodové enkódování pomocí
    <link linkend="mencoder"><application>MEncoder</application>u</link>
    </simpara></listitem>
  <listitem><simpara>
    je open-source, tak¾e je multiplatformní.
    </simpara></listitem>
  <listitem><simpara>
    je zhruba 2 krát rychlej¹í pøi enkódování ne¾ DivX4 - pøi odpovídající
    kvalitì
    </simpara></listitem>
  </itemizedlist>
  </para></listitem>
<listitem><para>
  <emphasis role="bold"><link linkend="xanim">XAnim kodeky</link></emphasis>
  jsou nejlep¹í (celoobrazovkový, hardwarový YUV zoom) pro dekódování
  <emphasis role="bold">3ivx</emphasis> a Indeo 3/4/5 filmù, a nìkterých starých
  formátù. Navíc jsou multiplatformní, tak¾e jsou jedinou mo¾ností jak pøehrát
  Indeo na
  ne-x86 platformách (nehledì na pøehrávání XAnim:). Ale napøíklad Cinepak filmy
  jsou nejlépe pøehrávány pomocí <application>MPlayer</application>ova vlastního
  Cinepak dekodéru!
  </para></listitem>
<listitem><para>
  Pro dekódování <emphasis role="bold">Ogg Vorbis</emphasis> audia musíte správnì
  nainstalovat <systemitem class="library">libvorbis</systemitem>.
  Binární balíèky a zdrojové kódy naleznete na
  <ulink url="http://www.vorbis.com/download.psp">stránkách Ogg Vorbis</ulink>.
  </para></listitem>
<listitem><para>
  <application>MPlayer</application> mù¾e pou¾ít knihovny z RealPlayeru 8
  nebo RealONE k pøehrávání souborù s
  <emphasis role="bold">RealVideo 3.0 a 4.0</emphasis>
  videem, a Sipro/Cook zvukem. Viz èást
  <link linkend="realmedia">souborový formát RealMedia</link>
  pro návod na instalaci a více informací.
  </para></listitem>
</itemizedlist>
</sect1>


<sect1 id="video-cards">
<title>Video karty</title>

<para>
Obecnì máme dva druhy video karet. Jedny (ty novìj¹í) mají podporu pro
<emphasis role="bold">hardwarové ¹kálování a YUV akceleraci</emphasis>,
druhé ji nemají.
</para>


<sect2 id="yuv-cards">
<title>YUV karty</title>

<para>
Mohou zobrazit a ¹kálovat (zvìt¹it/zmen¹it) obraz na jakoukoli velikost,
která se jim vejde do pamìti, pøi <emphasis role="bold">nízkém zatí¾ení CPU</emphasis>
(dokonce i pøi zoomu), tak¾e je zobrazení na celou obrazovku hezké a velmi rychlé.

<itemizedlist>
<listitem><para>
  <emphasis role="bold">Karty Matrox G200/G400/G450/G550</emphasis>: aèkoli je
  pro nì
  <link linkend="vidix">Vidix ovladaè</link>, doporuèuje se místo nìj radìji
  pou¾ít modul mga_vid, jeliko¾ pracuje mnohem lépe.
  Podívejte se do èásti <link linkend="mga_vid">mga_vid</link> na informace o
  jeho pou¾ití
  a instalaci. Je dùle¾ité provést v¹echny tyto kroky
  <emphasis>pøed</emphasis> kompilací <application>MPlayer</application>u,
  jinak nebude zabudována podpora pro mga_vid. Rovnì¾ nahlédnìte do èásti
  <link linkend="tvout-mga-g400">Matrox TV-out</link>.
  <emphasis role="bold"> Pokud nepou¾íváte Linux</emphasis>, je va¹í jedinou
  volbou
  VIDIX ovladaè: pøeètìte si sekci <link linkend="vidix">VIDIX</link>.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Karty 3Dfx Voodoo3/Banshee</emphasis>: prostudujte si
  sekci <link linkend="tdfxfb">tdfxfb</link> pokud chcete velké zrychlení.
  Je dùle¾ité provést v¹echny tyto kroky <emphasis role="bold">pøed</emphasis>
  kompilací <application>MPlayer</application>u, jinak  nebude zabudována
  podpora pro 3Dfx.
  Rovnì¾ nahlédnìte do èásti <link linkend="tvout-voodoo">3dfx TV-out</link>.
  Pokud pou¾íváte X, pou¾ijte alespoò <emphasis role="bold">4.2.0</emphasis>,
  proto¾e 3dfx Xv ovladaè je vadný v 4.1.0 a pøedchozích.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Karty ATI</emphasis>: <link linkend="vidix">VIDIX</link>
  ovladaè je k dispozici pro následující karty:
  <emphasis role="bold">Radeon, Rage128, Mach64</emphasis>
 (Rage XL/Mobility, Xpert98).
  Rovnì¾ nahlédnìte do sekce <link linkend="tvout-ati">ATI karet</link>
  s dokumentací pro TV-out, kde se dozvíte zda je pod
  Linuxem/<application>MPlayer</application>em podporován
  TV-out va¹í karty.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Karty S3</emphasis>: Savage a Virge/DX èipy mají
  hardwarovou akceleraci. Pou¾ijte tak novou verzi XFree86 jak je jen mo¾né,
  star¹í ovladaèe
  jsou plné chyb. Èipy Savage mají problémy se zobrazováním YV12, viz sekci
  <link linkend="s3">S3 Xv</link> 
  pro více detailù. Star¹í Trio karty nemají ¾ádnou, nebo jen pomalou
  hardwarovou podporu.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Karty nVidia</emphasis>: mohou, ale nemusí být dobrou
  volbou pro pøehrávání videa pod Linuxem.
  Pokud nemáte kartu GeForce2 (nebo novìj¹í), nejspí¹e nebude pracovat bezchybnì.
  <emphasis role="bold">Vestavìný nVidia ovladaè v XFree86 nepodporuje
  hardwarovou YUV akceleraci na v¹ech nVidia kartách.</emphasis> Budete muset
  stáhnout closed-source ovladaèe od nVidie
  z <ulink url="http://nvidia.com">nVidia.com</ulink>.
  Viz sekci <link linkend="nvidia">nVidia Xv ovladaè</link> pro více detailù.
  Rovnì¾ nav¹tivte sekci <link linkend="tvout-nvidia">nVidia TV-out</link>
  pokud chcete pou¾ívat TV.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">3DLabs GLINT R3 a Permedia3</emphasis>: k dispozici máte
  VIDIX ovladaè (pm3_vid). Rovnì¾ nahlédnìte do èásti <link linkend="vidix">VIDIX</link>
  pro více informací.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Ostatní karty</emphasis>: ¾ádná z vý¹e uvedených?
  <itemizedlist>
  <listitem><simpara>
    Zkuste zda XFree86 ovladaè (a va¹e karta) podporuje hardwarovou
    akceleraci. Pro více informací viz sekci <link linkend="xv">Xv</link>.
    </simpara></listitem>
  <listitem><simpara>
    Pokud ne, pak nejsou video vlastnosti va¹í karty podporovány va¹ím operaèním
    systémem:( Jestli¾e hardwarové ¹kálování pracuje ve Windows, je¹tì to
    neznamená, ¾e bude funkèní v Linuxu nebo jiném operaèním systému.
    To závisí na ovladaèích. Vìt¹ina výrobcù nedodává ovladaèe pro Linux ani
    nezveøejnila specifikace svých
    èipù -- pokud pou¾íváte jejich karty pak máte smùlu.
    Viz <xref linkend="non-yuv-cards"/>.
    </simpara></listitem>
  </itemizedlist>
  </para></listitem>
</itemizedlist>
</para>
</sect2>


<sect2 id="non-yuv-cards" xreflabel="Ne-YUV karty">
<title>Ne-YUV karty</title>

<para>
Pøehrávání na celé obrazovce mù¾e být dosa¾eno buï zapnutím <emphasis role="bold">
softwarového ¹kálování</emphasis> (pou¾itím volby <option>-zoom</option> nebo
<option>-vf</option>, ale varuji vás: je to pomalé), anebo pøepnutím do men¹ího
videore¾imu, napøíklad
352x288. Pokud nemáte YUV akceleraci, doporuèujeme druhou mo¾nost.
Pøepínání videore¾imu lze zapnout pou¾itím volby <option>-vm</option>,
co¾ pracuje s tìmito ovladaèi:
<itemizedlist>
<listitem><simpara>
  <emphasis role="bold">pou¾íváte</emphasis> XFree86: viz detaily v èásti
  <link linkend="dga">DGA ovladaè</link> a
  <link linkend="x11">X11 ovladaè</link>. Doporuèujeme DGA! Vyzkou¹ejte také DGA
  pøes SDL, nìkdy je lep¹í.
  </simpara></listitem>
<listitem><simpara>
  <emphasis role="bold">nepou¾íváte</emphasis> XFree86: zkou¹ejte ovladaèe
  v následujícím poøadí:
  <link linkend="vesa">vesa</link>,
  <link linkend="fbdev">fbdev</link>,
  <link linkend="svgalib">svgalib</link>,
  <link linkend="aalib">aalib</link>.
  </simpara></listitem>
</itemizedlist>
</para>
</sect2>

<!-- FIXME: find a more logical organization for this section -->
<sect2 id="cirrus-logic-cards" xreflabel="Karty Cirrus-Logic">
<title>Karty Cirrus-Logic</title>
<itemizedlist>
<listitem><para>
  GD 7548: byla integrovaná na základní desce a testována v noteboocích øady
  Compaq Armada 41xx.
  <itemizedlist>
  <listitem><simpara>
    XFree86 3: pracuje v re¾imech 8/16bpp. Ovladaè je ov¹em velmi pomalý a
    nestabilní pøi
    800x600@16bpp. <emphasis role="bold">Doporuèujeme: 640x480@16bpp</emphasis>
   </simpara></listitem>
  <listitem><simpara>
    XFree86 4: Xserver zamrznul brzy po startu pokud nebyla vypnuta akcelerace,
    ale pak se v¹e zpomalilo víc ne¾ v XFree86 3. Není XVideo.
   </simpara></listitem>
  <listitem><simpara>
    FBdev: framebuffer lze zapnout pomocí modulu jádra <systemitem>clgenfb</systemitem>.
    Pracoval ov¹em pouze v 8bpp barevné hloubce, co¾ je k nièemu.
    Zdrojový kód clgenfb musí být roz¹íøen o ID 7548 pøed kompilací.
   </simpara></listitem>
  <listitem><simpara>
    VESA: karta podporuje pouze VBE 1.2, tak¾e výstup VESA nelze pou¾ít.
    Nelze to obejít pomocí UniVBE.
  </simpara></listitem>
  <listitem><simpara>
    SVGAlib: detekuje star¹í Cirrus èip. Pou¾itelné, ale pomalé pøi
    <option>-bpp 8</option>.
  </simpara></listitem>
</itemizedlist>
</para></listitem>
</itemizedlist>
</sect2>
</sect1>


<sect1 id="sound-cards">
<title>Zvukové karty</title>

<itemizedlist>
<listitem><simpara>
  <emphasis role="bold">Soundblaster Live!</emphasis>: s touto kartou mù¾ete
  pou¾ít 4 nebo 6 (<emphasis role="bold">5.1</emphasis>) kanálové AC3 dekódování
  místo 2 kanálového.
  Pøeètìte si sekci 
  <link linkend="swac3">Softwarové dekódování AC3</link>. Pro hardwarové AC3
  tunelování <emphasis role="bold">musíte</emphasis> pou¾ít ALSA 0.9 s OSS
  emulací!
  </simpara></listitem>
<listitem><simpara>
  <emphasis role="bold">C-Media s S/PDIF výstupem</emphasis>: hardwarové AC3
  tunelování je s tìmito kartami mo¾né, viz sekci
  <link linkend="hwac3">Hardwarové AC3 dekódování</link>.
  </simpara></listitem>
<listitem><simpara>
  Vlastnosti <emphasis role="bold">ostatních karet</emphasis> nejsou
  <application>MPlayer</application>em podporovány.
  <emphasis role="bold">Velmi doporuèujeme k pøeètení sekci
  <link linkend="audio">zvukové karty</link>!</emphasis>
  </simpara></listitem>
</itemizedlist>
</sect1>


<sect1 id="features">
<title>Vlastnosti</title>

<itemizedlist>
<listitem><para>
  Rozhodnìte se zda potøebujete GUI. Pokud ano, pøeètìte si pøed kompilací
  sekci <link linkend="gui">GUI</link>.
  </para></listitem>
<listitem><para>
  Pokud chcete nainstalovat <application>MEncoder</application> (ná¹ skvìlý
  v¹estranný enkodér), pøeètìte si sekci
  <link linkend="mencoder"><application>MEncoder</application></link>.
  </para></listitem>
<listitem><para>
  Pokud máte V4L kompatibilní <emphasis role="bold">TV tuner</emphasis> kartu,
  a pøejete si sledovat/grabovat filmy <application>MPlayer</application>em,
  pøeètìte si sekci <link linkend="tv-input">TV vstup</link>.
  </para></listitem>
<listitem><para>
  Pøipravena k pou¾ití je podpora pìkného <emphasis role="bold">OSD Menu</emphasis>.
  Pøeètìte si sekci <link linkend="subosd">OSD menu</link>.
  </para></listitem>
</itemizedlist>

<para>
  Pak pøelo¾te <application>MPlayer</application>:
<screen>
  ./configure
  make
  make install</screen>
</para>

<para>
  V tuto chvíli máte <application>MPlayer</application> pøipraven k pou¾ití.
  Adresáø <filename class="directory">$PREFIX/share/mplayer</filename>
  obsahuje soubor <filename>codecs.conf</filename>. Ten se pou¾ívá pro oznámení
  v¹ech kodekù a jejich schopností. Tento soubor je potøeba pouze pokud chcete
  tyto pøedvolby zmìnit, proto¾e
  jeho kopie je souèástí vlastního programu.
  Zjistìte jestli máte v domácím adresáøi soubor
  <filename>codecs.conf</filename> 
  (<filename>~/.mplayer/codecs.conf</filename>) ze starých verzí
  <application>MPlayer</application>u a odstraòte ho.
</para>

<para>
  Poznamenejme ¾e pokud umístíte <filename>codecs.conf</filename> do
  <filename>~/.mplayer/</filename>, vestavìný a systémový
  <filename>codecs.conf</filename> budou zcela ignorovány.
  Nedìlejte to pokud nechcete o¹idit pøednastavení
  <application>MPlayer</application>u, co¾ mù¾e zpùsobit mnoho problémù.
  Pokud jen chcete zmìnit poøadí vyhledávání kodekù,
  pou¾ijte volby <option>-vc</option>, <option>-ac</option>,
  <option>-vfm</option> nebo <option>-afm</option> v pøíkazovém øádku,
  nebo konfiguraèním souboru (viz manuálová stránka).
</para>


<para>
  U¾ivatelé Debianu si mohou vyrobit .deb balíèek, je to velmi jednoduché.
  Jen spus»te binárku
  <screen>fakeroot debian/rules</screen>
  v <application>MPlayer</application>ovì koøenovém adresáøi. Podrobnosti viz
  <link linkend="debian">Balíèkování Debianu</link>.
</para>

<para>
  <emphasis role="bold">V¾dy si prostudujte výstup skriptu</emphasis>
  <filename>./configure</filename>, a soubor <filename>configure.log</filename>,
  které obsahují informace o tom co bude zakompilováno a co ne. Také mù¾ete
  chtít vidìt soubory <filename>config.h</filename> a
  <filename>config.mak</filename>.
  Pokud máte nìkteré knihovny nainstalovány, ale nebyly detekovány skriptem
  <filename>./configure</filename>, pak ovìøte, zda máte pøíslu¹né hlavièkové
  soubory
  (obvykle -dev balíèky) a jejich verze jsou shodné. Soubor
  <filename>configure.log</filename> vám obvykle prozradí co vám chybí.
</para>

<para>
  Aèkoli to není podmínkou, mìli byste mít nainstalovány fonty pro funkci OSD a
  zobrazování titulkù. Doporuèujeme nainstalovat soubor fontu TTF a naøídit
  <application>MPlayer</application>u jej pou¾ívat.
  Detaily viz sekce <link linkend="subosd">Titulky a OSD</link>.
</para>

</sect1>

<!-- ********** -->

<sect1 id="gui">
<title>Chtìli byste GUI?</title>

<para>
  GUI potøebuje GTK 1.2.x nebo GTK 2.0 (není plnì GTK, ale panely jsou).
  Skiny jsou ulo¾eny v PNG formátu,
  tak¾e GTK, <systemitem class="library">libpng</systemitem>
  (a jejich pøíslu¹enství, obvykle nazývané <systemitem class="library">gtk-dev</systemitem>
  a <systemitem class="library">libpng-dev</systemitem>) musí být nainstalovány.
  Mù¾ete jej zakompilovat pøedáním volby <option>--enable-gui</option> skriptu
  <filename>./configure</filename>. Aktivaci GUI re¾imu pak provedete spu¹tìním
  binárky <command>gmplayer</command>.
</para>

<para>
  V souèasnosti lze také pøedat volbu <option>-gui</option> na pøíkazovém øádku,
  z technických dùvodù.
</para>

<para>
  Proto¾e <application>MPlayer</application> nemá pøibalen ¾ádný skin, budete si
  muset nìjaký stáhnout abyste mohli pou¾ívat GUI. Viz na¹i <ulink
  url="http://www.mplayerhq.hu/dload.html">download stránku</ulink>.
  Skiny by mìly být rozbaleny do obvyklého systémového adresáøe
  (<filename class="directory">$PREFIX/share/mplayer/skins</filename>),
  nebo do <filename class="directory">$HOME/.mplayer/skins</filename>.
  <application>MPlayer</application> ve výchozím stavu hledá v tìchto adresáøích
  podadresáø jménem <filename class="directory">default</filename>, ale
  mù¾ete pou¾ít volbu <option>-skin <replaceable>nový_skin</replaceable></option>
  nebo direktivu <literal>skin=nový_skin</literal> konfiguraèního souboru pro
  pou¾ití skinu v adresáøi <filename class="directory">*/skins/nový_skin</filename>.
</para>
</sect1>

<!-- ********** -->

<sect1 id="subosd">
<title>Titulky a OSD</title>

<para>
<application>MPlayer</application> umí zobrazovat titulky spolu s filmem.
V souèasnosti podporuje tyto formáty:
<itemizedlist>
<listitem><para>VOBsub</para></listitem>
<listitem><para>OGM</para></listitem>
<listitem><para>CC (closed caption)</para></listitem>
<listitem><para>MicroDVD</para></listitem>
<listitem><para>SubRip</para></listitem>
<listitem><para>SubViewer</para></listitem>
<listitem><para>Sami</para></listitem>
<listitem><para>VPlayer</para></listitem>
<listitem><para>RT</para></listitem>
<listitem><para>SSA</para></listitem>
<listitem><para>PJS (Phoenix Japanimation Society)</para></listitem>
<listitem><para><link linkend="mpsub">MPsub</link></para></listitem>
<listitem><para>AQTitle</para></listitem>
<listitem><para><ulink url="http://unicorn.us.com/jacosub/">JACOsub</ulink></para></listitem>
</itemizedlist>
</para>

<para>
<application>MPlayer</application> umí vyextrahovat vý¹e uvedené formáty titulkù
(<emphasis role="bold">s výjimkou prvních tøech</emphasis>) do následujících
cílových formátù zadáním pøíslu¹ných voleb:
<itemizedlist>
<listitem><para>MPsub: <option>-dumpmpsub</option></para></listitem>
<listitem><para>SubRip: <option>-dumpsrtsub</option></para></listitem>
<listitem><para>MicroDVD: <option>-dumpmicrodvdsub</option></para></listitem>
<listitem><para>JACOsub: <option>-dumpjacosub</option></para></listitem>
<listitem><para>Sami: <option>-dumpsami</option></para></listitem>
</itemizedlist>
</para>

<para>
<application>MEncoder</application> umí vyextrahovat DVD titulky do formátu
<link linkend="menc-feat-extractsub">VOBsub</link>.
</para>

<para>
Volby pøíkazového øádku se mírnì li¹í pro rùzné formáty:
</para>

<formalpara>
<title>VOBsub titulky</title>
<para>
VOBsub titulky sestávají z velkého (øádovì megabajty) <filename>.SUB</filename> souboru,
a volitelného <filename>.IDX</filename> a/nebo <filename>.IFO</filename>
souboru. Pokud máte soubory jako
<filename><replaceable>pøíklad.sub</replaceable></filename>,
<filename><replaceable>pøíklad.ifo</replaceable></filename> (volitelné),
<filename><replaceable>pøíklad.idx</replaceable></filename> - mìli byste pøedat
<application>MPlayer</application>u volby <option>-vobsub pøíklad
[-vobsubid <replaceable>id</replaceable>]</option> (volitelnì s plnou cestou).
Volba <option>-vobsubid</option> je jako volba
<option>-sid</option> pro DVD, její pomocí si mù¾ete vybrat mezi titulkovými
stopami (jazyky). Pokud vynecháte <option>-vobsubid</option>, pokusí se
<application>MPlayer</application> pou¾ít jazyky pøedané volbou
<option>-slang</option> a v pøípadì selhání se vrátí zpìt k
<systemitem>langidx</systemitem>
v souboru <filename>.IDX</filename> pro nastavení jazyku titulkù. Pokud i zde
sel¾e, nebudou titulky.
</para>
</formalpara>

<formalpara>
<title>Ostatní titulky</title>
<para>
Ostatní formáty titulkù sestávají z jediného textového souboru obsahujícího
èasování, umístìní a text titulkù. Pou¾ití: Máme-li soubor, napøíklad
<filename><replaceable>pøíklad.txt</replaceable></filename>,
mìli byste zadat volbu <option>-sub <replaceable>pøíklad.txt</replaceable></option>
(volitelnì s plnou cestou).
</para>
</formalpara>

<variablelist>
<title>Nastavení èasování a umístìní titulkù:</title>
<varlistentry>
  <term><option>-subdelay <replaceable>sek</replaceable></option></term>
  <listitem><simpara>
    Zpozdí titulky o <option><replaceable>sek</replaceable></option> sekund.
    Hodnota mù¾e být i záporná. Zadaná hodnota se pøipoète k ukazateli èasové
    pozice filmu.
    </simpara></listitem>
</varlistentry>
<varlistentry>
  <term><option>-subfps <replaceable>RYCHLOST</replaceable></option></term>
  <listitem><simpara>
    Nastaví snímkovou rychlost souboru s titulky (desetinné èíslo).
    </simpara></listitem>
</varlistentry>
<varlistentry>
  <term><option>-subpos <replaceable>0-100</replaceable></option></term>
  <listitem><simpara>
    Nastavuje umístìní titulkù.
    </simpara></listitem>
</varlistentry>
</variablelist>

<para>
Pokud se zvìt¹uje rozdíl mezi filmem a titulky pøi pou¾ití
titulkového souboru ve formátu MicroDVD, je nejspí¹ rozdílná snímková rychlost
filmu a titulkù. Poznamenejme, ¾e formát titulkù MicroDVD pou¾ívá absolutní
èísla snímkù
pro své èasování, ale neobsahuje údaj o své snímkové rychlosti. Proto byste mìli
pou¾ít volbu <option>-subfps</option> s tímto formátem.
Trvale lze snímkovou rychlost synchronizovat pouze manuální konverzí souboru
s titulky.
Konverzi mù¾ete provést pøímo <application>MPlayer</application>em
(fps=snímková rychlost):

<screen>mplayer -dumpmicrodvdsub -fps <replaceable>fps_titulkù</replaceable> -subfps <replaceable>fps_filmu</replaceable> -sub <replaceable>soubor_s_titulky</replaceable> <replaceable>nìjaké.avi</replaceable></screen>
</para>

<para>
Informace o DVD titulcích naleznete v sekci <link linkend="dvd">DVD</link>.
</para>


<sect2 id="mpsub">
<title>Vlastní formát titulkù <application>MPlayer</application>u (MPsub)</title>

<para>
<application>MPlayer</application> vám pøedstavuje nový formát titulkù nazvaný
<emphasis role="bold">MPsub</emphasis>. Ten byl vyvinut Gabucinem.
Jeho hlavním úèelem je být <emphasis>dynamicky</emphasis> èasovì-orientovaný
(aèkoli má i snímkový re¾im).  Pøíklad (z <ulink
url="../../tech/mpsub.sub">DOCS/tech/mpsub.sub</ulink>):
<programlisting>
FORMAT=TIME
# první èíslo  : vyèkej takto dlouho po zmizení pøedchozího titulku
# druhé èíslo  : Zobrazuj aktuální titulek tolik sekund

15 3
Pøed dávnými èasy...

0 3
ve velmi vzdálené galaxii...

0 3
Planeta Naboo byla napadena.<!--
--></programlisting>
</para>

<para>
Jak vidíte, na¹ím hlavním cílem bylo <emphasis role="bold">udìlat
editaci/èasování/spojování/støíhání titulkù co nejsnadnìj¹í</emphasis>.
A pokud -øeknìme - dostanete SSA titulky, ale ¹patnì èasované/opo¾dìné
vùèi va¹í verzi filmu, jednodu¹e proveïte
<screen>mplayer <replaceable>dummy.avi</replaceable> -sub source.ssa -dumpmpsub</screen>
To vytvoøí soubor <filename>dump.mpsub</filename> v aktuálním adresáøi, který
bude obsahovat pùvodní text titulkù, ale ve formátu 
<emphasis role="bold">MPsub</emphasis>. Pak mù¾ete dle libosti pøidávat a ubírat
sekundy z jednotlivých titulkù.
</para>

<para>
Titulky jsou vykreslovány technikou zvanou <emphasis role="bold">'OSD',
Display na obrazovce</emphasis>. OSD je pou¾íváno k zobrazení èasové pozice, pruh
hlasitosti, pruh vyhledávání atd.
</para>
</sect2>


<sect2 id="mpsub-install">
<title>Instalace OSD a titulkù</title>

<para>
Potøebujete <application>MPlayer</application>ùv balíèek s fonty pro pou¾ití
OSD/TIT. Existuje mnoho zpùsobù jak jej získat:
</para>

<itemizedlist>
<listitem><para>
  Pou¾ijte generátor fontù <filename
  class="directory">TOOLS/subfont-c</filename>. Je to úplný nástroj pro
  konverzi z TTF/Type1/etc fontu na balíèek fontu pro mplayer (podrobnosti si
  pøeètìte v <filename>TOOLS/subfont-c/README</filename>).
  </para></listitem>
<listitem><para>
  Pou¾ijte generátor fontu ve verzi pluginu pro <application>GIMP</application>
  z <filename class="directory">TOOLS/subfont-GIMP</filename>
 (poznámka: musíte mít také HSI
  RAW plugin, viz <ulink url="http://realtime.ssu.ac.kr/~lethean/index.php?pagename=MplayerKoreanFonts" />).
 </para></listitem>
<listitem><para>
  pou¾itím TrueType (TTF) fontu, ve smyslu knihovny <systemitem class="library">freetype</systemitem>.
  Vy¾adována je verze 2.0.9 nebo vy¹¹í! Máte pak dvì metody:
  <itemizedlist>
    <listitem><para>
      pou¾ijte volbu <option>-font <replaceable>/path/to/sample_font.ttf</replaceable></option>
      pro výbìr fontu pøi ka¾dé pøíle¾itosti
      </para></listitem>
    <listitem><para>
      vytvoøte symlink:
      <screen>ln -s <replaceable>/path/to/sample_font.ttf</replaceable> ~/.mplayer/subfont.ttf</screen>
      </para></listitem>
      </itemizedlist>
  Pokud byl <application>MPlayer</application> zkompilován s podporou
  <systemitem class="library">fontconfig</systemitem>, vý¹e uvedené metody
  nebudou pracovat, místo toho <option>-font</option> oèekává jméno fontu
  <systemitem class="library">fontconfig</systemitem>
  a ve výchozím stavu pou¾ije bezpatkový (sans-serif) font. Pro seznam fontù
  známých
  <systemitem class="library">fontconfig</systemitem>u,
  pou¾ijte <command>fc-list</command>. Pøíklad: <option>-font
  <replaceable>'Bitstream Vera Sans'</replaceable></option>
  </para></listitem>
<listitem><para>
  Stáhnìte si hotový balíèek fontu z <application>MPlayer</application>ova
  serveru. Poznámka: v souèasnosti jsou dostupné fonty omezeny na podporu
  ISO 8859-1/2, ale existují i nìkteré dal¹í (vèetnì Korejských, Ruských,
  ISO 8859-8 atd) fonty v contrib/font sekci na FTP, vytvoøených u¾ivateli.
  </para><para>
  <!-- FIXME: this para should be before the list -->
  Font by mìl mít pøíslu¹ný <filename>font.desc</filename> soubor mapující
  unicode pozice fontu na aktuální kódovou stránku textu titulkù.
  Dal¹í mo¾ností je mít titulky kódovány v UTF-8 a pou¾ít volbu
  <option>-utf8</option> anebo pojmenujte soubor s titulky
  <filename>&lt;jméno_filmu&gt;.utf</filename> a umístìte jej do adresáøe s
  filmem.
  Záznam z rùzných kódových stránek do UTF-8 mù¾ete provést pou¾itím
  programu <command>konwert</command> nebo <command>iconv</command>.
  </para><para>

  <table>
  <title>Nìkolik URL</title>
  <tgroup cols="2">
  <thead>
    <row><entry>URL</entry><entry>Komentáø</entry></row>
  </thead>
  <tbody>
  <row><entry>
    <ulink url="ftp://ftp.mplayerhq.hu/MPlayer/releases/fonts/"></ulink>
    </entry><entry>
    ISO fonty
    </entry></row>
  <row><entry>
    <ulink url="ftp://ftp.mplayerhq.hu/MPlayer/contrib/fonts/"></ulink>
    </entry><entry>
    rùzné fonty od u¾ivatelù
    </entry></row>
  <row><entry>
    <ulink url="http://realtime.ssu.ac.kr/~lethean/index.php?pagename=MplayerKoreanFonts"></ulink>
    </entry><entry>
    Korejské fonty a RAW plugin
    </entry></row>
  </tbody>
  </tgroup>
  </table>

  </para></listitem>
</itemizedlist>
<para>
Pokud si zvolíte ne-TTF fonty, rozbalte sta¾ený soubor do adresáøe <filename
class="directory">~/.mplayer</filename> nebo <filename
class="directory">$PREFIX/share/mplayer</filename>. Pak pøejmenujte nebo
nalinkujte
jeden z rozbalených adresáøù na <filename class="directory">font</filename>,
napøíklad:

<screen>ln -s <replaceable>~/.mplayer/arial-24</replaceable> ~/.mplayer/font</screen>

Nyní byste mìli vidìt èasovaè v levém horním rohu filmu (vypnìte jej klávesou
<keycap>o</keycap>).
</para>

<para>
(titulky jsou <emphasis>v¾dy zapnuty</emphasis>, pokud je chcete vypnout,
pøeètìte si prosím man stránku)
</para>

<para>
OSD má 4 stavy (pøepínají se pomocí <keycap>o</keycap>):

<orderedlist>
<listitem><simpara>
  pás hlasitosti + pás pøevíjení (výchozí)
  </simpara></listitem>
<listitem><simpara>
  pás hlasitosti + pás pøevíjení + èasovaè + pozice v souboru v procentech pøi
  pøevíjení
  </simpara></listitem>
<listitem><simpara>
  pás hlasitosti + pás pøevíjení + èasovaè + celkový èas
  </simpara></listitem>
<listitem><simpara>
  pouze titulky
  </simpara></listitem>
</orderedlist>

Výchozí chování mù¾ete zmìnit nastavením promìnné <varname>osdlevel</varname>
v konfiguraèním souboru, nebo volbou <option>-osdlevel</option> na pøíkazovém
øádku.

</para>
</sect2>


<sect2 id="osdmenu">
<title>OSD menu</title>

<para>
<application>MPlayer</application> má plnì u¾ivatelsky definovatelné rozhraní OSD
Menu (nabídka na obrazovce).
</para>

<note><simpara>
Menu Preferences NENÍ v souèasnosti IMPLEMENTOVÁNO!
</simpara></note>

<orderedlist>
<title>Instalace</title>
<listitem><simpara>
  zkompilujte <application>MPlayer</application> s volbou
  <option>--enable-menu</option>
  pøedanou do <filename>./configure</filename>
  </simpara></listitem>
<listitem><simpara>
  ujistìte se ¾e máte nainstalován OSD font
  </simpara></listitem>
<listitem><simpara>
  zkopírujte <filename>etc/menu.conf</filename> do svého
  <filename class="directory">.mplayer</filename> adresáøe
  </simpara></listitem>
<listitem><simpara>
  zkopírujte <filename>etc/menu.conf</filename> do svého
  <filename class="directory">.mplayer</filename> adresáøe, nebo do systémového
  <application>MPlayer</application> konfiguraèního adresáøe (výchozí:
  <filename class="directory">/usr/local/etc/mplayer</filename>)
  </simpara></listitem>
<listitem><simpara>
  zkontrolujte a upravte <filename>input.conf</filename>, abyste zapnuli klávesy
  pro pohyb v menu (to je popsáno zde).
  </simpara></listitem>
<listitem><para>
  spus»te <application>MPlayer</application> podle následujícího pøíkladu:
  <screen>$ mplayer -menu <replaceable>file.avi</replaceable></screen>
  </para></listitem>
<listitem><simpara>
  stisknìte nìkterou z kláves, kterou jste definovali
  </simpara></listitem>
</orderedlist>

</sect2>
</sect1>

<!-- ********** -->

<sect1 id="rtc">
<title>RTC</title>
<para>
V <application>MPlayer</application> jsou zabudovány tøi metody èasování.

<itemizedlist>
<listitem><simpara>
<emphasis role="bold">Abyste pou¾ili starou metodu</emphasis>, nemusíte dìlat
  vùbec nic. Ta pou¾ívá <systemitem>usleep()</systemitem> pro hlídání
  A/V synchronizace s pøesností +/- 10ms. Aèkoli nìkdy mù¾e být synchronizace
  hlídána je¹tì jemnìji.
  </simpara></listitem>
<listitem><para>
Kód <emphasis role="bold">nového èasovaèe</emphasis> pou¾ívá pro tento úèel RTC
  (hodiny reálného èasu), proto¾e mají pøesné 1ms èasovaèe. Pokud jsou RTC
  dostupné, jsou automaticky pou¾ity, ale to vy¾aduje oprávnìní roota,
  <emphasis>setuid root</emphasis>
  binárku <application>MPlayer</application>u nebo správnì nastavené jádro.
  Pokud pou¾íváte jádro 2.4.19pre8 nebo pozdìj¹í, mù¾ete nastavit maximální RTC
  kmitoèet pro normální u¾ivatele pomocí systému souborù
  <systemitem class="systemname">/proc
  </systemitem>. Pou¾ijte následný pøíkaz pro zapnutí RTC pro obyèejné u¾ivatele:
  <screen>echo 1024 &gt; /proc/sys/dev/rtc/max-user-freq</screen>
  Pokud nemáte tak nové jádro, mù¾ete zmìnit jeden øádek v
  <filename>drivers/char/rtc.c</filename> a rekompilovat jádro.
  Najdìte sekci, která zaèíná
  <programlisting>
       * We don't really want Joe User enabling more
       * than 64Hz of interrupts on a multi-user machine.
       */
      if ((rtc_freq &gt; 64) &amp;&amp; (!capable(CAP_SYS_RESOURCE)))
   </programlisting>
   a zmìòte 64 na 1024. Opravdu byste ov¹em mìli vìdìt co dìláte.
   Efektivitu nového èasovaèe uvidíte na stavovém øádku.
   Funkce power managementu nìkterých notebookových BIOSù s speedstep procesory
   ¹patnì komunikují s RTC. Audio a video se mohou rozejít. Zdá se ¾e pomáhá
   pøipojení vnìj¹ího napájení pøed zapnutím notebooku.
   V¾dy mù¾ete vypnout podporu RTC volbou <option>-nortc</option>.
   V nìkterých hardwarových kombinacích (zji¹tìno bìhem pou¾ívání ne-DMA DVD
   mechaniky na ALi1541 boardu) zpùsobuje pou¾ití RTC èasování trhavé pøehrávání.
   Pak doporuèujeme
   pou¾ít tøetí metodu.
  </para></listitem>
<listitem><simpara>
  <emphasis role="bold">Tøetí kód èasovaèe</emphasis> se zapíná volbou
  <option>-softsleep</option>. Je stejnì efektní jako RTC, ale nepou¾ívá RTC.
  Na druhou stranu více zatì¾uje CPU.
  </simpara></listitem>
</itemizedlist>
<note><para><emphasis role="bold">NIKDY neinstalujte setuid root binárku
<application>MPlayer</application>u na víceu¾ivatelském systému!</emphasis>
To je nejlep¹í cesta jak umo¾nit ka¾dému být rootem.
</para></note>
</para>
</sect1>

</chapter>
