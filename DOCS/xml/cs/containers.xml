<?xml version="1.0" encoding="iso-8859-2"?>
<!-- synced with r19738 -->
<chapter id="containers">
<title>Nosné formáty (Containers)</title>

<para>
Pova¾ujeme za dùle¾ité vyjasnit v¹eobecný omyl. Kdy¾ lidé vidí soubor s pøíponou
<filename>.AVI</filename>, automaticky se domnívají, ¾e to není MPEG soubor.
To v¹ak není pravda. Aspoò ne úplnì. Narozdíl od v¹eobecného mínìní tyto
soubory <emphasis>mohou</emphasis> obsahovat MPEG-1 video.
</para>

<para>
Jak vidíte, <emphasis role="bold">kodek</emphasis> není to samé jako
<emphasis role="bold">nosný formát</emphasis>.
Pøíklady video <emphasis role="bold">kodekù</emphasis> jsou: MPEG-1, MPEG-2,
MPEG-4 (DivX), Indeo5, 3ivx.
Pøíklady nosných <emphasis role="bold">formátù</emphasis> jsou: MPG, AVI,
ASF.
</para>

<para>
Teoreticky mù¾ete vlo¾it OpenDivX video a MP3 audio
do <emphasis role="bold">nosného formátu MPG</emphasis>. Vìt¹ina pøehrávaèù jej
v¹ak nepøehraje, jeliko¾ zde oèekávají MPEG-1 video a MP2 audio (narozdíl od
<emphasis role="bold">AVI</emphasis>, <emphasis role="bold">MPG</emphasis>
nemá potøebná pole k popisu svých video a audio datových proudù).
Nebo mù¾ete vlo¾it MPEG-1 video do AVI souboru.
<ulink url="http://ffmpeg.org/">FFmpeg</ulink> a
<link linkend="mencoder"><application>MEncoder</application></link> mohou tyto
soubory vytvoøit.
</para>


<sect1 id="video-formats">
<title>Video formáty</title>

<sect2 id="mpg-vob-dat">
<title>MPEG soubory</title>

<para>
MPEG soubory se vyskytují v rùzných obálkách:
</para>

<itemizedlist>
<listitem><simpara>
  MPG: Toto je <emphasis role="bold">nejjednodu¹¹í</emphasis> forma souborových
  formátù MPEG. Obsahuje MPEG-1 video a MP2 (MPEG-1 layer 2) nebo ménì èasto
  MP1 audio.
  </simpara></listitem>
<listitem><simpara>
  DAT: Toto je naprosto stejný formát jako MPG, jen s jinou pøíponou. Pou¾ívá se
  na <emphasis role="bold">Video CD</emphasis>. Díky zpùsobu, jak jsou VCD
	vytváøeny a Linux navr¾en, nemohou být DAT soubory pøehrávány nebo kopírovány
	z VCD jako bì¾né soubory. Musíte pou¾ít <option>vcd://</option>
  pro pøehrávání Video CD.
  </simpara></listitem>
<listitem><simpara>
  VOB: Toto je souborový formát MPEG na <emphasis role="bold">DVD</emphasis>.
  Je stejný jako MPG, plus schopnost obsahovat titulky nebo ne-MPEG
  (AC3) audio. Obsahuje video enkódované do MPEG-2 a obvykle AC3 audio, ale DTS,
  MP2 a nekomprimovaný LPCM jsou rovnì¾ povoleny. <emphasis role="bold">Pøeètìte
	si <link linkend="dvd">DVD</link> sekci</emphasis>!
  </simpara></listitem>
<listitem><simpara>
  TY: Toto je TiVo MPEG datový proud. Obsahuje MPEG PES data pro audio a
  video datové proudy, spolu s dodateènými informacemi jako closed captions.
	Kontejner není produktem MPEG programu, ale je to uzavøený formát vytvoøený
	firmou TiVo. Více informací o TiVo proudovém formátu naleznete na
  <ulink url="http://dvd-create.sourceforge.net/tystudio/tystream.shtml">
  stránkách TyStudia</ulink>.
  </simpara></listitem>
</itemizedlist>

<para>
Série snímkù tvoøí nezávislé skupiny v MPEG souborech. To znamená, ¾e mù¾ete
MPEG soubory støíhat/spojovat pomocí standardních souborových nástrojù (jako je
<command>dd</command>, <command>cut</command>) a soubor zùstává naprosto
funkèní.
</para>

<para>
Dùle¾itou vlastností MPG je pole obsahující pomìr stran obsa¾eného videa.
Napøíklad SVCD mají rozli¹ení videa 480x480 a v hlavièce mají nastaven pomìr
stran na 4:3, tak¾e jsou pøehrávány na 640x480.
AVI soubory toto pole neobsahují, tak¾e musí být pøe¹kálovány bìhem enkódování,
nebo pøehrávány s volbou <option>-aspect</option>.
</para>
</sect2>


<sect2 id="avi">
<title>AVI soubory</title>

<para>
Navr¾eny Microsoftem, <emphasis role="bold">AVI (Audio Video Interleaved)</emphasis>
je roz¹íøený víceúèelový formát. V souèasnosti je vìt¹inou pou¾ívaný pro MPEG-4
(DivX, XviD, DivX4, a dal¹í) video.
Má mnoho známých nedostatkù a nedokonalostí (napøíklad ve streamování).
Podporuje jeden video datový proud a 0 a¾ 99 audio proudù a mù¾e být veliký a¾
2GB, av¹ak existuje roz¹íøení umo¾òující vìt¹í soubory nazývané
<emphasis role="bold">OpenDML</emphasis>. V souèasnosti Microsoft velmi odrazuje
od jeho pou¾ívání a podporuje ASF/WMV. Ne ¾e by to nìkoho zajímalo.
</para>

<para>
Existuje hack, který umo¾òuje vkládat do AVI souborù Ogg Vorbis audio proudy,
ale èiní je nekompatibilní se standardním AVI.
<application>MPlayer</application> podporuje pøehrávání tìchto souborù.
Pøevíjení je rovnì¾ implementováno, ale èasto znemo¾òováno ¹patnì enkódovanými
soubory se zmatenými hlavièkami. Nane¹tìstí jediný enkodér schopný vytvoøit tyto
soubory, <application>NanDub</application>, má tento problém.
</para>

<note>
<para>
DV kamery vytváøí surové DV datové proudy, které jsou konvertovány DV
grabovacími utilitami do dvou odli¹ných AVI souborù. AVI pak obsahuje buï
oddìlené video a audio proudy které <application>MPlayer</application> umí
pøehrávat, nebo surový DV proud, jeho¾ podpora je ve vývoji.
</para>
</note>

<para>
Známe dva druhy AVI souborù:
<itemizedlist>
<listitem><simpara>
  <emphasis role="bold">Prokládaný:</emphasis> Audio a video obsah je prolo¾ený.
	Toto je obvyklé pou¾ití. Doporuèené a vìt¹inou pou¾ívané. Nìkteré nástroje
	vytváøejí AVI se ¹patnou synchronizací. <application>MPlayer</application>
	detekuje tyto soubory jako prokládané a to vyvrcholí ztrátou
	A/V synchronizace, pravdìpodobnì pøi pøetáèení. Tyto soubory by mìly být
	pøehrávány jako neprokládané (s volbou <option>-ni</option>).
  </simpara></listitem>
<listitem><simpara>
  <emphasis role="bold">Neprokládané:</emphasis> Nejprve jde celý video proud,
	pak celý audio proud. To vy¾aduje mnoho hledání, co¾ èiní pøehrávání ze sítì
	nebo CD-ROM obtí¾ným.
  </simpara></listitem>
</itemizedlist>
</para>

<para>
<application>MPlayer</application> podporuje dva druhy èasování pro AVI soubory:
<itemizedlist>
<listitem><simpara>
  <emphasis role="bold">zalo¾ený na bps:</emphasis> Vychází z bitové/vzorkové
	rychlosti video/audio proudu. Tuto metodu pou¾ívá vìt¹ina pøehrávaèù,
	vèetnì <ulink url="http://avifile.sf.net">avifile</ulink>
  a <application>Windows Media Player</application>u. Soubory s po¹kozenými
	hlavièkami a soubory obsahující VBR audio nevytvoøené VBR sluèitelným
	enkodérem vyústí v rozejití zvuku a videa pøi pou¾ití této metody
	(zpravidla pøi pøevíjení).
  </simpara></listitem>
<listitem><simpara>
  <emphasis role="bold">zalo¾ený na prokládání:</emphasis> Nepou¾ívá hodnotu
	bitové rychlosti z hlavièky, místo toho vyu¾ívá relativní pozici prokládaných
	audio a video chunkù, co¾ umo¾òuje pøehrávat ¹patnì enkódované soubory s VBR
	zvukem.
  </simpara></listitem>
</itemizedlist>
</para>

<para>
Jakýkoli audio a video kodek je povolen, ale berte na vìdomí, ¾e VBR audio není
vìt¹inou pøehrávaèù dobøe podporován. Formát souboru umo¾òuje pou¾ití VBR audia,
ale vìt¹ina pøehrávaèù oèekává CBR zvuk, tak¾e sel¾ou s VBR. VBR je neobvyklé a
Microsoftí AVI specifikace popisuje pouze CBR audio. Rovnì¾ jsme si v¹imli, ¾e
vìt¹ina AVI enkodérù/multiplexerù vytváøí vadné soubory, kdy¾ je pou¾ito VBR
audio. Existují pouze dvì známé výjimky: <application>NanDub</application> a
<link linkend="mencoder"><application>MEncoder</application></link>.
</para>
</sect2>


<sect2 id="asf-wmv">
<title>ASF/WMV soubory</title>
<para>
ASF (Active Streaming Format) pochází z dílny Microsoftu. Tam vytvoøili dvì
varianty ASF, v1.0 a v2.0. v1.0 je pou¾ívána jejich mediálními nástroji
(<application>Windows Media Player</application> a
<application>Windows Media Encoder</application>)
a je pøísnì tajný. v2.0 je publikován a patentován :). Samozøejmì se od sebe
li¹í a nejsou vùbec kompatibilní (je to jen dal¹í právnická hra).
<application>MPlayer</application> podporuje pouze v1.0, proto¾e nikdo nikdy
nevidìl v2.0 soubory :). Poznamenejme ¾e ASF soubory se v tìchto dnech vyskytují
s pøíponou <filename>.WMA</filename> nebo <filename>.WMV</filename>.
</para>
</sect2>


<sect2 id="mov">
<title>QuickTime/MOV soubory</title>

<para>
Tyto formáty byly vytvoøeny v Apple a mohou obsahovat jakýkoli kodek, CBR nebo
VBR. Obvykle mají pøíponu <filename>.QT</filename> nebo
<filename>.MOV</filename>. Poznamenejme, ¾e vzhledem k tomu, ¾e si skupina
MPEG-4 vybrala QuickTime jako doporuèený formát souboru pro MPEG-4,
jejich MOV soubory mají pøíponu <filename>.MPG</filename> nebo
<filename>.MP4</filename> (Zajímavé je, ¾e video a audio proudy v tìchto
souborech jsou skuteèné MPG a AAC soubory. Dokonce je mù¾ete extrahovat pomocí
voleb <option>-dumpvideo</option> a <option>-dumpaudio</option>.).
</para>

<note>
<para>
Vìt¹ina nových QuickTime souborù pou¾ívá <emphasis role="bold">Sorenson</emphasis>
video a QDesign Music audio. Viz na¹i sekci o kodeku
<link linkend="sorenson">Sorenson</link>.
</para>
</note>
</sect2>


<sect2 id="vivo">
<title>VIVO soubory</title>

<para>
<application>MPlayer</application> ¹»astnì demuxuje souborový formát VIVO.
Nejvìt¹í nevýhoda tohoto formátu je, ¾e nemá indexový blok ani pevnou délku
paketu nebo synchronizaèní bity a mnoha souborùm schází dokonce i klíèové
snímky, tak¾e zapomeòte na pøevíjení!
</para>

<para>
Video kodekem VIVO/1.0 souborù je standardní
<emphasis role="bold">h.263</emphasis>.
Video kodekem VIVO/2.0 souborù je upravený, nestandardní
<emphasis role="bold">h.263v2</emphasis>. Zvuk mají stejný, mù¾e to být
<emphasis role="bold">g.723 (standard)</emphasis> nebo
<emphasis role="bold">Vivo Siren</emphasis>.
</para>

<para>
Instalaèní instrukce naleznete v sekcích
<link linkend="vivo-video">VIVO video kodek</link> a
<link linkend="vivo-audio">VIVO audio kodek</link>.
</para>
</sect2>


<sect2 id="fli">
<title>FLI soubory</title>
<para>
<emphasis role="bold">FLI</emphasis> je velmi starý souborový formát pou¾ívaný
Autodesk Animatorem, ale je bì¾ným formátem pro krátké animace na netu.
<application>MPlayer</application> demuxuje a dekóduje FLI filmy a je dokonce
schopen v nich pøevíjet (pou¾itelné pøi pøeskakování s volbou
<option>-loop</option>). FLI soubory neobsahují klíèové snímky, tak¾e bude obraz
je¹tì chvíli po pøevíjení roztøí¹tìný.
</para>
</sect2>


<sect2 id="realmedia">
<title>RealMedia (RM) soubory</title>

<para>
Ano, <application>MPlayer</application> umí èíst (demux) RealMedia
(<filename>.rm</filename>) soubory.
Zde je seznam podporovaných <link
linkend="realvideo">RealVideo</link> a <link
linkend="realaudio">RealAudio</link> kodekù.
</para>
</sect2>


<sect2 id="nuppelvideo">
<title>NuppelVideo soubory</title>
<para>
NuppelVideo
je nástroj pro zachytávání TV (AFAIK:). <application>MPlayer</application> umí
èíst tyto <filename>.NUV</filename> soubory (pouze NuppelVideo 5.0). Tyto
soubory mohou obsahovat nekomprimované YV12, YV12+RTJpeg komprimované,
YV12 RTJpeg+lzo komprimované a YV12+lzo komprimované snímky.
<application>MPlayer</application> je dekóduje (a také je
<emphasis role="bold">enkóduje</emphasis> <application>MEncoder</application>em
do MPEG-4 (DivX)/atd.!) v¹echny.
Seeking works.
</para>
</sect2>


<sect2 id="yuv4mpeg">
<title>yuv4mpeg soubory</title>
<para>
<ulink url="http://mjpeg.sf.net">yuv4mpeg / yuv4mpeg2</ulink>
je souborový formát pou¾ívaný
<ulink url="http://mjpeg.sf.net">mjpegtools programy</ulink>.
Mù¾ete zachytávat, vytváøet, filtrovat nebo enkódovat video v tomto formátu
pomocí tìchto nástrojù. Formát souboru je ve skuteènosti sekvence
nekomprimovaných YUV 4:2:0 obrázkù.
</para>
</sect2>


<sect2 id="film">
<title>FILM soubory</title>
<para>
Tento formát pou¾ívaly staré CD-ROM hry pro Sega Saturn.
</para>
</sect2>


<sect2 id="roq">
<title>RoQ soubory</title>
<para>
RoQ soubory jsou multimediální soubory pou¾ívané v nìkterých hrách od ID, jako
Quake III a Return to Castle Wolfenstein.
</para>
</sect2>


<sect2 id="ogg">
<title>OGG/OGM soubory</title>
<para>
Toto je nový souborový formát od
<ulink url="http://www.xiph.org">Xiphophorus</ulink>.
Mù¾e obsahovat jakýkoli video nebo audio kodek, CBR nebo VBR. Budete potøebovat
<systemitem class="library">libogg</systemitem> a
<systemitem class="library">libvorbis</systemitem> nainstalovány pøed kompilací
<application>MPlayer</application>u, aby byl schopen je pøehrávat.
</para>
</sect2>


<sect2 id="sdp">
<title>SDP soubory</title>
<para>
<ulink url="ftp://ftp.rfc-editor.org/in-notes/rfc2327.txt">SDP</ulink> je
IETF standardní formát pro popis video a/nebo audio RTP datových proudù.
(Vy¾aduje
&quot;<ulink url="http://www.live555.com/mplayer/">LIVE555 Streaming Media</ulink>&quot;.)
</para>
</sect2>


<sect2 id="pva">
<title>PVA soubory</title>
<para>
PVA je formát podobný MPEG, pou¾ívaný softwarem pro DVB TV desky (napø.:
<application>MultiDec</application>, <application>WinTV</application>
pod Windows).
</para>
</sect2>


<sect2 id="nsv">
<title>NSV soubory</title>
<para>
NSV (NullSoft Video) je souborový formát pou¾ívaný pøehrávaèem
<application>Winamp</application> pro streamování audia a videa.
Video je VP3, VP5 nebo VP6, audio je MP3, AAC nebo VLB.
Jen zvuková verze NSV u¾ívá pøíponu <filename>.nsa</filename>.
<application>MPlayer</application> umí pøehrávat jak NSV datové proudy, tak
soubory. Poznamenejme, ¾e vìt¹ina souborù ze
<ulink url="http://www.winamp.com">stránek Winampu</ulink> pou¾ívá VLB audio,
které zatím nelze dekódovat. Mimo to proudy z tohoto serveru vy¾adují dal¹í
depaketovací vrstvu, která je¹tì musí být implementována (stejnì jsou ty soubory
nepøehratelné, proto¾e mají VLB audio).
</para>
</sect2>


<sect2 id="matroska">
<title>Soubory Matroska</title>
<para>
Matroska je otevøený nosný (container) formát.
Více se dozvíte na <ulink url="http://www.matroska.org/">oficiálním serveru</ulink>.
</para>
</sect2>


<sect2 id="nut">
<title>Soubory NUT</title>
<para>
NUT je nosný formát vyvíjený týmy <application>MPlayer</application> a
<application>FFmpeg</application>. Oba projekty jej podporují.
Více se dozvíte na <ulink url="http://www.nut.hu/">oficiálním serveru</ulink>.
</para>
</sect2>


<sect2 id="gif">
<title>GIF soubory</title>
<para>
Formát <emphasis role="bold">GIF</emphasis> je obecný formát pro webovou
grafiku. Existují dvì verze GIF specifikace, GIF87a a GIF89a. Hlavní rozdíl
je, ¾e GIF89a umo¾òuje animaci. <application>MPlayer</application> podporuje
oba formáty pomocí <systemitem class="library">libungif</systemitem> nebo
jiné libgif-kompatibilní knihovny. Neanimované GIFy budou zobrazeny jako
jednoobrázková videa. (Pou¾ijte volby <option>-loop</option> a
<option>-fixed-vo</option> pro del¹í zobrazení.)
</para>

<para>
<application>MPlayer</application> v souèasnosti nepodporuje pøevíjení v GIF
souborech. GIF soubory nemusí mít nutnì pevnou velikost rámce, anebo pevnou
snímkovou rychlost. Spí¹e má ka¾dý snímek nezávislou velikost a pøedpokládá se
jeho umístìní do urèitého místa v poli pevné velikosti. Snímková rychlost je
ovládána volitelným blokem pøed ka¾dým snímkem, který udává zpo¾dìní dal¹ího
snímku v setinách sekundy.
</para>

<para>
Standardní GIF soubory obsahují 24-bitové RGB snímky s maximálnì 8-bitovou
indexovanou paletou. Snímky jsou obvykle komprimovány algoritmem LZW, aèkoli
nìkteré GIF enkodéry produkují nekomprimované snímky, aby se vyhnuly
patentovým problémùm s LZW kompresí.
</para>

<para>
Pokud va¹e distribuce neobsahuje <systemitem class="library">libungif</systemitem>,
stáhnìte si ji z
<ulink url="http://sourceforge.net/projects/libungif">domácí stránky libungif
</ulink>. Podrobné technické informace naleznete v
<ulink url="http://www.w3.org/Graphics/GIF/spec-gif89a.txt">GIF89a specifikaci</ulink>.
</para>
</sect2>
</sect1>

<!-- ********** -->

<sect1 id="audio-formats">
<title>Audio formáty</title>

<para>
<application>MPlayer</application> je <emphasis role="bold">filmový</emphasis>,
nikoli <emphasis role="bold">multimediální</emphasis> pøehrávaè, aèkoli umí
pøehrát nìkteré zvukové formáty (ty jsou vyjmenovány v následujících sekcích).
Toto není doporuèené pou¾ití <application>MPlayer</application>u, radìji
pou¾ijte <ulink url="http://www.xmms.org">XMMS</ulink>.
</para>

<sect2 id="mp3">
<title>MP3 soubory</title>
<para>
Mù¾ete mít problémy s pøehráním urèitých MP3 souborù, které
<application>MPlayer</application> nesprávnì detekuje jako MPEGy a pøehrává je
nesprávnì nebo vùbec. Toto nelze opravit bez vyøazení podpory pro nìkteré
po¹kozené MPEG soubory, proto to tak v dohledné dobì zùstane. Pøíznak
<option>-demuxer</option> popsaný v man stránce vám pomù¾e v tìchto pøípadech.
</para>
</sect2>

<sect2 id="ogg-vorbis">
<title>OGG/OGM soubory (Vorbis)</title>
<para>
Vy¾aduje správnì nainstalované
<systemitem class="library">libogg</systemitem> a
<systemitem class="library">libvorbis</systemitem>.
</para>
</sect2>

<sect2 id="cdda">
<title>CD audio</title>
<para>
<application>MPlayer</application> umí pou¾ít <application>cdparanoia</application>
pro pøehrávání CDDA (Audio CD). Zamìøení této èásti nezahrnuje výèet vlastností
<application>cdparanoia</application>.
</para>

<para>
Viz volbu <option>-cdda</option> v man stránce, která mù¾e být pou¾ita pro
propa¹ování voleb do <application>cdparanoia</application>.
</para>
</sect2>

<sect2 id="xmms">
<title>XMMS</title>
<para>
<application>MPlayer</application> mù¾e pou¾ít vstupní pluginy pro
<application>XMMS</application> pro pøehrávání mnoha souborových formátù.
Jsou to pluginy pro SNES herní melodie, SID melodie (z Commodore 64), mnoho
Amiga formátù, .xm, .it, VQF, musepack, Bonk, shorten a mnoho dal¹ích.
Mù¾ete je najít na
<ulink url="http://www.xmms.org/plugins.php?category=input">stránce XMMS input pluginù</ulink>.
</para>

<para>
Pro tuto vlastnost musíte mít <application>XMMS</application> a zkompilovat
<application>MPlayer</application> s <filename>./configure --enable-xmms</filename>.
Pokud to nebude fungovat, budete muset nastavit cestu k
<application>XMMS</application> pluginu a knihovnì explicitnì konfiguraèními
volbami <option>--with-xmmsplugindir</option> a
<option>--with-xmmslibdir</option>.
</para>
</sect2>
</sect1>

</chapter>
