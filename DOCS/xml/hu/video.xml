<?xml version="1.0" encoding="utf-8"?>
<!-- synced with r27770 -->
<chapter id="video">
<title>Videó kimeneti eszközök</title>

<sect1 id="mtrr">
<title>Az MTRR beállítása</title>

<para>
NAGYON javasoljuk, hogy ellenőrizd le, hogy az MTRR regiszterek
megfelelően be vannak-e állítva, mert hatalmas teljesítményjavulást
hozhatnak.
</para>

<para>
Írd be: <command>cat /proc/mtrr</command>:
<screen>
<prompt>--($:~)--</prompt> cat /proc/mtrr
reg00: base=0xe4000000 (3648MB), size=  16MB: write-combining, count=9
reg01: base=0xd8000000 (3456MB), size= 128MB: write-combining, count=1<!--
--></screen>
</para>

<para>
Ez jó, mutatja a 16 MB memóriával rendelkező Matrox G400-as kártyámat.
Ezt XFree 4.x.x-ből csináltam, ami automatikusan beállítja az MTRR
regisztereket.
</para>

<para>
Ha semmi sem működik, kézzel kell beállítanod. Először meg kell találnod
a bázis címet. 3 módszer van a megtalálására:

<orderedlist>
<listitem><para>
  az X11 indulási üzeneteiből, például:
  <screen>
(--) SVGA: PCI: Matrox MGA G400 AGP rev 4, Memory @ 0xd8000000, 0xd4000000
(--) SVGA: Linear framebuffer at 0xD8000000<!--
  --></screen>
</para></listitem>
<listitem><para>
  a <filename>/proc/pci</filename> fájlból (használd az <command>lspci -v</command>
  parancsot):
  <screen>
01:00.0 VGA compatible controller: Matrox Graphics, Inc.: Unknown device 0525
Memory at d8000000 (32-bit, prefetchable)
  </screen>
</para></listitem>
<listitem><para>
  az mga_vid kernel vezérlő üzeneteiből (használd a <command>dmesg</command>-et):
  <screen>mga_mem_base = d8000000</screen>
</para></listitem>
</orderedlist>
</para>

<para>
Ezután keresd meg a memória méretét. Ez nagyon egyszerű, csak számold át
a videó RAM méretét hexadecimálisra, vagy használd ezt a táblázatot:
<informaltable frame="none">
<tgroup cols="2">
<tbody>
  <row><entry>1 MB</entry><entry>0x100000</entry></row>
  <row><entry>2 MB</entry><entry>0x200000</entry></row>
  <row><entry>4 MB</entry><entry>0x400000</entry></row>
  <row><entry>8 MB</entry><entry>0x800000</entry></row>
  <row><entry>16 MB</entry><entry>0x1000000</entry></row>
  <row><entry>32 MB</entry><entry>0x2000000</entry></row>
</tbody>
</tgroup>
</informaltable>
</para>

<para>
Már tudjuk a bázis címet és a memória méretét, hát állítsuk be az
MTRR regisztereket!
Például a fenti Matrox kártyánál (<literal>base=0xd8000000</literal>)
32MB RAM-mal (<literal>size=0x2000000</literal>) csak futtasd ezt:
<screen>
echo "base=0xd8000000 size=0x2000000 type=write-combining" &gt; /proc/mtrr
</screen>
</para>

<para>
Nem minden CPU-ban van MTRR. Például a régebbi K6-2 (266MHz körül,
stepping 0) CPU-kban nincs MTRR, de a stepping 12-ben van
(futtasd le a <command>cat /proc/cpuinfo</command> parancsot az ellenőrzéshez).
</para>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="xv">
<title>Xv</title>

<para>
XFree86 4.0.2 vagy újabb alatt használhatod a kártyád YUV rutinjait
az XVideo kiterjesztés használatával. Ez az, amit a <option>-vo xv</option>
kapcsoló használ. Ez a vezérlő támogatja a
fényerősség/kontraszt/árnyalat/stb. állítását (hacsak nem a régi, lassú
DirectShow DivX codec-et használod, ami mindenhol támogatja), lásd a man oldalt.
</para>

<para>
A beüzemeléséhez ellenőrizd a következőket:

<orderedlist>
<listitem><para>
  XFree86 4.0.2 vagy újabbat kell használnod (korábbi verziókban nincs XVideo)
</para></listitem>
<listitem><para>
  A kártyádnak támogatnia kell a hardveres gyorsítást (a modern kártyák tudják)
</para></listitem>
<listitem><para>
  Az X-nek írnia kell az XVideo kiegészítés betöltését valahogy így:
  <programlisting>(II) Loading extension XVideo</programlisting>
  a <filename>/var/log/XFree86.0.log</filename> fájlban.
  <note><para>
   Ez csak az XFree86 kiegészítését tölti be. Egy jó telepítésben ez
   mindig betöltődik, de ez nem jelenti azt, hogy a
   <emphasis role="bold">kártya</emphasis> XVideo támogatása is be van töltve!
  </para></note>
</para></listitem>
<listitem><para>
  A kártyádnak van Xv támogatása Linux alatt. Ennek az ellenőrzéséhez add ki az
  <command>xvinfo</command> parancsot, ez része az XFree86 disztribúciónak. Egy
  hosszú szöveget kell kiírnia, valami ilyesmit:
  <screen>
X-Video Extension version 2.2
screen #0
  Adaptor #0: "Savage Streams Engine"
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
(...)
    Number of image formats: 7
      id: 0x32595559 (YUY2)
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        type: YUV (packed)
      id: 0x32315659 (YV12)
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
(...stb...)<!--
--></screen>
  Támogatnia kell a tömörített YUY2 és a YV12 planar pixel formátumokat, hogy az
  <application>MPlayer</application> használni tudja.
</para></listitem>
<listitem><para>
  És végül, nézd meg, hogy az <application>MPlayer</application> 'xv' támogatással
  lett-e fordítva. Írd be ezt: <command>mplayer -vo help | grep xv </command>.
  Ha az 'xv' támogatás be van építve, egy ehhez hasonló sornak szerepelnie kell:
  <screen>  xv      X11/Xv</screen>
</para></listitem>
</orderedlist>
</para>


<sect2 id="tdfx">
<title>3dfx kártyák</title>

<para>
A régebbi 3dfx vezérlőknek tudvalevőleg problémáik vannak az XVideo gyorsítással,
nem támogatják a YUY2 és YV12 színtereket. Nézd meg, hogy 4.2.0 vagy
újabb XFree86-tal rendelkezel-e, ez jól kezeli a YV12-őt és a YUY2-őt, míg a
korábbi verziók beleértve a 4.1.0-t is, <emphasis role="bold">összeomlanak az YV12-vel</emphasis>.
Ha különös effekteket tapasztalsz a <option>-vo xv</option> használatakor,
próbáld ki az SDL-t (ebben is van XVideo) és nézd meg, hogy ez segít-e. Lásd az
<link linkend="sdl">SDL</link> fejezetet a részletekért.
</para>

<para>
<emphasis role="bold">VAGY</emphasis>, próbáld ki az ÚJ
<option>-vo tdfxfb</option> vezérlőt! Lásd a <link linkend="tdfxfb">tdfxfb</link>
részt.
</para>
</sect2>


<sect2 id="s3">
<title>S3 kártyák</title>

<para>
Az S3 Savage3D nem működik megfelelően, de a Savage4 igen 4.0.3 vagy újabb XFree86
használata mellett (képhibák esetén próbáld 16bpp-vel). Ami az S3 Virge-eket illeti:
van xv támogatás, de maga a kártya túl lassú, így jobb, ha eladod.
</para>

<para>
Már van natív framebuffer vezérlő az S3 Virge kártyákhoz, hasonlóan a tdfxfb-hez.
Állítsd be a framebuffer-ed (pl. add hozzá a
"<option>vga=792 video=vesa:mtrr</option>" opciót a kernel parancs sorához) és használd
a <option>-vo s3fb</option> opciót (<option>-vf yuy2</option> és <option>-dr</option>
szintén segíthet).
</para>

<note><para>
Jelenleg nem tisztázott, hogy mely Savage modellekből hiányzik a YV12 támogatás, és
konvertál a vezérlő (lassú). Ha a kártyára gyanakodsz, szerezz be egy újabb vezérlőt,
vagy udvariasan kérj az MPlayer-users levelezési listán egy MMX/3DNow! támogatású vezérlőt.
</para></note>
</sect2>


<sect2 id="nvidia">
<title>nVidia kártyák</title>

<para>
Az nVidia nem mindig a legjobb választás Linux alatt... Az XFree86
nyílt forráskódú vezérlője támogatja a legtöbb kártyát, de a legtöbb esetben a
bináris, zárt forrású nVidia vezérlőt kell használnod, ami elérhető
az <ulink url="http://www.nvidia.com/object/linux.html">nVidia weboldalán</ulink>.
Erre a vezérlőre mindenképpen szükséged lesz, ha 3D gyorsítást akarsz.
</para>

<para>
A Riva128 kártyákkal nincs XVideo támogatás az XFree86 nVidia vezérlőjével :(
Panaszkodj az nVidia-nak.
</para>

<para>
Habár az <application>MPlayer</application> a legtöbb nVidia kártyához
rendelkezik <link linkend="vidix">VIDIX</link> vezérlővel. Jelenleg még
béta állapotú, és van pár bökkenője. További információkért lásd az
<link linkend="vidix-nvidia">nVidia VIDIX</link> részt.
</para>
</sect2>


<sect2 id="ati">
<title>ATI kártyák</title>

<para>
A <ulink url="http://gatos.sf.net">GATOS vezérlő</ulink> (amit
használnod illene, hacsak nem Rage128 vagy Radeon kártyád van) alapértelmezésként
engedélyezi a VSYNC-et. Ez azt jelenti, hogy a dekódolási sebesség (!) a
monitor frissítési rátájához van szinkronizálva. Ha a lejátszás lassúnak
tűnik, próbáld meg valahogy kikapcsolni a VSYNC-et vagy állítsd be a
frissítést n*(film fps értéke) Hz-re.
</para>

<para>
A Radeon VE - ha X kell, használj XFree 4.2.0-t vagy újabbat ehhez a kártyához.
Nincs TV kimenet támogatás. Természetesen az <application>MPlayer</application>rel
simán is <emphasis role="bold">gyorsított</emphasis> megjelenítést kapsz,
<emphasis role="bold">TV kimenettel</emphasis> vagy anélkül, és így sem
függvénykönyvtárra sem X-re nincs szükség.
Olvasd el a <link linkend="vidix">VIDIX</link> részt.
</para>
</sect2>


<sect2 id="neomagic">
<title>NeoMagic kártyák</title>

<para>
Ilyen kártyák általában laptopokban találhatóak. XFree86 4.3.0 vagy
újabbat kell használnod, vagy Stefan Seyfried
<ulink url="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-driver/">Xv-t támogató vezérlőjét</ulink>.
Csak válaszd ki az te XFree86-odhoz illő verziót.
</para>

<para>
Az XFree86 4.3.0-ban van Xv támogatás, Bohdan Horst pedig küldött egy kis
<ulink url="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-driver/neo_driver.patch">javítást</ulink>
az XFree86 forrásához, ami a framebuffer műveleteket felgyorsítja (XVideo-t
is) akár négyszeresére is. A javítás belekerült az XFree86 CVS-ébe és a
4.3.0 utáni következő kiadásban is benne lesz.
</para>

<para>
A DVD méretű tartalmak lejátszásához az XF86Config-odat módosítanod kell:
<programlisting>
Section "Device"
    [...]
    Driver "neomagic"
    <emphasis>Option "OverlayMem" "829440"</emphasis>
    [...]
EndSection<!--
--></programlisting>
</para>
</sect2>


<sect2 id="trident">
<title>Trident kártyák</title>

<para>
Ha az Xv-t Trident kártyával akarod használni, feltéve hogy nem megy 4.1.0-val,
telepítsd fel az XFree 4.2.0-t. A 4.2.0-ban teljes képernyős Xv támogatás van
a Cyberblade XP kártyával.
</para>

<para>
Alternatívaként az <application>MPlayer</application> is tartalmaz egy
<link linkend="vidix">VIDIX</link> vezérlőt a Cyberblade/i1 kártyához.
</para>
</sect2>


<sect2 id="kyro">
<title>Kyro/PowerVR kártyák</title>

<para>
Ha az Xv-t Kyro alapú kártyával akarod használni (például Hercules
Prophet 4000XT-vel), akkor le kell töltened a vezérlőt a
<ulink url="http://www.powervr.com/">PowerVR oldaláról</ulink>.
</para>
</sect2>


<sect2 id="intel">
<title>Intel kártyák</title>

<para>
Ez a kártya sok laptopban megtalálható. A legújabb Xorg javasolt hozzá.
</para>

<para>
A DVD méretű (és nagyobb) tartalom lejátszásának engedélyezéséhez módosítanod
kell az XF86Config/xorg.conf fájlodat így:
<programlisting>
Section "Device"
    [...]
    Driver "intel"
    <emphasis>Option "LinearAlloc" "6144"</emphasis>
    [...]
EndSection
</programlisting>
Ezen opció hiánya általában egy ehhez hasonló hibát eredményez:
<screen>X11 error: BadAlloc (insufficient resources for operation)</screen>
when attempting to use <option>-vo xv</option>.
</para>
</sect2>
</sect1>

<!-- ********** -->

<sect1 id="dga">
<title>DGA</title>

<formalpara>
<title>BEVEZETÉS</title>
<para>
Ez a dokumentum megpróbálja pár szóban elmagyarázni, hogy mi is az a DGA
tulajdonképpen és mit tehet a DGA vezérlő az <application>MPlayer</application>nek
(és mit nem).
</para>
</formalpara>

<formalpara>
<title>MI AZ A DGA</title>
<para>
A <acronym>DGA</acronym> a <emphasis>Direct Graphics Access</emphasis>
rövidítése és azt jelenti, hogy egy program az X szerver megkerülésével
direkt eléréssel módosíthatja a framebuffer memóriát. Gyakorlatilag ez úgy
történik, hogy a framebuffer memória a processzed memória tartományába
kerül leképezésre. Ezt a kernel csak superuser jogokkal engedélyezi. Vagy
<systemitem class="username">root</systemitem> néven történő bejelentkezéssel
vagy az <application>MPlayer</application> futtatható állományának SUID
bitjének beállításával juthatsz ilyen jogokhoz. (<emphasis role="bold">nem
javasoljuk</emphasis>).
</para>
</formalpara>
<para>
Két verziója van a DGA-nak: a DGA1 az XFree 3.x.x-ban volt használatos, a DGA2
az XFree 4.0.1-ben került bevezetésre.
</para>

<para>
A DGA1 csak direkt framebuffer elérést biztosít a fent leírt módszerrel. A
videó jel felbontásának megváltoztatásához az XVidMode kiterjesztést kell
használnod.
</para>

<para>
A DGA2 már tartalmazza az XVidMode kiterjesztés képességeit és a
képernyő színmélységét is engedi változtatni. Így alaphelyzetben 32
bites színmélységben futtatott X szervert átállíthatsz 15 bites
mélységre és vissza.
</para>

<para>
Ennek ellenére a DGA-nak van néhány hátránya. Úgy tűnik ez az általad használt
grafikus chip-től függ és az ezen chip-et irányító vezérlő X szerverben való
megvalósításától. Így nem minden rendszeren működik...
</para>

<formalpara>
<title>DGA TÁMOGATÁS TELEPÍTÉSE AZ MPLAYERHEZ</title>

<para>
Először győződj meg, hogy az X betölti a DGA kiterjesztést: lásd
a <filename>/var/log/XFree86.0.log</filename> fájlt:

<programlisting>(II) Loading extension XFree86-DGA</programlisting>

XFree86 4.0.x vagy újabb
<emphasis role="bold">nagyon javasolt</emphasis>!
Az <application>MPlayer</application> DGA vezérlőjét a
<filename>./configure</filename> automatikusan megtalálja, de elő is írhatod
a használatát a <option>--enable-dga</option> kapcsolóval.
</para>
</formalpara>

<para>
Ha a vezérlő nem tud kisebb felbontásra váltani, kísérletezz a
<option>-vm</option> (csak X 3.3.x esetén), <option>-fs</option>,
<option>-bpp</option>, <option>-zoom</option> kapcsolókkal a filmnek
legmegfelelőbb videó mód megtalálásához. Még nincs konverter :(
</para>

<para>
Lépj be <systemitem class="username">root</systemitem>ként. A DGA-hoz root
elérés kell, hogy közvetlenül tudjon írni a videó memóriába. Ha felhasználóként
akarod futtatni, telepítsd az <application>MPlayer</application>t SUID root-tal:

<screen>
chown root <replaceable>/usr/local/bin/mplayer</replaceable>
chmod 750 <replaceable>/usr/local/bin/mplayer</replaceable>
chmod +s <replaceable>/usr/local/bin/mplayer</replaceable>
</screen>

Így már egyszerű felhasználók esetében is működik.
</para>

<caution>
<title>Biztonsági kockázat</title>
<para>
Ez <emphasis role="bold">nagy</emphasis> biztonsági kockázatot jelent!
<emphasis role="bold">Soha</emphasis> ne csináld ezt meg egy szerveren vagy egy
olyan számítógépen amihez mások is hozzáférnek, mert root jogokat szerezhetnek
a SUID root-os <application>MPlayer</application>rel.
</para>
</caution>

<para>
Használd a <option>-vo dga</option> kapcsolót, és már megy is! (reméljük:)
Kipróbálhatod a <option>-vo sdl:driver=dga</option> kapcsolót is, hogy működik-e!
Sokkal gyorsabb!
</para>


<formalpara id="dga-modelines">
<title>FELBONTÁS VÁLTÁS</title>

<para>
A DGA vezérlő lehetővé teszi a kimeneti jel felbontásának megváltoztatását.
Ezzel elkerülhető a (lassú) szoftveres méretezés és ugyanakkor teljes képernyős
képet biztosít. Ideális helyzetben pontosan a videó adat felbontására vált
(kivéve az aspect arányt), de az X szerver csak a
<filename>/etc/X11/XF86Config</filename>
(<filename>/etc/X11/XF86Config-4</filename> XFree 4.X.X esetén)
fájlban előírt felbontásokra enged váltani.
Ezeket modline-oknak nevezik és a videó hardvered tulajdonságain múlik.
Az X szerver átnézi ezt a konfigurációs fájlt indításkor és letiltja a
hardverednek nem megfelelőeket.
Az X11 log fájlból kiderítheted, hogy mely módok engedélyezettek. Megtalálhatóak
a <filename>/var/log/XFree86.0.log</filename> fájlban.
</para>
</formalpara>

<para>
Ezek a bejegyzések tudvalevőleg működnek Riva128 chip-en, az nv.o X szerver
vezérlő modul használatával.
</para>

<para><programlisting>
Section "Modes"
  Identifier "Modes[0]"
  Modeline "800x600"  40     800 840 968 1056  600 601 605 628
  Modeline "712x600"  35.0   712 740 850 900   400 410 412 425
  Modeline "640x480"  25.175 640 664 760 800   480 491 493 525
  Modeline "400x300"  20     400 416 480 528   300 301 303 314 Doublescan
  Modeline "352x288"  25.10  352 368 416 432   288 296 290 310
  Modeline "352x240"  15.750 352 368 416 432   240 244 246 262 Doublescan
  Modeline "320x240"  12.588 320 336 384 400   240 245 246 262 Doublescan
EndSection
</programlisting></para>


<formalpara>
<title>DGA &amp; MPLAYER</title>
<para>
A DGA két helyen használható az <application>MPlayer</application>ben: Az
SDL vezérlőnek előírhatod a használatát (<option>-vo sdl:driver=dga</option>)
és a DGA vezérlőben (<option>-vo dga</option>). A fent említettek vonatkoznak
mind a kettőre; a következő részben leírom, hogyan működik az
<application>MPlayer</application> DGA vezérlője.
</para>
</formalpara>


<formalpara>
<title>TULAJDONSÁGOK</title>

<para>
A DGA vezérlő használatát a <option>-vo dga</option> kapcsoló parancssorban
történő megadásával írhatod elő. Alapértelmezésként az videó eredeti
felbontásához legközelebb álló felbontásra vált. Szándékosan figyelmen
kívül hagyja a <option>-vm</option> és <option>-fs</option> kapcsolókat
(videó mód váltás engedélyezése és teljes képernyő) - mindig a lehető
legtöbbet megpróbálja elfedni a képernyődből a videó mód váltásával, így
megspórolja a képméretezéshez szükséges plusz CPU ciklusokat. Ha nem
tetszik az általa választott mód, kényszerítheted, hogy az általad megadott
felbontáshoz legközelebbit keresse meg az <option>-x</option> és
<option>-y</option> kapcsolókkal. A <option>-v</option> kapcsoló beírásának
hatására a DGA vezérlő sok egyéb mellett kilistázza az aktuális
<filename>XF86Config</filename> fájl által támogatott összes felbontást.
DGA2 használata esetén előírhatod a színmélységet is a <option>-bpp</option>
kapcsolóval. Az érvényes színmélységek 15, 16, 24 és 32. A hardvereden
múlik, hogy ezek a színmélységek alapból támogatottak-e vagy (valószínűleg
lassú) konverziót kell végezni.
</para>
</formalpara>
<para>
Ha vagy olyan szerencsés, hogy elegendő memóriád van az egész, nem képernyőn
lévő kép bemásolásához, a DGA vezérlő dupla bufferelést fog használni, ami
egyenletesebb film lejátszást eredményez. Kiírja, hogy a dupla bufferelés
engedélyezett-e vagy sem.
</para>

<para>
A dupla bufferelés azt jelenti,h ogy a videód következő képkockája a memória
egy nem megjelenített részére másolódik, amíg az aktuális képkocka van a
képernyőn. Ha kész a következő képkocka, a grafikus chip megkapja az új kép
memóriabeli helyét, és egyszerűen onnan megjeleníti a képet. Eközben a másik
buffer ismét feltöltődik új videó adattal.
</para>

<para>
A dupla bufferelés bekapcsolható a <option>-double</option> kapcsolóval, vagy
letiltható a <option>-nodouble</option>-lal. A jelenlegi alapértelmezett
beállítás szerint le van tiltva a dupla bufferelés. DGA vezérlő használata
esetén az onscreen display (OSD) csak akkor működik, ha a dupla bufferelés
engedélyezve van. Azonban a dupla bufferelés nagy sebességcsökkenéssel járhat
(az én K6-II+ 525 gépemen további 20% CPU idő!) a hardvered DGA implementációjától
függően.
</para>


<formalpara>
<title>SEBESSÉGI ADATOK</title>

<para>
Általánosságban a DGA framebuffer elérésének legalább olyan gyorsnak
kell lennie, mint az X11-es vezérlőnek a teljes képernyős képhez szükséges
kiegészítők használatával. Az <application>MPlayer</application> által kiírt
százalékos sebesség értékeket azonban fenntartással kezeld, mert például az
X11-es vezérlő esetén nem tartalmazzák azt az időt, ami az X szervernek kell
a kirajzoláshoz. Hurkold rá a terminált egy soros vonalra és indítsd el a
<command>top</command> programot, akkor megtudod mi is történik valójában a
dobozodban.
</para>
</formalpara>

<para>
Kijelenthetjük, hogy a DGA gyorsítása a 'normális' X11-es használathoz képest
erőteljesen függ a grafikus kártyádtól és hogy a hozzá tartozó X szerver modul
mennyire optimalizált.
</para>

<para>
Ha lassú rendszered van, jobb ha 15 vagy 16 bites színmélységet használsz,
mivel ezek fele akkora memória sávszélességet igényelnek, mint a 32 bites
megjelenítés.
</para>

<para>
A 24 bites színmélység használata jó ötlet, ha a kártyád natívan támogatja a
32 bites mélységet, mivel ez is 25%-kal kevesebb adatátvitelt jelent a 32/32
módhoz képest.
</para>

<para>
Láttam pár AVI fájlt 266-os Pentium MMX-en lejátszva. Az AMD K6-2 CPU-k is
működnek 400 MHZ vagy afölött.
</para>


<formalpara>
<title>ISMERT HIBÁK</title>

<para>
Nos, az XFree néhány fejlesztője szerint a DGA egy szörnyeteg. Ők azt mondják,
jobb ha nem használod. Az implementációja nem mindig tökéletes az XFree-hez
tartozó chipset vezérlőkkel.
</para>
</formalpara>

<itemizedlist>
<listitem><para>
  Az XFree 4.0.3 és az <filename>nv.o</filename> esetén van egy hiba, ami
  érdekes színeket eredményez.
</para></listitem>
<listitem><para>
  ATI vezérlő esetén egynél többször kell visszaváltani a módot a DGA-s
  lejátszás után.
</para></listitem>
<listitem><para>
  Néhány vezérlő egyszerűen képtelen visszaváltani normál felbontásra (használd a
  <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Keypad +</keycap></keycombo>
  és
  <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Keypad -</keycap></keycombo>
  kombinációkat a kézi váltáshoz).
</para></listitem>
<listitem><para>
  Néhány vezérlő egyszerűen rossz színeket jelenít meg.
</para></listitem>
<listitem><para>
  Néhány vezérlő hamis adatot ad a processz címterébe bemappolt memória méretéről,
  így a vo_dga nem használ dupla bufferelést (SIS?).
</para></listitem>
<listitem><para>
  Néhány vezérlő egy használható módot sem jelez. Ebben az esetben a
  DGA vezérlő összeomlik és azt írja, hogy 100000x100000-es értelmetlen mód
  vagy valami hasonló.
</para></listitem>
<listitem><para>
  Az OSD csak engedélyezett dupla buffereléssel működik (különben villog).
</para></listitem>
</itemizedlist>

</sect1>

<!-- ********** -->

<sect1 id="sdl">
<title>SDL</title>

<para>
Az <acronym>SDL</acronym> (Simple Directmedia Layer) tulajdonképpen egy
egységesített videó/audió interfész. Az ezt használó programok csak az
SDL-ről tudnak, arról nem, az hogy milyen videó és audió vezérlőt használ.
Például egy SDL-t használó Doom port futhat svgalib, aalib, X, fbdev és
még más vezérlők segítségével, de neked csak (például) a videó vezérlőt kell
megadnod az <envar>SDL_VIDEODRIVER</envar> környezeti változóval. Legalábbis
elméletben.
</para>

<para>
Az <application>MPlayer</application>rel mi az X11 vezérlő szoftveres
képméretező képességét használtuk XVideo-t nem támogató kártyák/vezérlők
esetén, amíg el nem készült a mi saját (gyorsabb, szebb) szoftveres méretezőnk.
Használtuk az aalib kimeneti képességét is, de most már abból is van saját,
ami sokkal komfortosabb. A DGA módja jobb volt a mienkénél, legalábbis a
közelmúltig. Vágod? :)
</para>

<para>
Segít pár hibás vezérlő/kártya esetén is, ha a videó szaggatott (nem lassú
rendszer miatt) vagy az audió késett.
</para>

<para>
Az SDL videó kimenet támogatja a feliratok megjelenítését a film alatt, a
(ha van) fekete soron.
</para>
</sect1>

<!-- ********** -->

<sect1 id="svgalib">
<title>SVGAlib</title>

<formalpara>
<title>TELEPÍTÉS</title>
<para>
Telepítened kell az svgalib-et és a fejlesztői csomagjait ahhoz, hogy az
<application>MPlayer</application> elkészítse az SVGAlib vezérlőjét (automatikusan
felismeri, de lehet kényszeríteni is rá) és ne felejtsd el átírni a
<filename>/etc/vga/libvga.config</filename> fájlt, hogy megfeleljen a kártyádnak
és a monitorodnak.
</para>
</formalpara>

<note><para>
Ne használd a <option>-fs</option> kapcsolót, mert bekapcsolja a szoftveres
méretezést és lassú. Ha tényleg szükség van rá, használd a
<option>-sws 4</option> kapcsolót, ami rossz minőséget ad, de valamivel gyorsabb.
</para></note>

<formalpara>
<title>EGA (4BPP) TÁMOGATÁS</title>
<para>
Az SVGAlib tartalmazza az EGAlib-et és az <application>MPlayer</application> így
képes bármely film 16 színben történő megjelenítésére, lehetővé téve az alábbi
beállítások használatát:
</para>
</formalpara>

<itemizedlist>
<listitem><para>
  EGA kártya EGA monitorral: 320x200x4bpp, 640x200x4bpp, 640x350x4bpp
</para></listitem>
<listitem><para>
  EGA kártya CGA monitorral: 320x200x4bpp, 640x200x4bpp
</para></listitem>
</itemizedlist>

<para>
A bpp (bit per pixel) értéket kézzel kell 4-re állítanod:
<option>-bpp 4</option>
</para>

<para>
A filmet valószínűleg át kell méretezni, hogy megfeleljen az EGA módnak:
<screen>-vf scale=640:350</screen>
or
<screen>-vf scale=320:200</screen>
</para>

<para>
Ehhez gyors, de rossz minőséget produkáló méretező rutin kell:
<screen>-sws 4</screen>
</para>

<para>
Talán az automatikus arány-javítást kikapcsolhatod:
<screen>-noaspect</screen>
</para>

<note><para>
A kísérleteimből úgy tűnik, a legjobb képminőség EGA monitorokon
a világosság enyhe csökkentésével állítható elő:
<option>-vf eq=-20:0</option>. Nálam szükséges volt az audió mintavételi
ráta csökkentése is, mert a hang szétesett 44kHz-en:
<option>-srate 22050</option>.
</para></note>

<para>
Csak az <option>expand</option> szűrő segítségével tudod bekapcsolni a
feliratokat és az OSD-t, lásd a man oldalt a megfelelő paraméterekért.
</para>
</sect1>

<!-- ********** -->

<sect1 id="fbdev">
<title>Framebuffer kimenet (FBdev)</title>

<para>
Az FBdev elkészítése automatikusan kiválasztódik a
<filename>./configure</filename> során. Olvasd el a framebuffer dokumentációt
a kernel forrásban (<filename>Documentation/fb/*</filename>) a bővebb
információkért.
</para>

<para>
Ha a kártyád nem támogatja a VBE 2.0 szabványt (régebbi ISA/PCI kártyák, mint
például az S3 Trio64), csak a VBE 1.2-t (vagy régebbit?): Nos, a VESAfb még
elérhető, de be kell töltened a SciTech Display Doctor-t (egykori UniVBE),
mielőtt betöltenéd a Linuxot. Használj DOS boot lemezt vagy valamit. És ne
felejtsd el regisztrálni az UniVBE-det! ;))
</para>

<para>
Az FBdev kimenetnek a fentiek mellett van néhány paramétere is:
</para>

<variablelist>
<varlistentry>
  <term><option>-fb</option></term>
  <listitem><para>
    megadhatod a használni kívánt framebuffer eszközt (alapértelmezett: <filename>/dev/fb0</filename>)
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-fbmode</option></term>
  <listitem><para>
    használni kívánt mód neve (a <filename>/etc/fb.modes</filename> fájlnak megfelelően)
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-fbmodeconfig</option></term>
  <listitem><para>
    módokat tartalmazó konfigurációs fájl (alapértelmezett: <filename>/etc/fb.modes</filename>)
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-monitor-hfreq</option></term>
  <term><option>-monitor-vfreq</option></term>
  <term><option>-monitor-dotclock</option></term>
  <listitem><para>
    <emphasis role="bold">fontos</emphasis> értékek, lásd
    <filename>example.conf</filename>
  </para></listitem>
</varlistentry>
</variablelist>

<para>
Ha egy különleges módra akarsz váltani, akkor így használd:
<screen>
mplayer -vm -fbmode <replaceable>mod_neve</replaceable> <replaceable>fajlnev</replaceable>
</screen>
</para>

<itemizedlist>
<listitem><para>
  Magában a <option>-vm</option> kiválasztja a legmegfelelőbb módot a
  <filename>/etc/fb.modes</filename> fájlból. Használható együtt a
  <option>-x</option> és <option>-y</option> kapcsolókkal is. A
  <option>-flip</option> kapcsoló csak akkor támogatott, ha a film pixel
  formátuma megfelel a videó mód pixel formátumának. Figyelj a bpp
  értékére, az fbdev vezérlő az aktuálisat próbálja meg használni, vagy
  ha megadsz valamit a <option>-bpp</option> kapcsolóval, akkor azt.
</para></listitem>
<listitem><para>
  A <option>-zoom</option> kapcsoló nem támogatott (használd a
  <option>-vf scale</option>-t). Nem használhatsz 8bpp (vagy kevesebb) módokat.
</para></listitem>
<listitem><para>
  Valószínűleg el szeretnéd tüntetni a kurzort:
  <screen>echo -e '\033[?25l'</screen>
  vagy
  <screen>setterm -cursor off</screen>
  és a képernyővédőt:
  <screen>setterm -blank 0</screen>
  Kurzor visszakapcsolása:
  <screen>echo -e '\033[?25h'</screen>
  vagy
  <screen>setterm -cursor on</screen>
</para></listitem>
</itemizedlist>

<note><para>
Az FBdev videó mód váltása <emphasis>nem működik</emphasis> a VESA
framebufferrel és ne is kérd, hogy működjön, mivel ez nem az
<application>MPlayer</application> korlátja.
</para></note>
</sect1>

<!-- ********** -->

<sect1 id="mga_vid">
<title>Matrox framebuffer (mga_vid)</title>

<para>
Az <systemitem>mga_vid</systemitem> egy videó kimeneti vezérlő és egy
kernel modul kombinációja, ami felhasználja a Matrox G200/G400/G450/G550
videó méretező/overlay egységét a YUV->RGB színtér átalakításhoz és tetszés
szerinti videó méretezéshez.
Az <systemitem>mga_vid</systemitem>-ben van hardveres VSYNC támogatás tripla
buffereléssel. Működik mind a framebuffer konzolon, mind X alatt, de csak
2.4.x-es Linux-szal.
</para>

<para>
Ezen vezérlő Linux 2.6.x alatti verziója itt található:
<ulink url="http://attila.kinali.ch/mga/"/> vagy nézz rá az mga_vid külső
Subversion repository-jára, melyet checkout-olhatsz így:

<screen>
svn checkout svn://svn.mplayerhq.hu/mga_vid
</screen>
</para>

<procedure>
<title>Telepítés:</title>
<step><para>
  A használatához először le kell fordítanod a <filename>drivers/mga_vid.o</filename> fájt:
  <screen>
make drivers<!--
--></screen>
</para></step>
<step><para>
  Ezután futtasd (<systemitem class="username">root</systemitem>-ként) a
  <screen>make install-drivers</screen>
  parancsot, ami telepíti a modult és létrehozza az eszköz node-ját neked.
  Töltsd be a vezérlőt
  <screen>insmod mga_vid.o</screen>
</para></step>
<step><para>
  Ellenőrizd a memória méret detektálását a <command>dmesg</command>
  parancs segítségével. Ha hibásan írja, használd a
  <option>mga_ram_size</option> kapcsolót
  (előtte <command>rmmod mga_vid</command>),
  a kártya memóriájának MB-ban történő megadásához:
  <screen>insmod mga_vid.o mga_ram_size=16</screen>
</para></step>
<step><para>
  Az automatikus betöltéshez/törléshez először írd be ezt a sort a
  <filename>/etc/modules.conf</filename> fájlod végére:

  <programlisting>alias char-major-178 mga_vid</programlisting>
</para></step>
<step><para>
  Ezekután le kell fordítanod (újra) az <application>MPlayer</application>t, a
  <command>./configure</command> meg fogja találni a
  <filename>/dev/mga_vid</filename>-et és elkészíti az 'mga' vezérlőt. Az
  <application>MPlayer</application>ben a <option>-vo mga</option> kapcsolóval
  használhatod, ha matroxfb konzolod van vagy a <option>-vo xmga</option>-val
  XFree86 3.x.x vagy 4.x.x alatt.
</para></step>
</procedure>

<para>
Az mga_vid vezérlő együttműködik az Xv-vel.
</para>

<para>
A <filename>/dev/mga_vid</filename> eszköz fájlt megnézheted némi infóért
például a
<screen>cat /dev/mga_vid</screen>
segítségével és beállíthatod a fényerősséget:
<screen>echo "brightness=120" &gt; /dev/mga_vid</screen>
</para>

<para>
Van egy <command>mga_vid_test</command> nevű teszt alkalmazás ugyan ebben a
könyvtárban. Ha minden jól működik, akkor 256x256-os képeket rajzol a képernyőre.
</para>

</sect1>

<!-- ********** -->

<sect1 id="tdfxfb" xreflabel="3Dfx YUV support (tdfxfb)">
<title>3Dfx YUV támogatás</title>

<para>
Ez a vezérlő a kernel tdfx framebuffer vezérlőjét használja a filmek
YUV gyorsításával történő lejátszásához. Kell hozzá egy kernel tdfxfb
támogatással, és egy újrafordítás a
<screen>./configure --enable-tdfxfb</screen>
paranccsal.
</para>
</sect1>

<!-- ********** -->

<sect1 id="tdfx_vid">
<title>tdfx_vid</title>

<para>
Ez a Linux kernel moduljainak és egy videó kimeneti vezérlőnek a
kombinációja, hasonlóan az <link linkend="mga_vid">mga_vid</link>-hez.
2.4.x kernel kell hozzá az <systemitem>agpgart</systemitem>
vezérlővel, mivel a <systemitem>tdfx_vid</systemitem> AGP-t használ.
Add meg a <option>--enable-tdfxfb</option> a <command>configure</command>-nak
a videó kimeneti vezérlő elkészítéséhez és készíts egy kernel modult
az alábbi utasítások alapján.
</para>

<procedure>
<title>A tdfx_vid.o kernel modul telepítése:</title>
<step><para>
  Fordítsd le a <filename>drivers/tdfx_vid.o</filename> fájlt:
  <screen>
make drivers</screen>
</para></step>
<step><para>
  Ezután futtasd (<systemitem class="username">root</systemitem>-ként) a
  <screen>make install-drivers</screen>
  parancsot, ami telepíti a modult és létrehozza az eszköz node-ját neked.
  Töltsd be a vezérlőt
  <screen>insmod tdfx_vid.o</screen>
</para></step>
<step><para>
  A szükség esetén történő automatikus betöltéshez/törléshez, először szúrd
  be ezt a sort a <filename>/etc/modules.conf</filename> fájl végére:

  <programlisting>alias char-major-178 tdfx_vid</programlisting>
</para></step>
</procedure>

<para>
Van egy <command>tdfx_vid_test</command> nevű teszt alkalmazás ugyan ebben a
könyvtárban. Ha minden jól működik, néhány hasznos információt jelenít meg.
</para>

</sect1>

<!-- ********** -->

<sect1 id="opengl">
<title>OpenGL kimenet</title>

<para>
Az <application>MPlayer</application> támogatja a filmek OpenGL-lel történő
megjelenítését is, de ha a platformod/vezérlőd támogatja az Xv-t, inkább azt
használd PC-n Linux-szal, az OpenGL teljesítménye észrevehetően gyengébb. Ha
Xv támogatás nélküli X11-ed van, az OpenGL jó alternatíva lehet.
</para>

<para>
Sajnos nem minden vezérlő támogatja ezt a tulajdonságot. A Utah-GLX vezérlők
(az XFree86 3.3.6-hoz) minden kártya esetén támogatják.
Lásd a <ulink url="http://utah-glx.sf.net"/> oldalt a részletes telepítési
leíráshoz.
</para>

<para>
Az XFree86(DRI) 4.0.3 vagy későbbi támogatja az OpenGL-t Matrox és Radeon
kártyákkal, a 4.2.0 vagy későbbi Rage128-cal.
Lásd a <ulink url="http://dri.sf.net"/> oldalt a letöltéshez és a telepítési
utasításokért.
</para>

<para>
Egy felhasználónk tanácsa: a GL videó kimenetet függőlegesen szinkronizált
TV kimenet előállításához is felhasználhatod. Csak be kell állítanod egy
környezeti változót (legalábbis az nVidia-n):
</para>

<para>
<command>export __GL_SYNC_TO_VBLANK=1</command>
</para>
</sect1>

<!-- ********** -->

<sect1 id="aalib">
<title>AAlib &ndash; szöveges módú megjelenítés</title>

<para>
Az AAlib egy függvény könyvtár grafika karakteres módban történő megjelenítéséhez,
egy nagyszerű ASCII renderelő segítségével. Már jelenleg is <emphasis>rengeteg</emphasis>
program támogatja, például a Doom, Quake, stb. Az <application>MPlayer</application>ben
is van egy roppant jól használható vezérlő hozzá. Ha a <filename>./configure</filename>
talál telepített aalib-et, az aalib libvo vezérlő alapértelmezett lesz.
</para>

<para>
Pár billentyű segítségével állíthatod a renderelési opciókat az AA Ablakban:
</para>

<informaltable>
<tgroup cols="2">
<thead>
  <row><entry>Gomb</entry><entry>Művelet</entry></row>
</thead>
<tbody>
<row><entry><keycap>1</keycap></entry><entry>
  kontraszt csökkentése
</entry></row>
<row><entry><keycap>2</keycap></entry><entry>
  kontraszt növelése
</entry></row>
<row><entry><keycap>3</keycap></entry><entry>
  fényerő csökkentése
</entry></row>
<row><entry><keycap>4</keycap></entry><entry>
  fényerő növelése
</entry></row>
<row><entry><keycap>5</keycap></entry><entry>
  gyors renderelés be/kikapcsolása
</entry></row>
<row><entry><keycap>6</keycap></entry><entry>
  dithering módjának beállítása (nincs, hiba eloszlás, Floyd Steinberg)
</entry></row>
<row><entry><keycap>7</keycap></entry><entry>
  kép megfordítása
</entry></row>
<row><entry><keycap>8</keycap></entry><entry>
  váltás az aa és az <application>MPlayer</application> vezérlése között
</entry></row>
</tbody>
</tgroup>
</informaltable>

<variablelist>
<title>A következő parancssori kapcsolókat használhatod:</title>
<varlistentry>
  <term><option>-aaosdcolor=<replaceable>V</replaceable></option></term>
  <listitem><para>
    OSD színének megváltoztatása
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-aasubcolor=<replaceable>V</replaceable></option></term>
  <listitem><para>
    Felirat színének megváltoztatása
    </para><para>
    ahol a <replaceable>V</replaceable> lehet:
    <literal>0</literal> (normális),
    <literal>1</literal> (sötét),
    <literal>2</literal> (vastag),
    <literal>3</literal> (félkövér betű),
    <literal>4</literal> (ellentétes),
    <literal>5</literal> (speciális).
  </para></listitem>
</varlistentry>
</variablelist>

<variablelist>
<title>Maga az AAlib számtalan lehetőséget biztosít. Itt van pár fontosabb:</title>
<varlistentry>
  <term><option>-aadriver</option></term>
  <listitem><para>
    Beállítja a javasolt aa vezérlőt (X11, curses, Linux).
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-aaextended</option></term>
  <listitem><para>
    Mind a 256 karakter használata.
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-aaeight</option></term>
  <listitem><para>
    Nyolc bites ASCII.
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-aahelp</option></term>
  <listitem><para>
    Kiírja az összes aalib kapcsolót.
  </para></listitem>
</varlistentry>
</variablelist>

<note><para>
A renderelés nagyon CPU igényes, különösen ha AA-on-X-et
(aalib használata X alatt) használsz, a legalacsonyabb a standard,
nem framebuffer-es konzolon. Használd az SVGATextMode-ot a nagy
felbontás beállításához, és élvezd! (másodlagos Hercules kártyák a
sirályak :)) (de SZVSZ használhatod a
<option>-vf 1bpp</option> kapcsolót is a hgafb-en megjelenő grafikához :)
</para></note>

<para>
A <option>-framedrop</option> kapcsoló használatát javasoljuk, ha nem
elég gyors a géped az összes képkocka rendeléséhez!
</para>

<para>
Terminálon lejátszva jobb sebességet és minőséget kapsz a Linux vezérlővel,
mint a curses-szal (<option>-aadriver linux</option>). De ehhez írási joggal
kell rendelkezned a <filename>/dev/vcsa<replaceable>&lt;terminal&gt;</replaceable></filename>
fájlhoz! Ezt az aalib nem ismeri fel magától, de a vo_aa megpróbálja
megtalálni a legjobb módot.
Lásd a <ulink url="http://aa-project.sf.net/tune"/> oldalt a további
tuningolási dolgokhoz.
</para>
</sect1>

<!-- ********** -->

<sect1 id="caca">
<title>
<systemitem class="library">libcaca</systemitem> - Színes ASCII Art függvénykönyvtár
</title>

<para>
A <ulink url="http://sam.zoy.org/projects/libcaca/"><systemitem class="library">libcaca</systemitem></ulink>
függvénykönyvtár egy grafikus könyvtár, ami szöveget jelenít meg pixelek helyett, így
működik régebbi videó kártyákkal vagy szöveges terminálokon is. Hasonló a népszerű
<systemitem class="library">AAlib</systemitem> könyvtárhoz.
A <systemitem class="library">libcaca</systemitem>-nak egy terminál kell a működéshez, így
bármilyen Unix rendszeren (beleértve a Mac OS X-et) működik, vagy a
<systemitem class="library">slang</systemitem> vagy az
<systemitem class="library">ncurses</systemitem> vagy DOS alatt a
<systemitem class="library">conio.h</systemitem> illetve Windows rendszereken
akár a <systemitem class="library">slang</systemitem> vagy az
<systemitem class="library">ncurses</systemitem> (Cygwin emuláción keresztül) vagy
a <systemitem class="library">conio.h</systemitem> könyvtárak használatával. Ha
a <filename>./configure</filename>
megtalálja a <systemitem class="library">libcaca</systemitem>-t, a caca libvo vezérlő
elkészül.
</para>

<itemizedlist>
<title>A különbség az <systemitem class="library">AAlib</systemitem>-hez képest
  a következőek:</title>
<listitem><para>
   16 elérhető szín a karakter kimenetre (256 színű párok)
</para></listitem>
<listitem><para>
   színes kép dithering
</para></listitem>
</itemizedlist>

<itemizedlist>
<title>De a <systemitem class="library">libcaca</systemitem>-nak megvan az
  alábbi korlátja:</title>
<listitem><para>
   nincs fényerő, kontraszt és gamma támogatás
</para></listitem>
</itemizedlist>

<para>
Pár billentyűvel szabályozhatod a caca ablakban a renderelés opcióit:
</para>

<informaltable>
<tgroup cols="2">
<thead>
  <row><entry>Gomb</entry><entry>Művelet</entry></row>
</thead>
<tbody>
<row><entry><keycap>d</keycap></entry><entry>
  Váltás a <systemitem class="library">libcaca</systemitem> dithering metódusai között.
</entry></row>
<row><entry><keycap>a</keycap></entry><entry>
  A <systemitem class="library">libcaca</systemitem> antialiasing ki-/bekapcsolása.
</entry></row>
<row><entry><keycap>b</keycap></entry><entry>
  A <systemitem class="library">libcaca</systemitem> háttérbe küldése.
</entry></row>
</tbody>
</tgroup>
</informaltable>

<variablelist>
<title>A <systemitem class="library">libcaca</systemitem> figyel pár
  környezeti változót is:</title>
<varlistentry>
  <term><option>CACA_DRIVER</option></term>
  <listitem><para>
    Állítsd be a javasolt caca vezérlőt, pl. ncurses, slang, x11.
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>CACA_GEOMETRY (csak X11)</option></term>
  <listitem><para>
    Megadja a sorok és oszlopok számát, pl. 128x50.
  </para></listitem>
</varlistentry>
<varlistentry>
  <term><option>CACA_FONT (csak X11)</option></term>
  <listitem><para>
    Megadja a használni kívánt betűtípust, pl. fixed, nexus.
  </para></listitem>
</varlistentry>
</variablelist>

<para>
Használd a <option>-framedrop</option> kapcsolót ha a számítógéped nem elég
gyors az összes képkocka rendeléséhez.
</para>

</sect1>

<!-- ********** -->

<sect1 id="vesa">
<title>VESA - kimenet a VESA BIOS-hoz</title>

<para>
Ezt a vezérlőt egy <emphasis role="bold">általános vezérlőként</emphasis>
terveztük meg és vezettük be bármilyen, VESA VBE 2.0 kompatibilis BIOS-szal
rendelkező monitorkártya esetében. A másik előnye ennek a vezérlőnek, hogy
megpróbálja használni a TV kimenetet.
<citetitle>VESA BIOS EXTENSION (VBE) Version 3.0 Dátum: 1998. szeptember 16.
</citetitle> (70. oldal) ezt írja:
</para>

<blockquote>
<formalpara><title>Duál-Vezérlős Tervezés</title>
<para>
A VBE 3.0 támogatja a duál-vezérlős tervezést, feltételezve hogy általában
mindkét vezérlőt ugyanaz az OEM biztosítja, egy BIOS ROM vezérlésével
ugyan azon a grafikus kártyán, lehetséges az alkalmazás számára elrejteni
azt a tényt, hogy valójában két vezérlő van jelen. Ez ugyan megakadályozza
a vezérlők egyidejűleg történő egyedi használatát, azonban lehetővé teszi
a VBE 3.0 előtt kiadott alkalmazások normális működését. A 00h VBE funció
(Vezérlő információkkal tér vissza) a két vezérlő kombinált információit
adja vissza, beleértve a használható módok kombinált listáját. Ha az
alkalmazás kiválaszt egy módot, a megfelelő vezérlő aktiválódik. Az összes
többi VBE funkció ezután az aktív vezérlővel dolgozik.
</para>
</formalpara>
</blockquote>

<para>
Így van esélyed a TV kimenet használatára ezzel a vezérlővel.
(Gondolom a TV-out legtöbbször legalább egyedülálló fej vagy egyedüli kimenet.)
</para>

<itemizedlist spacing="compact">
<title>ELŐNYÖK</title>
<listitem><para>
  Van esélyed a film nézésre akkor is <emphasis role="bold">ha a Linux nem ismeri</emphasis>
  a videó hardveredet.
</para></listitem>
<listitem><para>
  Nem kell telepítened semmiféle grafikus dolgot a Linuxodra (mint pl. X11 (AKA XFree86),
  fbdev és így tovább). Ez a vezérlő fut <emphasis role="bold">szöveges-módban</emphasis>.
</para></listitem>
<listitem><para>
  Jó eséllyel <emphasis role="bold">működő TV-kimenetet</emphasis> kapsz.
  (Legalábbis az ATI kártyákon).
</para></listitem>
<listitem><para>
  Ez a vezérlő meghívja az <function>int 10h</function> kezelőt így nem
  emulátor - <emphasis role="bold">igazi</emphasis> dolgokat hív az
  <emphasis>igazi</emphasis> BIOS-ban <emphasis>valós-módban</emphasis>
  (valójában vm86 módban).
</para></listitem>
<listitem><para>
  Használhatod a VIDIX-et vele, így gyorsított videó megjelenítést kapsz
  <emphasis role="bold">és</emphasis> TV kimenetet egy időben!
  (Javasolt az ATI kártyákhoz.)
</para></listitem>
<listitem><para>
  Ha VESA VBE 3.0+-od van, és megadtad a
  <option>monitor-hfreq, monitor-vfreq, monitor-dotclock</option>-ot valahol
  (konfigurációs fájlban vagy paranccsorban), a lehető legjobb frissítési rátát kapod.
  (Általános Időzítő Formulát használva). Ezen képesség engedélyezéséhez meg kell adnod
  a monitorod <emphasis role="bold">összes</emphasis> opcióját.
</para></listitem>
</itemizedlist>

<itemizedlist spacing="compact">
<title>HÁTRÁNYOK</title>
<listitem><para>
   Csak <emphasis role="bold">x86 rendszereken</emphasis> működik.
</para></listitem>
<listitem><para>
  Csak a <systemitem class="username">root</systemitem> használhatja.
</para></listitem>
<listitem><para>
  Jelenleg csak <emphasis role="bold">Linux</emphasis> alatt elérhető.
</para></listitem>
</itemizedlist>

<important><para>
Ne használd ezt a vezérlőt <emphasis role="bold">GCC 2.96</emphasis>-tal!
Nem fog menni!
</para></important>

<variablelist>
<title>A VESA PARANCSSORI KAPCSOLÓI</title>
<varlistentry>
  <term><option>-vo vesa:<replaceable>opts</replaceable></option></term>
  <listitem><para>
    jelenleg felismert: <literal>dga</literal> a dga mód használatához és
    <literal>nodga</literal> a dga mód letiltásához. A dga módban engedélyezheted
    a dupla bufferelést a <option>-double</option> kapcsolóval. Megjegyzés: ezen
    paraméterek elhagyásával engedélyezed a dga mód <emphasis role="bold">automatikus
    detektálását</emphasis>.
  </para></listitem>
</varlistentry>
</variablelist>

<itemizedlist spacing="compact">
<title>ISMERT PROBLÉMÁK ÉS MEGOLDÁSAIK</title>
<listitem><para>
  Ha telepítettél <emphasis role="bold">NLS</emphasis> betűtípust a Linux rendszeredre
  és VESA vezérlőt használsz szöveges-módban, akkor az <application>MPlayer</application>ből
  való kilépés után a <emphasis role="bold">ROM betűtípusa</emphasis> lesz betöltve a nemzeti
  helyett.
  A nemzeti betűkészletet újra betöltheted pl. a Mandrake/Mandriva disztribúcióban
  található <command>setsysfont</command> nevű segédprogram használatával.
  (<emphasis role="bold">Tanács</emphasis>: Ugyan ez a segédprogram használható az
  fbdev honosítására is).
</para></listitem>
<listitem><para>
  Some <emphasis role="bold">Linux graphics drivers</emphasis> don't update
  active <emphasis role="bold">BIOS mode</emphasis> in DOS memory.
  Tehát ha ilyen problémáid vannak - mindig csak <emphasis role="bold">szöveges módban</emphasis>
  használd a VESA vezérlőt. Különben a szöveges mód (#03) aktiválódik mindenképp
  és újra kell indítanod a számítógépedet.
</para></listitem>
<listitem><para>
  Gyakran a VESA vezérlő bezárása után
  <emphasis role="bold">fekete</emphasis> képernyőt kapsz. Hogy visszaállítsd
  a képernyődet az eredeti állapotába - egyszerűen csak válts át másik
  konzolra (az <keycombo><keycap>Alt</keycap><keycap>F&lt;x&gt;</keycap></keycombo>
  gombok megnyomásával) majd válts vissza ugyanígy.
</para></listitem>
<listitem><para>
  A <emphasis role="bold">működő TV kimenethez</emphasis> be kell dugnod a
  TV-csatlakozót mielőtt betöltene a PC-d, mivel a videó BIOS csak egyszer,
  a POST eljárás során inicializálja magát.
</para></listitem>
</itemizedlist>
</sect1>

<!-- ********** -->

<sect1 id="x11">
<title>X11</title>

<para>
Ha lehet, kerüld el! Az X11-es kimenetnek (megosztott memória kiterjesztést használnak),
nincs semmilyen hardveres támogatásuk. Tudja ugyan (MMX/3DNow/SSE által gyorsítva, de
így is lassan) a szoftveres méretezést, használhatod a <option>-fs -zoom</option>
kapcsolókat. A legtöbb hardverben benne van a hardveres méretezés támogatása, használd
a <option>-vo xv</option> kimenetet hozzá vagy a <option>-vo xmga</option>-t a Matrox
kártyákhoz.
</para>

<para>
A probléma az, hogy a legtöbb kártya vezérlője nem támogatja a hardveres
gyorsítást a második fejen/TV-n. Ezekben az esetekben zöld/kék színű
ablakot látsz a film helyett. Az ilyen esetekben jön jól ez a vezérlő,
de erős CPU-val kell rendelkezned a szoftveres méretezés használatához.
Ne használd az SDL vezérlő szoftveres kimenetét+méretezőjét, annak még
rosszabb a képminősége!
</para>

<para>
A szoftveres méretezés nagyon lassú, jobb, ha megpróbálsz videó módot váltani
inkább. Az egyszerűbb. Lásd a <link linkend="dga-modelines">DGA rész
modeline-jait</link>, és írd be őket az <filename>XF86Config</filename>
fájlba.

<itemizedlist spacing="compact">
<listitem><para>
  Ha XFree86 4.x.x-ed van: használd a <option>-vm</option> kapcsolót. Ez átvált
  egy olyan felbontásra, amin elfér a film. Ha mégsem:
</para></listitem>
<listitem><para>
  XFree86 3.x.x-szel: körkörösen végigmehetsz az elérhető felbontásokon
  a
  <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Keypad +</keycap></keycombo>
  és
  <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Keypad -</keycap></keycombo>
  gombokkal.
</para></listitem>
</itemizedlist>
</para>

<para>
Ha nem találod a beszúrt módokat, nézd át az XFree86 kimenetét. Néhány
vezérlő nem tud alacsony pixelclock-ot használni, ami szükséges az alacsony
felbontású videó módokhoz.
</para>
</sect1>

<!-- ********** -->

<sect1 id="vidix">
<title>VIDIX</title>

<formalpara><title>BEVEZETÉS</title>
<para>
A <acronym>VIDIX</acronym> a
<emphasis role="bold">VID</emphasis>eo
<emphasis role="bold">I</emphasis>nterface
for *ni<emphasis role="bold">X</emphasis> rövidítése.
A VIDIX-et egy felhasználói térben használható vezérlőként tervezték és
mutatták be, mely olyan videó teljesítményt nyújt, mint az mga_vid a
Matrox kártyákon. Ráadásul könnyen portolható.
</para>
</formalpara>

<para>
Ezt az interfészt úgy tervezték meg, hogy illeszkedjen a már létező videó
gyorsító interfészekhez (mga_vid, rage128_vid, radeon_vid, pm3_vid) egy
állandó sémával. Magas szintű interfészt biztosít a BES (BackEnd Scalers)
néven ismert chip-ekhez vagy az OV-hoz (Video Overlays). Nem nyújt a
grafikus szerverekhez hasonló alacsony szintű interfészt. (Nem akarok
versenyezni a z X11 csapattal a grafikus mód váltásban). Pl. ezen
interfész fő célja a videó lejátszás sebességének maximalizálása.
</para>

<itemizedlist spacing="compact">
<title>HASZNÁLAT</title>
<listitem><para>
  Használhatsz egyedülálló videó kimeneti vezérlőt: <option>-vo xvidix</option>.
  Ez a vezérlő a VIDIX-es technológia X11-es front end-je. X szerver kell hozzá
  és csak X szerverrel működik. Jegyezd meg, hogy mivel közvetlenül éri el a
  hardvert az X vezérlő megkerülésével, a grafikus kártya memóriájában lévő
  pixmap-ok sérülhetnek. Ezt elkerülheted az X által használt videó memória
  korlátozásával, amit az XF86Config "VideoRam" opciójával adhatsz meg az
  eszköz részben. Ajánlott ezt a kártyádon lévő memória mínusz 4 MB-ra állítani.
  Ha kevesebb, mint 8 MB videó ram-od van, akkor ehelyett használhatod az
  "XaaNoPixmapCache" opciót a képernyő részben.
</para></listitem>
<listitem>
  <para>
  Van egy konzolos VIDIX vezérlő: <option>-vo cvidix</option>.
  Ehhez egy működő és inicializált frambuffer kell a legtöbb kártyánál (vagy
  különben csak összeszemeteled a képernyőd), és hasonló eredményt kapsz, mint
  a <option>-vo mga</option> vagy <option>-vo fbdev</option> kapcsolókkal. Az
  nVidia kártyák azonban képesek tényleges grafikus kimenetre igazi szöveges
  konzolon. Lásd az <link linkend="vidix-nvidia">nvidia_vid</link> részt a
  további információkért. Hogy megszabadulj a határoló szövegektől és a
  villogó kurzortól, próbálj ki valami ilyesmit:
  </para>

  <screen>setterm -cursor off > /dev/tty9</screen>

  <para>
  (feltéve, hogy a <systemitem>tty9</systemitem> eddig nem volt használva)
  és ezután válts a <systemitem>tty9</systemitem>-re.
  Másrész a <option>-colorkey 0</option>-t ajánlott megadni egy "háttérben"
  futó videónál, mivel a helyes működése a colorkey funkcionalításától
  függ.
  </para>
</listitem>
<listitem><para>
  Használhatod a VIDIX aleszközt, ami számos videó kimeneti vezérlővel együtt használható,
  például: <option>-vo vesa:vidix</option>
  (<emphasis role="bold">csak Linux</emphasis>) és
  <option>-vo fbdev:vidix</option>.
</para></listitem>
</itemizedlist>

<para>
Igazából nem számít, hogy melyik videó kimeneti vezérlőt használod együtt a
<emphasis role="bold">VIDIX</emphasis>-szel.
</para>

<itemizedlist spacing="compact">
<title>KÖVETELMÉNYEK</title>
<listitem><para>
  A videó kártyának grafikus módban kell lennie (kivéve az nVidia kártyákat a
  <option>-vo cvidix</option> kimeneti vezérlővel).
</para></listitem>
<listitem><para>
  Az <application>MPlayer</application> videó kimeneti vezérlőnek tudnia kell
  aktiválni a videó módot és információkat kell tudnia átadni a VIDIX aleszköznek
  a szerver videó karakterisztikájáról.
</para></listitem>
</itemizedlist>

<formalpara>
<title>HASZNÁLATI MÓDOK</title>
<para>
Ha a VIDIX-et <emphasis role="bold">aleszközként</emphasis> használod (<option>-vo
vesa:vidix</option>), akkor a videó mód konfigurációt a videó kimeneti vezérlő
(röviden <emphasis role="bold">vo_server</emphasis>) végzi. Ezért az
<application>MPlayer</application> parancssorában ugyan azokat a kulcsokat
használhatod, mint a vo_server-rel. Ráadásul ismeri a <option>-double</option>
kulcsot mint globálisan látható paramétert. (Javaslom ezen kulcs VIDIX-szel
történő használatát legalább az ATI kártyával). Ami a <option>-vo xvidix</option>-et
illeti, most csak a következő kapcsolókat ismeri: <option>-fs -zoom -x -y -double</option>.
</para>
</formalpara>

<para>
A parancssorban harmadik alkapcsolóként megadhatod közvetlenül a VIDIX vezérlőjét:
<screen>
mplayer -vo xvidix:mga_vid.so -fs -zoom -double <replaceable>file.avi</replaceable>
</screen>
vagy
<screen>
mplayer -vo vesa:vidix:radeon_vid.so -fs -zoom -double -bpp 32 <replaceable>file.avi</replaceable>
</screen>
De ez veszélyes, inkább ne használd. Ebben az esetben a megadott vezérlő
lesz kényszerítve, így az eredmény megjósolhatatlan
(<emphasis role="bold">lefagyaszthatja</emphasis> a számítógéped). CSAK akkor
csinálj ilyet, ha teljesen biztos vagy benne, hogy működik és az
<application>MPlayer</application> nem teszi meg automatikusan. Ez esetben
kérjük jelezd ezt a fejlesztőknek is. A helyes módszer a VIDIX argumentumok
nélküli használata, és így az automatikus detektálás engedélyezése.
</para>


<sect2 id="svgalib_helper">
<title>svgalib_helper</title>

<para>
Mivel a VIDIX-nek direkt hardver elérés kell, futtathatod root-ként vagy
beállíthatod a SUID bit-et az <application>MPlayer</application> binárisán
(<emphasis role="bold">Figyelem: Ez biztonsági kockázatot jelent!</emphasis>).
Alternatívaként használhatsz egy speciális kernel modult, így:
</para>

<procedure>
<step><para>
  Töltsd le az svgalib (pl. 1.9.x-es)
  <ulink url="http://www.arava.co.il/matan/svgalib/">fejlesztői verzióját</ulink>.
</para></step>
<step><para>
  Fordítsd le a modult az
  <filename class="directory">svgalib_helper</filename> könyvtárban (az
  <filename class="directory">svgalib-1.9.17/kernel/</filename> könyvtáron
  belül található, ha az svgalib oldaláról töltötted le a forrást) és insmod-old.
</para></step>
<step><para>
  A <filename class="directory">/dev</filename> könyvtárban a megfelelő
  eszközök létrehozásához add ki a
  <screen>make device</screen> parancsot az
  <filename class="directory">svgalib_helper</filename> könyvtárban rootként.
</para></step>
<step><para>
  Ezután futtasd le a <filename>configure</filename>-t újra és add meg neki a
  <option>--enable-svgalib_helper</option> és a
  <option>--with-extraincdir=<replaceable>/eleresi/ut/svgalib_helper/forrasahoz/</replaceable>kernel/svgalib_helper</option>
  paramétereket, ahol a <replaceable>/eleresi/ut/svgalib_helper/forrasahoz/</replaceable> könyvtárat
  az svgalib_helper kicsomagolt forrását tartalmazó könyvtárnak megfelelően kell beállítani.
</para></step>
<step><para>
  Forgass újra.
</para></step>
</procedure>
</sect2>


<sect2 id="vidix-ati">
<title>ATI kártyák</title>

<para>
Jelenleg a legtöbb ATI kártya natívan támogatott, a Mach64-től a
legújabb Radeonokig.
</para>

<para>
Két lefordított bináris van: <filename>radeon_vid</filename> a Radeonhoz és
<filename>rage128_vid</filename> a Rage 128 kártyákhoz. Előírhatsz egyet vagy
hagyhatod a VIDIX rendszernek automatikusan kipróbálni az összes elérhető vezérlőt.
</para>
</sect2>


<sect2 id="vidix-mga">
<title>Matrox kártyák</title>

<para>
A Matrox G200, G400, G450 és G550 működik a jelentések szerint.
</para>

<para>
A vezérlő támogatja a videó equalizereket és majdnem olyan gyors, mint a
<link linkend="mga_vid">Matrox framebuffer</link>.
</para>
</sect2>


<sect2 id="vidix-trident">
<title>Trident kártyák</title>

<para>
Van egy vezérlő a Trident Cyberblade/i1 chipset-hez, ami
a VIA Epia alaplapokon található.
</para>

<para>
A vezérlőt
<ulink url="http://www.blackfiveservices.co.uk/EPIAVidix.shtml">Alastair M. Robinson</ulink>
írta és tartja karban.
</para>
</sect2>


<sect2 id="vidix-3dlabs">
<title>3DLabs kártyák</title>

<para>
Habár van vezérlő a 3DLabs GLINT R3 és Permedia3 chip-ekhez, senki sem
tesztelte le, így örömmel fogadjuk a jelentéseket.
</para>
</sect2>


<sect2 id="vidix-nvidia">
<title>nVidia kártya</title>

<para>
Egy egyedülálló tulajdonsága az nvidia_vid vezérlőnek a
<emphasis role="bold">sima, egyszerű, csak szöveges konzolon</emphasis> történő
videó megjelenítés - framebuffer vagy X varázslat és egyebek nélkül. Ehhez a
<option>cvidix</option> videó kimenetet kell használni, amint az itt látható:
<screen>mplayer -vo cvidix <replaceable>pelda.avi</replaceable></screen>
</para>
</sect2>


<sect2 id="vidix-sis">
<title>SiS kártyák</title>

<para>
Ez nagyon kísérleti kód, csakúgy mint az nvidia_vid.
</para>

<para>
Tesztelték SiS 650/651/740-en (a leggyakrabban használt SiS chipset verziók
a "Shuttle XPC" dobozokban).
</para>

<para>
Várjuk a visszajelzéseket!
</para>
</sect2>
</sect1>

<!-- ********** -->

<sect1 id="directfb">
<title>DirectFB</title>

<blockquote><para>
"A DirectFB egy grafikus függvénykönyvtár, amit a beágyazott rendszereket szem előtt
tartva terveztek meg. Maximális hardver gyorsítási teljesítményt ad minimális erőforrás
felhasználással és terheléssel." - idézet a
<ulink url="http://www.directfb.org"/> oldalról.
</para></blockquote>

<para>Ki fogom hagyni a DirectFB tulajdonságokat ebből a fejezetből.</para>

<para>
Mivel az <application>MPlayer</application> nem támogatott, mint "video
provider" a DirectFB-ben, ez a kimeneti vezérlő engedélyezi a videó
lejátszást DirectFB-n keresztül. Természetesen gyorsított lesz, az én
Matrox G400-amon a DirectFB sebessége majdnem megegyezik az XVideo-éval.
</para>

<para>
Mindig próbáld meg a DirectFB legújabb verzióját használni. Megadhatsz
DirectFB opciókat a parancssorban a <option>-dfbopts</option> kapcsoló használatával.
A réteg választás egy aleszköz módszerével történhet, pl.: <option>-vo directfb:2</option>
(-1-es réteg az alapértelmezett: automatikus keresés)
</para>
</sect1>

<!-- ********** -->

<sect1 id="dfbmga">
<title>DirectFB/Matrox (dfbmga)</title>

<para>
Kérjük olvasd el a <link linkend="directfb">fő DirectFB</link> részt az
általános információkért.
</para>

<para>
Ez a videó kimeneti vezérlő engedélyezi a CRTC2-t (a második fejen) a Matrox
G400/G450/G550 kártyákon, a videót az első fejtől
<emphasis role="bold">függetlenül</emphasis> jelenítve meg.
</para>

<para>
Ville Syrjala-nak van egy
<ulink url="http://www.sci.fi/~syrjala/directfb/Matrox_TV-out_README.txt">README</ulink>-je
és egy
<ulink url="http://www.sci.fi/~syrjala/directfb/matrox-tv-out-howto">HOWTO</ulink>-ja
a weboldalán, ami leírja, hogy hogyan hozhatod működésbe a DirectFB TV kimenetet a Matrox kártyákon.
</para>

<note><para>
Az első DirectFB verzió, amit működésre tudtunk bírni a
0.9.17 volt (hibás, kell hozzá az a <systemitem>surfacemanager</systemitem>
javítás a fenti URL-ről). A CRTC2 kód portolását az
<link linkend="mga_vid">mga_vid</link>-be évekig terveztük, a
<ulink url="../../tech/patches.txt">javításokat</ulink> szívesen fogadjuk.
</para></note>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="mpeg_decoders">
<title>MPEG dekóderek</title>

<sect2 id="dvb">
<title>DVB kimenet és bemenet</title>

<para>
Az <application>MPlayer</application> támogatja a Siemens DVB chipset-tel szerelt
kártyákat olyan gyártóktól, mint a Siemens, Technotrend, Galaxis vagy a Hauppauge. A
legújabb DVB vezérlők elérhetőek a
<ulink url="http://www.linuxtv.org">Linux TV oldalról</ulink>.
Ha szoftveres átkódolást akarsz csinálni, legalább egy 1GHz-es CPU-ra lesz szükséged.
</para>

<para>
A configure megtalálja a DVB kártyádat. Ha mégsem, kényszerítheted:
<screen>./configure --enable-dvb</screen>
Ha ost fejléc fájlaid vannak egy nem szabványos elérési útvonalon, add meg:
<screen>
./configure --with-extraincdir=<replaceable>DVB forrás könyvtár</replaceable>/ost/include
</screen>
Majd fordíts és telepíts, mint rendesen.</para>

<formalpara><title>HASZNÁLAT</title>
<para>
A hardveres dekódolás szabványos MPEG-1/2 videó folyamot és/vagy MPEG audiót tartalmazó
fájlok esetén elvégezhető ezzel a paranccsal:
<screen>
mplayer -ao mpegpes -vo mpegpes <replaceable>file.mpg|vob</replaceable>
</screen>
</para>
</formalpara>

<para>
Bármilyen más típusú videó folyam esetén MPEG-1-be történő átkódolás szükséges, ezért
lassú és nem éri meg a vesződést, különösen ha lassú a géped.
Egy ehhez hasonló paranccsal végezhető el:
<screen>
mplayer -ao mpegpes -vo mpegpes <replaceable>yourfile.ext</replaceable>
mplayer -ao mpegpes -vo mpegpes -vf expand <replaceable>yourfile.ext</replaceable>
</screen></para>

<para>
Figyelj rá, hogy a DVB kártyák PAL esetén csak a 288-as és 576-os, NTSC esetén
a 240-es és 480-as magasságokat ismerik. <emphasis role="bold">Muszáj</emphasis>
átméretezned más magassághoz a <option>scale=szélesség:magasság</option>
kapcsolóval és a kívánt szélesség és magasság megadásával a <option>-vf</option>
kapcsolónál. A DVB kártyák számos szélességet elfogadnak, mint például 720, 704,
640, 512, 480, 352 stb. és hardveres méretezést alkalmaznak vízszintes irányban,
így a legtöbb esetben nem kell vízszintesen méretezned. Egy 512x384 (4:3 arányú)
MPEG-4 (DivX)-hez:
<screen>mplayer -ao mpegpes -vo mpegpes -vf scale=512:576</screen>
</para>

<para>
Ha szélesvásznú filmed van és nem akarod átméretezni teljes magasságúra,
használhatod az <option>expand=w:h</option> szűrőt a fekete sávok hozzáadásához.
Egy 640x384 MPEG-4 (DivX) megnézésénél:
<screen>
mplayer -ao mpegpes -vo mpegpes -vf expand=640:576 <replaceable>file.avi</replaceable>
</screen>
</para>

<para>
Ha a CPU-d túl lassú a teljes méretű 720x576 MPEG-4 (DivX)-hez, próbáld meg leméretezni:
<screen>
mplayer -ao mpegpes -vo mpegpes -vf scale=352:576 <replaceable>file.avi</replaceable>
</screen>
</para>

<para>Ha a sebesség nem javul, próbáld meg a függőleges leméretezést is:
<screen>
mplayer -ao mpegpes -vo mpegpes -vf scale=352:288 <replaceable>file.avi</replaceable>
</screen>
</para>

<para>
Az OSD és a feliratokhoz használd az expand szűrő OSD tulajdonságát. Így, az
<option>expand=w:h</option> vagy <option>expand=w:h:x:y</option> helyett írj
<option>expand=w:h:x:y:1</option>-et (az ötödik paraméter, a <option>:1</option>
a végén engedélyezi az OSD render-elést). A képet egy kicsit feljebb szeretnéd
vinnni valószínűleg, hogy nagyobb hely maradjon a feliratoknak. Vagy akár a
feliratokat is felviheted, ha a TV képernyőjén kívülre esnek, használd a
<option>-subpos &lt;0-100&gt;</option> kapcsolót ennek beállításához
(a <option>-subpos 80</option> egy jó választás).
</para>

<para>
A nem-25fps-es filmek PAL TV-n vagy lassú CPU-n való lejátszásához még add hozzá a
<option>-framedrop</option> kapcsolót.
</para>

<para>
Az MPEG-4 (DivX) fájlok méretarányának megtartásához és az optimális méretezési
paraméterekhez (hardveres vízszintes és szoftveres függőleges méretezés a helyes
méretarány megtartásával) használd az új dvbscale szűrőt:
<screen>
for a  4:3 TV: -vf dvbscale,scale=-1:0,expand=-1:576:-1:-1:1
for a 16:9 TV: -vf dvbscale=1024,scale=-1:0,expand=-1:576:-1:-1:1
</screen>
</para>

<formalpara><title>Digital TV (DVB bemeneti modul)</title>
<para>A DVB kártyád segítségével digitalis TV-t is nézhetsz.</para>
</formalpara>

<para>
A <command>scan</command> és <command>szap/tzap/czap/azap</command>
programoknak telepítve kell lenniük; mind benne vannak a drivers
csomagban.
</para>

<para>
Ellenőrizd, hogy a vezérlőid megfelelően működnek egy olyan programmal, mint a
<ulink url="http://sf.net/projects/dvbtools/"><command>dvbstream</command></ulink>
(ez a DVB bemeneti modul alapja).
</para>

<para>
Most már fordíthatsz egy <filename>~/.mplayer/channels.conf</filename>
fájlt, a <command>szap/tzap/czap/azap</command> által elfogadott szintaktikával, vagy
engeded a <command>scan</command>nek, hogy elkészítse neked.
</para>

<para>
Ha több típusú kártyád van (pl. műholdas, földi, kábel és ATSC), a csatorna
fájlokat elmentheted
<filename>~/.mplayer/channels.conf.sat</filename>,
<filename>~/.mplayer/channels.conf.ter</filename>,
<filename>~/.mplayer/channels.conf.cbl</filename>,
és <filename>~/.mplayer/channels.conf.atsc</filename> néven,
így az <application>MPlayer</application>nek implicit javaslod ezen
fájlok használatát a <filename>~/.mplayer/channels.conf</filename> helyett
és csak azt kell megadnod, hogy melyik kártyát akarod használni.
</para>

<para>
Győződj meg róla, hogy <emphasis>csak</emphasis> Free to Air
csatornák vannak a <filename>channels.conf</filename> fájlodban,
különben <application>MPlayer</application> kódolatlan átvitelre fog várni.
</para>

<para>
Az audió és a videó mezőkidben használhatsz kiterjesztett szintaxist:
<option>...:pid[+pid]:...</option> (egyenként maximálisan 6 pid);
ebben az esetben az <application>MPlayer</application> beleveszi a
stream-be az összes jelzett pid-et, plusz a pid 0-t (ami a PAT-ot
tartalmazza). Mindig ajánlott a PMT és MCR pid bevétele minden sorba a
megfelelő csatornáknál (ha ismered őket).
Megadhatsz 8192-őt is, ez kiválaszt minden pid-et ezen a frekvencián,
majd ezután a TAB-bal tudsz váltani a programok között.
Ez nagyobb sávszélességet igényel, de az olcsóbb kártyák mindig átviszik
az összes csatornát legalább a kernelig, így ezeknél nem jelent számottevő
különbséget.
Egyéb lehetőségek: televideo pid, második audió sáv, stb.
</para>

<para>
Ha az <application>MPlayer</application> rendszeren panaszkodik
<screen>"Túl sok videó/audió csomag a bufferben"</screen>
<screen>"Too many video/audio packets in the buffer"</screen>
üzenettel vagy az audió és videó közötti szinkronizáció
növekvő eltérését tapasztalod, nézd meg, hogy van-e PCR pid a folyamban
(szükséges az átvivő bufferelésének történő megfeleléshez) és/vagy
próbáld meg használni a libavformat-ban lévő MPEG-TS demuxer-t a
<option>-demuxer lavf -lavfdopts probesize=128</option>
opció parancssorhoz történő hozzáadásával.
</para>

<para>
A csatornák beállításainak kilistázásához futtast ezt:
<screen>mplayer dvb://</screen>
</para>

<para>
Ha egy adott csatornát akarsz nézni, mint pl. az R1-et, írd be:
<screen>mplayer dvb://<replaceable>R1</replaceable></screen>
</para>

<para>
Ha egynél több kártyád van, meg kell adnod a kártya számát is,
ahol a csatorna látható (pl. 2) az alábbi szintaxissal:
<screen>mplayer dvb://<replaceable>2@R1</replaceable></screen>
</para>

<para>
A csatornaváltáshoz nyomd meg a <keycap>h</keycap> (következő) vagy
a <keycap>k</keycap> (előző) gombot vagy használd az
<link linkend="osdmenu">OSD menü</link>t.
</para>

<para>
Az audió vagy videó folyam ideiglenes kikapcsolásához másold be
a következőket a <filename>~/.mplayer/input.conf</filename> fájlba:
<screen>
% set_property  switch_video -2
&amp; step_property switch_video
? set_property  switch_audio -2
^ step_property switch_audio
</screen>
(A billentyűket átírhatod a kívántra.) Ha megnyomod a switch_x -2 parancshoz
tartozó billentyűt, a megfelelő folyam bezárásra kerül; ha a step_x-hez
tartozót, akkor a folyam újra meg lesz nyitva.
Ügyelj rá, hogy ez a kapcsolási mechanizmus nem a várt módon fog működni,
ha a több audió és videó folyam van.
</para>

<para>
Lejátszás közben (nem rögzítés közben), a dadogás és 'A rendszeret túl lassú ehhez'
üzenetek megelőzése érdekében javasolt a
<screen>
-mc 10 -speed 0.97 -af scaletempo
</screen>
használata a parancssorban, a scaletempo paramétereinek megfelelő beállításával.
</para>

<para>
Ha a <filename>~/.mplayer/menu.conf</filename> fájlod tartalmazza a
<literal>&lt;dvbsel&gt;</literal> bejegyzést, úgy, mint az
<filename>etc/dvb-menu.conf</filename> példafájl (ezt felhasználhatod a
<filename>~/.mplayer/menu.conf</filename> fájl felülírásához), a fő menüben
egy al-menü bejegyzést láthatsz, aminek a segítségével választhatsz a
<filename>channels.conf</filename>-ban előre beállított csatornák közül,
melyet az elérhető kártyák listája követhet, ha egynél több
<application>MPlayer</application> által használható kártya van.
</para>

<para>
Ha el akarod menteni a programot a lemezre, használhatod az alábbi parancsot:
<screen>
mplayer -dumpfile <replaceable>r1.ts</replaceable> -dumpstream dvb://<replaceable>R1</replaceable>
</screen>
</para>

<para>
Ha inkább másik formátumban akarsz rögzíteni (újrakódolni), kiadhatsz egy
ehhez hasonló parancsot:
<screen>
mencoder -o <replaceable>r1.avi</replaceable> -ovc xvid -xvidencopts bitrate=800 \
    -oac mp3lame -lameopts cbr:br=128 -pp=ci dvb://<replaceable>R1</replaceable>
</screen>
</para>

<para>
Olvasd el a man oldalt a kapcsolók listájához, amiket megadhatsz a DVB
bemeneti modulnak.
</para>

<formalpara><title>A JÖVŐ</title>
<para>
Ha kérdésed van vagy további bejelentésekről szeretnél tudomást szerezni és
részt venni a beszélgetéseinkben, csatlakozz az
<ulink url="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-dvb">MPlayer-DVB</ulink>
levelezési listához. Kérjük vedd figyelembe, hogy a lista nyelve az angol.
</para>
</formalpara>

<para>
A jövőben tervezzük a DVB kártyák által biztosított natív OSD használatát az
OSD menü és a feliratok megjelenítéséhez.
</para>
</sect2>

<!-- ********** -->

<sect2 id="dxr2">
<title>DXR2</title>

<para>
Az <application>MPlayer</application> támogatja a hardveresen gyorsított
lejátszást a Creative DXR2 kártyával.
</para>

<para>
Mindenek előtt megfelelően telepített DXR2 vezérlő kell. A vezérlőt és
a telepítési útmutatót megtalálhatod a 
<ulink url="http://dxr2.sf.net/">DXR2 Resource Center</ulink> oldalán.
</para>

<variablelist>
<title>HASZNÁLAT</title>
<varlistentry>
  <term><option>-vo dxr2</option></term>
  <listitem><para>TV kimenet engedélyezése.</para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-vo dxr2:x11</option> vagy <option>-vo dxr2:xv</option></term>
  <listitem><para>Átlapolásos kimenet bekapcsolása X11-en.</para></listitem>
</varlistentry>
<varlistentry>
  <term><option>-dxr2 &lt;opció1:opció2:...&gt;</option></term>
  <listitem><para>
  Ezzel a kapcsolóval a DXR2 vezérlő irányítható.
  </para></listitem>
</varlistentry>
</variablelist>

<para>
A DXR2-n használt átlapolásos chipset elég rossz minőségű, de az alapértelmezett
beállítások mindenkinél működnek. Az OSD használható az átlapolással
(nem TV-n) a színkulcsban történi kirajzolással. Az alapértelmezett színkulcs
beállításokkal változó eredményeket kaphatsz, valószínűleg látni fogod a
színkulcsot a karakterek körül vagy más egyéb érdekes effektet. De ha
megfelelően beállítod a színkulcsot, elfogadható eredményt kapsz.
</para>

<para>Kérjük nézd meg a man oldalt a használható kapcsolókhoz.</para>
</sect2>

<!-- ********** -->

<sect2 id="dxr3">
<title>DXR3/Hollywood+</title>

<para>
Az <application>MPlayer</application> támogatja a hardveresen gyorsított lejátszást
a Creative DXR3 és Sigma Designs Hollywood Plus kártyákkal. Ezek a kártyák
a Sigma Designs em8300 MPEG dekódoló chip-jét használják.
</para>

<para>
Mindenek előtt megfelelően telepített DXR3/H+ vezérlő kell, 0.12.0 verziójú
vagy régebbi. A vezérlőket és a telepítési utasításokat megtalálhatod a
<ulink url="http://dxr3.sf.net/">DXR3 &amp; Hollywood Plus for Linux</ulink>
oldalon. A <filename>configure</filename>nak automatikusan meg kell találnia
a kártyádat, és a fordításnak hiba nélkül le kell futnia.
</para>

<!-- FIXME: find a more clear presentation -->
<variablelist>
<title>HASZNÁLAT</title>
<varlistentry>
<term><option>-vo dxr3:prebuf:sync:norm=x:<replaceable>eszköz</replaceable></option></term>
<listitem><para>
Az <option>overlay</option> az átlapolást aktiválja a TV-out helyett. A helyes
működéshez megfelelően beállított overlay setup kell. A legegyszerűbb út
az átlapolás beállításához először az autocal majd az mplayer futtatása
dxr3 kimenettel és az átlapolás bekapcsolása nélkül futtasd a dxr3view-t. A
dxr3view-ban állíthatsz az átlapolási beállításokon és láthatod az effekteket
valós időben, talán ezt a funkciót az <application>MPlayer</application> GUI
is támogatni fogja a jövőben. Ha az átlapolás megfelelően be lett állítva,
többet nem kell használnod a dxr3view-t. A <option>prebuf</option> bekapcsolja
az előbufferelést. Az előbufferelés az em8300 chip egy olyan képessége, mellyel
egynél több képkockát tud megtartani egy időben. Ez azt jelenti, hogy ha
előbuffereléssel futtatod az <application>MPlayer</application>t, az megpróbálja
folyamatosan tele tartani a videó buffert adatokkal. Ha lassú gépen vagy, az
<application>MPlayer</application> közel vagy pontosan 100% CPU kihasználtságot
fog okozni. Ez különösen gyakori ha egyszerű MPEG streamet játszasz le (pl.
DVD-k, SVCD-k, stb.), mivel ekkor az <application>MPlayer</application>nek nem
kell újrakódolnia MPEG-be, és nagyon gyorsan tölti a buffert.
Az előbuffereléssel a videó lejátszás <emphasis role="bold">sokkal</emphasis>
kevésbé érzékeny az többi program CPU foglalására, nem fog képkockát eldobni,
hacsak az alkalmazások nem foglalják túl hosszú ideig a CPU-t. Ha előbufferelés
nélkül futtatod, az em8300 sokkal érzékenyebb a CPU terhelésre, így nagyon
javasolt, hogy használd az <application>MPlayer</application>
<option>-framedrop</option> kapcsolóját a további szinkronvesztés elkerüléséhez.
A <option>sync</option> bekapcsolja az új szinkron-motort. Ez jelenleg még
egy tesztelés alatt lévő képesség. A bekapcsolt szinkron tulajdonsággal az
em8300 belső órája folyamatosan figyelve lesz, és ha eltér az
<application>MPlayer</application> órájától, resetel, ezzel az em8300-t az
összes hátralévő képkocka eldobására kényszeríti.
A <option>norm=x</option> beállítja a DXR3 kártya TV normáját külső segédeszköz,
pl. em8300setup nélkül. A helyes norma értékek: 5 = NTSC, 4 = PAL-60, 3 = PAL.
Speciális norma a 2 (auto-beállítás PAL/PAL-60 használatával) és az 1
(auto-beállítás PAL/NTSC használatával) mivel ezek a film képkocka rátájának
segítségével állapítják meg a normát. A norm = 0 (alapértelmezett) nem változtat
a jelenlegi normán.
<option><replaceable>eszköz</replaceable></option> = a használni kívánt eszköz
száma több em8300 kártya esetén.
Ezen opciók bármelyike elhagyható.
<option>:prebuf:sync</option> látszólag nagyszerűen működik MPEG-4 (DivX)
filmek lejátszásakor. Többen problémákról számoltak be MPEG-1/2 fájlok
lejátszásakor bekapcsolt prebuf esetén. Először mindenféle opció nélkül nézd
meg, majd ha szinkron vagy DVD felirat problémáid vannak, adj egy esélyt a
<option>:sync</option>-nek.
</para></listitem>
</varlistentry>

<varlistentry>
  <term><option>-ao oss:/dev/em8300_ma-<replaceable>X</replaceable></option></term>
  <listitem><para>
  Audió kimenethez, ahol az <replaceable>X</replaceable> az eszköz száma
  (0 ha egy kártya).
  </para></listitem>
</varlistentry>

<varlistentry>
  <term><option>-af resample=<replaceable>xxxxx</replaceable></option></term>
  <listitem><para>
  A em8300 nem tud lejátszani 44100Hz-nél alacsonyabb mintavételű hangot.
  Ha a mintavételi ráta 44100Hz alatt van, válassz 44100Hz-et vagy 48000Hz-et,
  attól függően, hogy melyik van közelebb. Pl. ha egy film 22050Hz-et használ,
  válaszd a 44100Hz-et, mivel 44100 / 2 = 22050, ha 24000Hz-et, válaszd a
  48000Hz-et, mert 48000 / 2 = 24000 és így tovább.
  Ez nem működik digitális audió kimenettel (<option>-ac hwac3</option>).
  </para></listitem>
</varlistentry>

<varlistentry>
  <term><option>-vf lavc</option></term>
  <listitem><para>
  Nem-MPEG tartalom em8300-on történő nézéséhez (pl. MPEG-4 (DivX) vagy
  RealVideo) meg kell adnod egy MPEG-1 videó szűrőt, mint pl. a
  <systemitem class="library">libavcodec</systemitem> (lavc).
  Lásd a man oldalt a további infókért a <option>-vf lavc</option>
  kapcsolóról.
  Jelenleg nem lehet az em8300 fps értékét
  módosítani, ami azt jelenti, hogy fixen 30000/1001 fps. Emiatt javasolt
  a <option>-vf lavc=<replaceable>minőség</replaceable>:25</option>
  kapcsoló használata, különösen ha előbufferelést használsz. Hogy miért
  25 és nem 30000/1001? Nos, a dolog úgy áll, hogy ha 30000/1001-et
  használsz, a kép kicsit ugrálós lesz. Ennek az okát nem tudjuk. Ha
  beállítod valahova 25 és 27 közé, a kép stabillá válik. Jelenleg mást
  nem tehetünk, elfogadjuk ezt tényként.
  </para></listitem>
</varlistentry>

<varlistentry>
  <term><option>-vf expand=-1:-1:-1:-1:1</option></term>
  <listitem><para>
  Habár a DXR3 vezérlő tud némi OSD-t tenni az MPEG-1/2/4 videóra,
  sokkal rosszabb minősége van, mint az <application>MPlayer</application>
  tradícionális OSD-jének és számos frissítési problémája is van. A fenti
  parancssor először is átkonvertálja a bemeneti videót MPEG-4-be (ez szükséges,
  bocs), majd alkalmazza rá az expand szűrőt, ami nem terjeszt ki semmit
  (-1: alapértelmezett), de a normális OSD-t teszi a képre (ezt csinálja az
  "1" a végén).
  </para></listitem>
</varlistentry>

<varlistentry>
  <term><option>-ac hwac3</option></term>
  <listitem><para>
  A em8300 támogatja az AC-3 audió lejátszását (térhatású hang) a kártya
  digitális audió kimenetén keresztül. Lásd a <option>-ao oss</option>
  kapcsolót fent, a DXR3 kimenetének meghatározására használható a
  hangkártya helyett.
  </para></listitem>
</varlistentry>
</variablelist>
</sect2>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="other">
<title>Egyéb vizualizációs hardverek</title>

<sect2 id="zr">
<title>Zr</title>

<para>
Ez egy képernyő-vezérlő (<option>-vo zr</option>) számos MJPEG
mentő/lejátszó kártyához (DC10+ és Buz-zal tesztelve, és működnie kell
LML33, a DC10 esetén is). A vezérlő úgy működik, hogy kódolja a képkockát
JPEG-be majd kiküldi a kártyára. A JPEG kódoláshoz a
<systemitem class="library">libavcodec</systemitem>-et használja, ami
ezért szükséges hozzá. Egy speciális <emphasis>cinerama</emphasis> móddal
igazi nagyképernyőn nézhetsz filmeket, feltéve, hogy két felvevőd és két
MJPEG kártyád van. A felbontástól és a minőségi beállításoktól függően ez
a vezérlő rengeteg CPU erőt igényel, ne felejtsd el megadni a
<option>-framedrop</option> kapcsolót, ha lassú a géped. Megjegyzés: Az
én AMD K6-2 350MHz-es gépem (<option>-framedrop</option>-pal) eléggé
elfogadható volt VCD méretű anyag nézésekor és leméretezett filmnél.
</para>

<para>
Ez a vezérlő a
<ulink url="http://mjpeg.sf.net"/> címen található kernel
vezérlővel társalog, így először ezt kell beizzítanod. Az MJPEG kártya
jelenléte automatikusan detektálva lesz a <filename>configure</filename>
script által, ha ez nem sikerül, kényszerítsd a detektálásra a
<screen>./configure --enable-zr</screen> kapcsolóval.
</para>

<para>
A kimenet számos kapcsolóval szabályozható, a kapcsolók hosszú leírással
megtalálhatóak a man oldalon, egy rövidebb listát a
<screen>mplayer -zrhelp</screen>
parancs lefuttatásával kaphatsz.
</para>

<para>
Az olyan dolgokat, mint méretezés és OSD (on screen display) ez a vezérlő
nem kezeli, de megoldhatóak videó szűrőkkel. Például tegyük fel, hogy van
egy filmed 512x272-es felbontással és teljes képernyőn akarod nézni a
DC10+-eden. Három lehetőséged van, méretezned kell a filmet 768, 384 vagy
192-es szélességre. Teljesítmény és minőségi okokból én a 384x204-re való
méretezést választanám, gyors bilineáris szoftveres méretező használatával.
A parancssor:
<screen>
mplayer -vo zr -sws 0 -vf scale=384:204 <replaceable>movie.avi</replaceable>
</screen>
</para>

<para>
A levágás a <option>crop</option> szűrő segítségével valósítható meg és
magával a vezérlővel. Feltéve, hogy a film túl széles a megjelenítéshez
a Buz-odon és hogy a <option>-zrcrop</option>-ot akarod használni a film
szűkítéséhez, a következő parancs a te barátod:
<screen>
mplayer -vo zr -zrcrop 720x320+80+0 <replaceable>benhur.avi</replaceable>
</screen>
</para>

<para>
Ha használni akarod a <option>crop</option> szűrőt, ez kell:
<screen>
mplayer -vo zr -vf crop=720:320:80:0 <replaceable>benhur.avi</replaceable>
</screen>
</para>

<para>
Extra esetben a <option>-zrcrop</option> meghívja a
<emphasis>cinerama</emphasis> módot, pl. a filmet több TV vagy beamer
között sugározhatod egy nagyobb kép létrehozásához. Feltéve, hogy két
beamer-ed van. A bal oldali a Buz-odhoz csatlakozik a
<filename>/dev/video1</filename>-en, a jobb oldali a DC10+-odhoz a
<filename>/dev/video0</filename>-án. A film felbontása 704x288. Továbbá
tegyük fel azt is, hogy a jobb beamer-t fekete-fehéren szeretnéd, a
balnak pedig 10-es minőségű JPEG képeket kell adnia. Ekkor a következő
parancsot kell használnod:
<screen>
mplayer -vo zr -zrdev /dev/video0 -zrcrop 352x288+352+0 -zrxdoff 0 -zrbw \
    -zrcrop 352x288+0+0 -zrdev /dev/video1 -zrquality 10 \
	<replaceable>movie.avi</replaceable>
</screen>
</para>

<para>
Láthatod, hogy a második <option>-zrcrop</option> előtt feltűnő opciók
csak a DC10+-re, a második <option>-zrcrop</option> után lévők csak a
Buz-ra vonatkoznak. A <emphasis>cinerama</emphasis>-ban használható
MJPEG kártyák maximális száma négy, így egy 2x2-es vidi-falat
építhetsz.
</para>

<para>
Végül egy fontos megjegyzés: Ne indítsd el vagy állítsd meg a XawTV-t a lejátszó
eszközön a lejátszás alatt, ez összeomlasztja a számítógépedet. Legjobb
<emphasis role="bold">ELŐSZÖR</emphasis> elindítani a XawTV-t,
<emphasis role="bold">EZUTÁN</emphasis> elindítani az <application>MPlayer</application>t,
várni, míg az <application>MPlayer</application>
végez, és <emphasis role="bold">EZUTÁN</emphasis> megállítani a XawTV-t.
</para>
</sect2>

<!-- ********** -->

<sect2 id="blinkenlights">
<title>Blinkenlights</title>

<para>
Ez a vezérlő képes a lejátszásra a Blinkenlights UDP protokol felhasználásával.
Ha nem tudod, hogy mi az a <ulink url="http://www.blinkenlights.de/">Blinkenlights</ulink>,
vagy az utóda az <ulink url="http://www.blinkenlights.de/arcade/">Arcade</ulink>,
nézz utána. Habár ez a legutoljára használt videó kimeneti vezérlő, kétségkívül ez
a legjobb, amit az <application>MPlayer</application> nyújtani tud. Csak nézz meg
pár <ulink url="http://www.blinkenlights.de/video.en.html">Blinkenlights dokumentációs
videót</ulink>.
Az Arcade videóban láthatod a Blinkenlights kimeneti vezérlőt akcióban a
00:07:50-en.
</para>
</sect2>
</sect1>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<sect1 id="tvout">
<title>TV-kimenet támogatás</title>

<sect2 id="tvout-mga-g400">
<title>Matrox G400 kártyák</title>

<para>
Linux alatt két módon bírhatod működésre a G400 TV kimenetét:
</para>

<important>
<para>
a Matrox G450/G550 TV-kimenet utasításaiért lásd a következő részt!
</para>
</important>

<variablelist>
<varlistentry>
  <term>XFree86</term>
  <listitem>
    <para>
    A vezérlő és a HAL modul használatával, mely elérhető a <ulink
    url="http://www.matrox.com">Matrox oldalán</ulink>. Ezzel X-et
    kapsz a TV-n.
    </para>
    <para>
    <emphasis role="bold">Ez a módszer nem nyújt gyorsított lejátszást</emphasis>
    Windows alatt! A második fejnek csak YUV framebuffer-e van, a <emphasis>BES</emphasis>
    (Back End Scaler, a YUV méretező a G200/G400/G450/G550 kártyákon) nem
    működik rajta! A Windows-os vezérlők ezt valahogy megkerülik, talán 3D
    motort használnak a nagyításhoz és a YUV framebuffer-t a nagyított
    képek megjelenítéséhez. Ha tényleg X-et akarsz használni, válaszd a
    <option>-vo x11 -fs -zoom</option> kapcsolókat, de
    <emphasis role="bold">LASSÚ</emphasis> lesz,
    és <emphasis role="bold">Macrovision</emphasis> másolásvédelem van rajta
    (ezzel a <ulink url="http://avifile.sf.net/mgamacro.pl">Perl script</ulink>-tel
    "megkerülheted" a Macrovisiont).
    </para>
  </listitem>
</varlistentry>
<varlistentry>
  <term>Framebuffer</term>
  <listitem>
    <para>
    A 2.4-es kernelekben lévő <emphasis role="bold">matroxfb modulok</emphasis>
    használatával. A 2.2-es kernel-ekben nincs TV-out tulajdonság hozzájuk, így
    használhatatlanok erre. Engedélyezned kell az ÖSSZES matroxfb-specifikus
    tulajdonságot a fordítás alatt (kivéve a MultiHead-et) és
    <emphasis role="bold">modulokba</emphasis> kell fordítanod!
    Az I2C-t is engedélyezned kell és a
    <application>matroxset</application>, <application>fbset</application>
    és <application>con2fb</application> eszközöknek az elérési úton kell lenniük.
    </para>

    <procedure>
    <step><para>
      Majd töltsd be a <systemitem>matroxfb_Ti3026, matroxfb_maven, i2c-matroxfb,
      matroxfb_crtc2</systemitem> modulokat a kerneledbe. A szöveges-módú
      konzolod framebuffer módba vált (nincs visszaút!).
    </para></step>
    <step><para>
      Ezután állítsd be a monitorod és a TV-t a kedvednek megfelelően a fenti eszközökkel.
    </para></step>
    <step><para>
      Yoh. A következő dolog, hogy a kurzort eltűntesd a tty1-ről (vagy
      akármiről) és kikapcsold a képernyő törlést. Futtasd le a következő
      parancsokat:

      <screen>
echo -e '\033[?25l'
setterm -blank 0<!--
   --></screen>
      vagy
      <screen>
setterm -cursor off
setterm -blank 0<!--
   --></screen>

      A fentieket valószínűleg beleírod egy script-be, egy képernyő
      törléssel együtt. A kurzor visszakapcsolása:
      <screen>echo -e '\033[?25h'</screen> vagy
      <screen>setterm -cursor on</screen>
    </para></step>
    <step><para>
      Yeah sirály. Indítsd el a film lejátszást:
      <screen>
mplayer -vo mga -fs -screenw 640 -screenh 512 <replaceable>filename</replaceable><!--
   --></screen>

      (Ha X-et használsz, most válts át matroxfb-re, például a
      <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>F1</keycap></keycombo> gombokkal.)
      Változtasd meg a <literal>640</literal>-et és az <literal>512</literal>-t,
      ha másra állítottad a felbontást...
    </para></step>
    <step><para>
      <emphasis role="bold">Élvezd az ultra-gyors ultra-különleges Matrox TV
      kimenetet (jobb mint az Xv)!</emphasis>
    </para></step>
    </procedure>
  </listitem>
</varlistentry>
</variablelist>
</sect2>

<!-- ********** -->

<sect2 id="tv-out_matrox_g450">
<title>Matrox G450/G550 kártyák</title>

<para>
A TV kimenet támogatása ezeken a kártyákon csak nemrég jelent meg, és még
nincs a a fő kernelben. Jelenleg az <emphasis role="bold">mga_vid</emphasis>
modul nem használható AFAIK, mert a G450/G550-es vezérlő csak egy konfigurációban
működik: az első CRTC chip (a sokkal több képességgel) az első képernyőn
(a monitoron) és a második CRTC (nincs <emphasis role="bold">BES</emphasis> - a
BES magyarázatához lásd a G400-as részt fent) TV-n. Így csak az
<application>MPlayer</application> <emphasis>fbdev</emphasis> kimeneti
vezérlőjét használhatod jelenleg.
</para>

<para>
Az első CRTC nem irányítható át a második fejre jelenleg. A matroxfb kernel
vezérlő szerzője - Petr Vandrovec - talán készít támogatást ehhez, az
első CRTC kimenetét egyszerre mindkét fejen megjelenítve, mint ahogy most is
javasolt a G400-on, lásd a fenti részt.
</para>

<para>
A szükséges kernel javítás és a bővebb HOWTO letölthető:
<ulink url="http://www.bglug.ca/matrox_tvout/"/>
</para>
</sect2>

<!-- ********** -->

<sect2 id="tv-out_matrox_cable">
<title>Matrox TV-kimeneti kábel készítése</title>
<para>
Senki sem vállal ezért semmilyen felelősséget, sem garanciát bármilyen,
ezen leírásból származó kárért.
</para>

<formalpara><title>Kábel a G400-hoz</title>
<para>
A CRTC2 csatlakozójának negyedik pin-je a kompozit videó jel. A
földelés a hatodik, hetedik és nyolcadik pin. (az infót Rácz Balázs
adta)
</para>
</formalpara>

<formalpara><title>Kábel a G450-hez</title>
<para>
A CRTC2 csatlakozójának első pin-je a kompozit videó jel. A
földelés az ötödik, hatodik, hetedik és tizenötödik (5, 6, 7, 15)
pin. (az infót Kerekes Balázs adta)
</para>
</formalpara>
</sect2>

<!-- ********** -->

<sect2 id="tvout-ati">
<title>ATI kártyák</title>

<formalpara><title>BEVEZETÉS</title>
<para>
Jelenleg az ATI nem akarja támogatni semelyik TV-out chip-jét sem Linux alatt,
a licenszelt Macrovision technológiájuk miatt.
</para>
</formalpara>

<itemizedlist>
<title>ATI KÁRTYÁK TV-KIMENETÉNEK ÁLLAPOTA LINUXON</title>
<listitem><para>
  <emphasis role="bold">ATI Mach64</emphasis>:
  támogatja a <ulink url="http://gatos.sf.net">GATOS</ulink>.
</para></listitem>
<listitem><para>
  <emphasis role="bold">ASIC Radeon VIVO</emphasis>:
  támogatja a <ulink url="http://gatos.sf.net">GATOS</ulink>.
</para></listitem>
<listitem><para>
  <emphasis role="bold">Radeon</emphasis> és <emphasis role="bold">Rage128</emphasis>:
  támogatja az <application>MPlayer</application>!
  Lásd a <link linkend="vesa">VESA vezérlő</link> és
  a <link linkend="vidix">VIDIX</link> részt.
</para></listitem>
<listitem><para>
  <emphasis role="bold">Rage Mobility P/M, Radeon, Rage 128, Mobility M3/M4</emphasis>:
  támogatja az
  <ulink url="http://www.stud.uni-hamburg.de/users/lennart/projects/atitvout/">atitvout</ulink>.
</para></listitem>
</itemizedlist>

<para>
Egyéb kártyák esetében lásd a <link linkend="vesa">VESA</link> vezérlőt,
VIDIX nélkül. Bár ehhez erős CPU kell.
</para>

<para>
Az egyeten dolog, amit tenned kell - <emphasis role="bold">Be kell dugnod a
TV csatlakozóját, mielőtt bekapcsolnád a PC-t</emphasis> mivel a videó BIOS
csak egyszer, a POST folyamat során inicializálja magát.
</para>
</sect2>

<!-- ********** -->

<sect2 id="tvout-nvidia">
<title>nVidia</title>

<para>
Először le KELL töltened a zárt-forrású vezérlőt az
<ulink url="http://nvidia.com"/>-ról.
Nem írom le a telepítés és a konfiguráció lépéseit, mert ez nem tartozik
ezen dokumentáció céljához.
</para>

<para>
Miután az XFree86, az XVideo és a 3D gyorsítás is megfelelően működik,
írd át a kártya Device részét az <filename>XF86Config</filename> fájlban,
a következő példának megfelelően (a te kártyádhoz/TV-dhez igazítva):

<programlisting>
Section "Device"
        Identifier      "GeForce"
        VendorName      "ASUS"
        BoardName       "nVidia GeForce2/MX 400"
        Driver          "nvidia"
        #Option         "NvAGP" "1"
        Option          "NoLogo"
        Option          "CursorShadow"  "on"

        Option          "TwinView"
        Option          "TwinViewOrientation" "Clone"
        Option          "MetaModes" "1024x768,640x480"
        Option          "ConnectedMonitor" "CRT, TV"
        Option          "TVStandard" "PAL-B"
        Option          "TVOutFormat" "Composite"
EndSection
</programlisting>
</para>

<para>
Természetesen a legfontosabb a TwinView rész.
</para>
</sect2>

<!-- ********** -->

<sect2 id="tvout-neomagic">
<title>NeoMagic</title>

<para>
A NeoMagic chip számos laptop-ban megtalálható, pár közülük egy egyszerű
analóg TV kódolóval van felszerelve, mások sokkal fejlettebbel rendelkeznek.
<itemizedlist>
<listitem><para>
  <emphasis role="bold">Analóg kódoló chip</emphasis>:
  A visszajelzések szerint megbízható TV kimenet a <option>-vo fbdev</option>
  vagy <option>-vo fbdev2</option> kapcsolókkal érhető el.
  Kernelbe forgatott vesafb szükséges és a következő paramétereket
  kell megadni a kernel parancssorában:
  <option>append="video=vesafb:ywrap,mtrr" vga=791</option>.
  Ajánlott elindítani az <application>X</application>-et, majd átváltani
  konzol módba pl. a
  <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>F1</keycap></keycombo>-gyel.
  Ha nem sikerül elindítani az <application>X</application>-et az
  <application>MPlayer</application> konzolból történő elindítása előtt,
  a videó lassú és zavaros lesz (a magyarázatokat szívesen fogadjuk).
  Jelentkezz be a konzolodra majd add ki a következő parancsot:

  <screen>clear; mplayer -vo fbdev -zoom -cache 8192 dvd://</screen>

  Ezután a filmet konzol módban, kb. a laptop LCD képernyőjének felét
  kitöltve kell látnod.
  A TV-re váltáshoz nyomd meg az <keycombo><keycap>Fn</keycap><keycap>F5</keycap></keycombo>-öt
  háromszor. Tesztelve Tecra 8000-en, 2.6.15 kernel vesafb-vel, ALSA v1.0.10-en.
</para></listitem>
<listitem>
  <para>
  <emphasis role="bold">Chrontel 70xx kódoló chip</emphasis>:
  Az IBM Thinkpad 390E és talán más Thinkpad-okban és notebook-okban található.
  </para><para>
  A <option>-vo vesa:neotv_pal</option>-t kell használnod a PAL-hoz vagy
  a <option>-vo vesa:neotv_ntsc</option>-t az NTSC-hez.
  TV kimenetet biztosít az alábbi 16 bpp és 8 bpp módokban:
  </para>
  <itemizedlist>
    <listitem><para>NTSC 320x240, 640x480 és talán 800x600 is.</para></listitem>
    <listitem><para>PAL  320x240, 400x300, 640x480, 800x600.  </para></listitem>
  </itemizedlist>
  <para>Az 512x384-es módot nem támogatja a BIOS. Át kell méretezned a képet
  egy másik felbontásra a TV kimenet aktiválásához. Ha egy képet látsz a
  képernyőn 640x480-ban vagy 800x600-ban, de semmit 320x240-ben vagy kisebb
  felbontáson, ki kell cserélned két táblázatot a <filename>vbelib.c</filename>
  fájlban. Lásd a vbeSetTV függvényeket a részletekért. Kérlek keresd meg a szerzőt
  ebben az esetben.
  </para>
  <para>
  Ismert dolgok: Csak VESA, semmilyen más beállítás, pl. fényesség, kontraszt,
  blacklevel, flickfilter nincs implementálva.
  </para>
</listitem>
</itemizedlist>
</para>
</sect2>
</sect1>

</chapter>
